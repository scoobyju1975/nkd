if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(e=!e),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;e.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=t(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),l=s?"toggle":r.data(),c=r.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(a,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](i):a.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(a);l&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),u=r[0].offsetWidth,d=r[0].offsetHeight;if(l){var f=a,p=this.$element.parent(),h=this.getPosition(p);a="bottom"==a&&c.top+c.height+d-h.scroll>h.height?"top":"top"==a&&c.top-h.scroll-d<0?"bottom":"right"==a&&c.right+u>h.width?"left":"left"==a&&c.left-u<h.left?"right":a,r.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,c,u,d);this.applyPlacement(g,a);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-r+l:2*u.top-o+c,f=u.left?"left":"top",p=u.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=e.left-o,u=e.left+o+n;c<a.left?r.left=a.left-c:u>a.width&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<=r[0])return a!=(t=o[0])&&this.activate(t);for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=!(null!=this.unpin&&i+this.unpin<=r.top)&&(null!=s&&r.top+this.$element.height()>=e-s?"bottom":null!=a&&a>=i&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(){var t=this,e=t._,n=Array.prototype,i=Object.prototype,r=Function.prototype,o=n.push,a=n.slice,s=n.concat,l=i.toString,c=i.hasOwnProperty,u=Array.isArray,d=Object.keys,f=r.bind,p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),
exports._=p):t._=p,p.VERSION="1.7.0";var h=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}};p.iteratee=function(t,e,n){return null==t?p.identity:p.isFunction(t)?h(t,e,n):p.isObject(t)?p.matches(t):p.property(t)},p.each=p.forEach=function(t,e,n){if(null==t)return t;e=h(e,n);var i,r=t.length;if(r===+r)for(i=0;r>i;i++)e(t[i],i,t);else{var o=p.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},p.map=p.collect=function(t,e,n){if(null==t)return[];e=p.iteratee(e,n);for(var i,r=t.length!==+t.length&&p.keys(t),o=(r||t).length,a=Array(o),s=0;o>s;s++)i=r?r[s]:s,a[s]=e(t[i],i,t);return a};var g="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(t,e,n,i){null==t&&(t=[]),e=h(e,i,4);var r,o=t.length!==+t.length&&p.keys(t),a=(o||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[o?o[s++]:s++]}for(;a>s;s++)r=o?o[s]:s,n=e(n,t[r],r,t);return n},p.reduceRight=p.foldr=function(t,e,n,i){null==t&&(t=[]),e=h(e,i,4);var r,o=t.length!==+t.length&&p.keys(t),a=(o||t).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[o?o[--a]:--a]}for(;a--;)r=o?o[a]:a,n=e(n,t[r],r,t);return n},p.find=p.detect=function(t,e,n){var i;return e=p.iteratee(e,n),p.some(t,function(t,n,r){return e(t,n,r)?(i=t,!0):void 0}),i},p.filter=p.select=function(t,e,n){var i=[];return null==t?i:(e=p.iteratee(e,n),p.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i)},p.reject=function(t,e,n){return p.filter(t,p.negate(p.iteratee(e)),n)},p.every=p.all=function(t,e,n){if(null==t)return!0;e=p.iteratee(e,n);var i,r,o=t.length!==+t.length&&p.keys(t),a=(o||t).length;for(i=0;a>i;i++)if(r=o?o[i]:i,!e(t[r],r,t))return!1;return!0},p.some=p.any=function(t,e,n){if(null==t)return!1;e=p.iteratee(e,n);var i,r,o=t.length!==+t.length&&p.keys(t),a=(o||t).length;for(i=0;a>i;i++)if(r=o?o[i]:i,e(t[r],r,t))return!0;return!1},p.contains=p.include=function(t,e){return null!=t&&(t.length!==+t.length&&(t=p.values(t)),p.indexOf(t,e)>=0)},p.invoke=function(t,e){var n=a.call(arguments,2),i=p.isFunction(e);return p.map(t,function(t){return(i?e:t[e]).apply(t,n)})},p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matches(e))},p.findWhere=function(t,e){return p.find(t,p.matches(e))},p.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:p.values(t);for(var s=0,l=t.length;l>s;s++)i=t[s],i>o&&(o=i)}else e=p.iteratee(e,n),p.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},p.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:p.values(t);for(var s=0,l=t.length;l>s;s++)i=t[s],o>i&&(o=i)}else e=p.iteratee(e,n),p.each(t,function(t,n,i){r=e(t,n,i),(a>r||1/0===r&&1/0===o)&&(o=t,a=r)});return o},p.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:p.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=p.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},p.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=p.values(t)),t[p.random(t.length-1)]):p.shuffle(t).slice(0,Math.max(0,e))},p.sortBy=function(t,e,n){return e=p.iteratee(e,n),p.pluck(p.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var m=function(t){return function(e,n,i){var r={};return n=p.iteratee(n,i),p.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};p.groupBy=m(function(t,e,n){p.has(t,n)?t[n].push(e):t[n]=[e]}),p.indexBy=m(function(t,e,n){t[n]=e}),p.countBy=m(function(t,e,n){p.has(t,n)?t[n]++:t[n]=1}),p.sortedIndex=function(t,e,n,i){n=p.iteratee(n,i,1);for(var r=n(e),o=0,a=t.length;a>o;){var s=o+a>>>1;n(t[s])<r?o=s+1:a=s}return o},p.toArray=function(t){return t?p.isArray(t)?a.call(t):t.length===+t.length?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:t.length===+t.length?t.length:p.keys(t).length},p.partition=function(t,e,n){e=p.iteratee(e,n);var i=[],r=[];return p.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},p.first=p.head=p.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},p.initial=function(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},p.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},p.rest=p.tail=p.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},p.compact=function(t){return p.filter(t,p.identity)};var v=function(t,e,n,i){if(e&&p.every(t,p.isArray))return s.apply(i,t);for(var r=0,a=t.length;a>r;r++){var l=t[r];p.isArray(l)||p.isArguments(l)?e?o.apply(i,l):v(l,e,n,i):n||i.push(l)}return i};p.flatten=function(t,e){return v(t,e,!1,[])},p.without=function(t){return p.difference(t,a.call(arguments,1))},p.uniq=p.unique=function(t,e,n,i){if(null==t)return[];p.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=p.iteratee(n,i));for(var r=[],o=[],a=0,s=t.length;s>a;a++){var l=t[a];if(e)a&&o===l||r.push(l),o=l;else if(n){var c=n(l,a,t);p.indexOf(o,c)<0&&(o.push(c),r.push(l))}else p.indexOf(r,l)<0&&r.push(l)}return r},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var o=t[i];if(!p.contains(e,o)){for(var a=1;n>a&&p.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},p.difference=function(t){var e=v(a.call(arguments,1),!0,!0,[]);return p.filter(t,function(t){return!p.contains(e,t)})},p.zip=function(t){if(null==t)return[];for(var e=p.max(arguments,"length").length,n=Array(e),i=0;e>i;i++)n[i]=p.pluck(arguments,i);return n},p.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},p.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=p.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(t[i]===e)return i;return-1},p.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=t.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(t[i]===e)return i;return-1},p.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var y=function(){};p.bind=function(t,e){var n,i;if(f&&t.bind===f)return f.apply(t,a.call(arguments,1));if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));y.prototype=t.prototype;var r=new y;y.prototype=null;var o=t.apply(r,n.concat(a.call(arguments)));return p.isObject(o)?o:r}},p.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===p&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},p.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=p.bind(t[n],t);return t},p.memoize=function(t,e){var n=function(i){var r=n.cache,o=e?e.apply(this,arguments):i;return p.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},p.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},p.defer=function(t){return p.delay.apply(p,[t,1].concat(a.call(arguments,1)))},p.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:p.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var c=p.now();s||n.leading!==!1||(s=c);var u=e-(c-s);return i=this,r=arguments,0>=u||u>e?(clearTimeout(a),a=null,s=c,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},p.debounce=function(t,e,n){var i,r,o,a,s,l=function(){var c=p.now()-a;e>c&&c>0?i=setTimeout(l,e-c):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=p.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(s=t.apply(o,r),o=r=null),s}},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},p.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},p.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},p.once=p.partial(p.before,2),p.keys=function(t){if(!p.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)p.has(t,n)&&e.push(n);return e},p.values=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},p.pairs=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},p.invert=function(t){for(var e={},n=p.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},p.functions=p.methods=function(t){var e=[];for(var n in t)p.isFunction(t[n])&&e.push(n);return e.sort()},p.extend=function(t){if(!p.isObject(t))return t;for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)c.call(e,n)&&(t[n]=e[n])}return t},p.pick=function(t,e,n){var i,r={};if(null==t)return r;if(p.isFunction(e)){e=h(e,n);for(i in t){var o=t[i];e(o,i,t)&&(r[i]=o)}}else{var l=s.apply([],a.call(arguments,1));t=new Object(t);for(var c=0,u=l.length;u>c;c++)i=l[c],i in t&&(r[i]=t[i])}return r},p.omit=function(t,e,n){if(p.isFunction(e))e=p.negate(e);else{var i=p.map(s.apply([],a.call(arguments,1)),String);e=function(t,e){return!p.contains(i,e)}}return p.pick(t,e,n)},p.defaults=function(t){if(!p.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t};var b=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var r=l.call(t);if(r!==l.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]===t)return i[o]===e;var a=t.constructor,s=e.constructor;if(a!==s&&"constructor"in t&&"constructor"in e&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(s)&&s instanceof s))return!1;n.push(t),i.push(e);var c,u;if("[object Array]"===r){if(c=t.length,u=c===e.length)for(;c--&&(u=b(t[c],e[c],n,i)););}else{var d,f=p.keys(t);if(c=f.length,u=p.keys(e).length===c)for(;c--&&(d=f[c],u=p.has(e,d)&&b(t[d],e[d],n,i)););}return n.pop(),i.pop(),u};p.isEqual=function(t,e){return b(t,e,[],[])},p.isEmpty=function(t){if(null==t)return!0;if(p.isArray(t)||p.isString(t)||p.isArguments(t))return 0===t.length;for(var e in t)if(p.has(t,e))return!1;return!0},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=u||function(t){return"[object Array]"===l.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){p["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return p.has(t,"callee")}),"function"!=typeof/./&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&t!==+t},p.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){return null!=t&&c.call(t,e)},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(t){return function(e){return e[t]}},p.matches=function(t){var e=p.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;n>i;i++){var r=e[i],o=r[0];if(r[1]!==t[o]||!(o in t))return!1}return!0}},p.times=function(t,e,n){var i=Array(Math.max(0,t));e=h(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=p.invert(w),S=function(t){var e=function(e){return t[e]},n="(?:"+p.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};p.escape=S(w),p.unescape=S(x),p.result=function(t,e){if(null!=t){var n=t[e];return p.isFunction(n)?t[e]():n}};var C=0;p.uniqueId=function(t){var e=++C+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},k=/\\|'|\r|\n|\u2028|\u2029/g,E=function(t){return"\\"+T[t]};p.template=function(t,e,n){!e&&n&&(e=n),e=p.defaults({},e,p.templateSettings);var i=RegExp([(e.escape||_).source,(e.interpolate||_).source,(e.evaluate||_).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(k,E),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(t){return a.call(this,t,p)},c=e.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},p.chain=function(t){var e=p(t);return e._chain=!0,e};var D=function(t){return this._chain?p(t).chain():t};p.mixin=function(t){p.each(p.functions(t),function(e){var n=p[e]=t[e];p.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),D.call(this,n.apply(p,t))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];p.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],D.call(this,n)}}),p.each(["concat","join","slice"],function(t){var e=n[t];p.prototype[t]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(window,function(n,i){var r,o,a,s,l,c,u,d,f,p,h,g,m,v,y,b;return r=n(i),d=t.call(i,"ontouchstart")>=0,s={horizontal:{},vertical:{}},l=1,u={},c="waypoints-context-id",h="resize.waypoints",g="scroll.waypoints",m=1,v="waypoints-waypoint-ids",y="waypoint",b="waypoints",o=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,u[this.id]=this,t.bind(g,function(){var t;if(!e.didScroll&&!d)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,n[b].settings.scrollThrottle)}),t.bind(h,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return n[b]("refresh"),e.didResize=!1},i.setTimeout(t,n[b].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!d||t.vertical.oldScroll&&t.vertical.newScroll||n[b]("refresh"),n.each(t,function(t,i){var r,o,a;return a=[],o=i.newScroll>i.oldScroll,r=o?i.forward:i.backward,n.each(e.waypoints[t],function(t,e){var n,r;return i.oldScroll<(n=e.offset)&&n<=i.newScroll?a.push(e):i.newScroll<(r=e.offset)&&r<=i.oldScroll?a.push(e):void 0}),a.sort(function(t,e){return t.offset-e.offset}),o||a.reverse(),n.each(a,function(t,e){if(e.options.continuous||t===a.length-1)return e.trigger([r])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,r=this;return i=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(r.waypoints[t],function(t,i){var r,o,a,s,l;if(r=i.options.offset,a=i.offset,o=n.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],n.isFunction(r)?r=r.apply(i.element):"string"==typeof r&&(r=parseFloat(r),i.options.offset.indexOf("%")>-1&&(r=Math.ceil(e.contextDimension*r/100))),i.offset=o-e.contextOffset+e.contextScroll-r,(!i.options.onlyOnScroll||null==a)&&i.enabled)return null!==a&&a<(s=e.oldScroll)&&s<=i.offset?i.trigger([e.backward]):null!==a&&a>(l=e.oldScroll)&&l>=i.offset?i.trigger([e.forward]):null===a&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([h,g].join(" ")),delete u[this.id]},t}(),a=function(){function t(t,e,i){var r,o;"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=n[b]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,r=null!=(o=this.element[v])?o:[],r.push(this.id),this.element[v]=r}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=t[v])?(e=n.extend({},s.horizontal,s.vertical),n.map(i,function(t){return e[t]})):[]},t}(),p={init:function(t,e){var i;return e=n.extend({},n.fn[y].defaults,e),null==(i=e.handler)&&(e.handler=t),this.each(function(){var t,i,r,s;return t=n(this),r=null!=(s=e.context)?s:n.fn[y].defaults.context,n.isWindow(r)||(r=t.closest(r)),r=n(r),i=u[r[0][c]],i||(i=new o(r)),new a(t,i,e)}),n[b]("refresh"),this},disable:function(){return p._invoke.call(this,"disable")},enable:function(){return p._invoke.call(this,"enable")},destroy:function(){return p._invoke.call(this,"destroy")},prev:function(t,e){return p._traverse.call(this,t,e,function(t,e,n){if(e>0)return t.push(n[e-1])})},next:function(t,e){return p._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1)return t.push(n[e+1])})},_traverse:function(t,e,r){var o,a;return null==t&&(t="vertical"),null==e&&(e=i),a=f.aggregate(e),o=[],this.each(function(){var e;return e=n.inArray(this,a[t]),r(o,e,a[t])}),this.pushStack(o)},_invoke:function(t){return this.each(function(){var e;return e=a.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[i]?p[i].apply(this,t):n.isFunction(i)?p.init.apply(this,arguments):n.isPlainObject(i)?p.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[y].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},f={refresh:function(){return n.each(u,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:r.height()},aggregate:function(t){var e,i,r;return e=s,t&&(e=null!=(r=u[n(t)[0][c]])?r.waypoints:void 0),e?(i={horizontal:[],vertical:[]},n.each(i,function(t,r){return n.each(e[t],function(t,e){return r.push(e)}),r.sort(function(t,e){return t.offset-e.offset}),i[t]=n.map(r,function(t){return t.element}),i[t]=n.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),f._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),f._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),f._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),f._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return f._invoke("enable")},disable:function(){return f._invoke("disable")},destroy:function(){return f._invoke("destroy")},extendFn:function(t,e){return p[t]=e},_invoke:function(t){var e;return e=n.extend({},s.vertical,s.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,i){var r,o;return(r=u[n(t)[0][c]])?(o=[],n.each(r.waypoints[e],function(t,e){if(i(r,e))return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),n.map(o,function(t){return t.element})):[]}},n[b]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],f[n]?f[n].apply(null,t):f.aggregate.call(null,n)},n[b].settings={resizeThrottle:100,scrollThrottle:30},r.on("load.waypoints",function(){return n[b]("refresh")})})}.call(this),function(){!function(t,e){return"function"==typeof define&&define.amd?define(["jquery","waypoints"],e):e(t.jQuery)}(window,function(t){var e,n;return e={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},n=function(t,e){var n;return t.wrap(e.wrapper),n=t.parent(),n.data("isWaypointStickyWrapper",!0)},t.waypoints("extendFn","sticky",function(i){var r,o,a;return o=t.extend({},t.fn.waypoint.defaults,e,i),r=n(this,o),a=o.handler,o.handler=function(e){var n,i;if(n=t(this).children(":first"),i=o.direction.indexOf(e)!==-1,n.toggleClass(o.stuckClass,i),r.height(i?n.outerHeight():""),null!=a)return a.call(this,e)},r.waypoint(o),this.data("stuckClass",o.stuckClass)}),t.waypoints("extendFn","unsticky",function(){var t;return t=this.parent(),t.data("isWaypointStickyWrapper")?(t.waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))):this})})}.call(this),!function(t,e,n){"use strict";function i(n){if(r=e.documentElement,o=e.body,W(),st=this,n=n||{},ft=n.constants||{},n.easing)for(var i in n.easing)Y[i]=n.easing[i];bt=n.edgeStrategy||"set",ut={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},dt=n.forceHeight!==!1,dt&&(jt=n.scale||1),pt=n.mobileDeceleration||_,gt=n.smoothScrolling!==!1,mt=n.smoothScrollingDuration||k,vt={targetTop:st.getScrollTop()},Kt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||t.opera)})(),Kt?(ct=e.getElementById(n.skrollrBody||T),ct&&at(),U(),$t(r,[y,x],[b])):$t(r,[y,w],[b]),st.refresh(),St(t,"resize orientationchange",function(){var t=r.clientWidth,e=r.clientHeight;(e!==Vt||t!==Rt)&&(Vt=e,Rt=t,Bt=!0)});var a=q();return function s(){Q(),xt=a(s)}(),st}var r,o,a={get:function(){return st},init:function(t){return st||new i(t)},VERSION:"0.6.30"},s=Object.prototype.hasOwnProperty,l=t.Math,c=t.getComputedStyle,u="touchstart",d="touchmove",f="touchcancel",p="touchend",h="skrollable",g=h+"-before",m=h+"-between",v=h+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",x=y+"-mobile",S="linear",C=1e3,_=.004,T="skrollr-body",k=200,E="start",D="end",P="center",$="bottom",A="___skrollable_id",L=/^(?:input|textarea|button|select)$/i,I=/^\s+|\s+$/g,N=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,O=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,j=/^(@?[a-z\-]+)\[(\w+)\]$/,M=/-([a-z0-9_])/g,F=function(t,e){return e.toUpperCase()},z=/[\-+]?[\d]*\.?[\d]+/g,R=/\{\?\}/g,V=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,B=/[a-z\-]+-gradient/g,H="",K="",W=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var e=c(o,null);for(var n in e)if(H=n.match(t)||+n==n&&e[n].match(t))break;if(!H)return void(H=K="");H=H[0],"-"===H.slice(0,1)?(K=H,H={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[H]):K="-"+H.toLowerCase()+"-"}},q=function(){var e=t.requestAnimationFrame||t[H.toLowerCase()+"RequestAnimationFrame"],n=It();return(Kt||!e)&&(e=function(e){var i=It()-n,r=l.max(0,1e3/60-i);return t.setTimeout(function(){n=It(),e()},r)}),e},X=function(){var e=t.cancelAnimationFrame||t[H.toLowerCase()+"CancelAnimationFrame"];return(Kt||!e)&&(e=function(e){return t.clearTimeout(e)}),e},Y={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-l.cos(t*l.PI)/2+.5},sqrt:function(t){return l.sqrt(t)},outCubic:function(t){return l.pow(t-1,3)+1},bounce:function(t){var e;if(.5083>=t)e=3;else if(.8489>=t)e=9;else if(.96208>=t)e=27;else{if(!(.99981>=t))return 1;e=91}return 1-l.abs(3*l.cos(t*e*1.028)/e)}};i.prototype.refresh=function(t){var i,r,o=!1;for(t===n?(o=!0,lt=[],Ht=0,t=e.getElementsByTagName("*")):t.length===n&&(t=[t]),i=0,r=t.length;r>i;i++){var a=t[i],s=a,l=[],c=gt,u=bt,d=!1;if(o&&A in a&&delete a[A],a.attributes){for(var f=0,p=a.attributes.length;p>f;f++){var g=a.attributes[f];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var m=g.name.match(N);if(null!==m){var v={props:g.value,element:a,eventType:g.name.replace(M,F)};l.push(v);var y=m[1];y&&(v.constant=y.substr(1));var b=m[2];/p$/.test(b)?(v.isPercentage=!0,v.offset=(0|b.slice(0,-1))/100):v.offset=0|b;var w=m[3],x=m[4]||w;w&&w!==E&&w!==D?(v.mode="relative",v.anchors=[w,x]):(v.mode="absolute",w===D?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*jt))}}else d=!0;else u=g.value;else c="off"!==g.value;else if(s=e.querySelector(g.value),null===s)throw'Unable to find anchor target "'+g.value+'"'}if(l.length){var S,C,_;!o&&A in a?(_=a[A],S=lt[_].styleAttr,C=lt[_].classAttr):(_=a[A]=Ht++,S=a.style.cssText,C=Pt(a)),lt[_]={element:a,styleAttr:S,classAttr:C,anchorTarget:s,keyFrames:l,smoothScrolling:c,edgeStrategy:u,emitEvents:d,lastFrameIndex:-1},$t(a,[h],[])}}}for(kt(),i=0,r=t.length;r>i;i++){var T=lt[t[i][A]];T!==n&&(J(T),et(T))}return st},i.prototype.relativeToAbsolute=function(t,e,n){var i=r.clientHeight,o=t.getBoundingClientRect(),a=o.top,s=o.bottom-o.top;return e===$?a-=i:e===P&&(a-=i/2),n===$?a+=s:n===P&&(a+=s/2),a+=st.getScrollTop(),a+.5|0},i.prototype.animateTo=function(t,e){e=e||{};var i=It(),r=st.getScrollTop(),o=e.duration===n?C:e.duration;return ht={startTop:r,topDiff:t-r,targetTop:t,duration:o,startTime:i,endTime:i+o,easing:Y[e.easing||S],done:e.done},ht.topDiff||(ht.done&&ht.done.call(st,!1),ht=n),st},i.prototype.stopAnimateTo=function(){ht&&ht.done&&ht.done.call(st,!0),ht=n},i.prototype.isAnimatingTo=function(){return!!ht},i.prototype.isMobile=function(){return Kt},i.prototype.setScrollTop=function(e,n){return yt=n===!0,Kt?Wt=l.min(l.max(e,0),Ot):t.scrollTo(0,e),st},i.prototype.getScrollTop=function(){return Kt?Wt:t.pageYOffset||r.scrollTop||o.scrollTop||0},i.prototype.getMaxScrollTop=function(){return Ot},i.prototype.on=function(t,e){return ut[t]=e,st},i.prototype.off=function(t){return delete ut[t],st},i.prototype.destroy=function(){var t=X();t(xt),_t(),$t(r,[b],[y,w,x]);for(var e=0,i=lt.length;i>e;e++)ot(lt[e].element);r.style.overflow=o.style.overflow="",r.style.height=o.style.height="",ct&&a.setStyle(ct,"transform","none"),st=n,ct=n,ut=n,dt=n,Ot=0,jt=1,ft=n,pt=n,Mt="down",Ft=-1,Rt=0,Vt=0,Bt=!1,ht=n,gt=n,mt=n,vt=n,yt=n,Ht=0,bt=n,Kt=!1,Wt=0,wt=n};var U=function(){var i,a,s,c,h,g,m,v,y,b,w,x;St(r,[u,d,f,p].join(" "),function(t){var r=t.changedTouches[0];for(c=t.target;3===c.nodeType;)c=c.parentNode;switch(h=r.clientY,g=r.clientX,b=t.timeStamp,L.test(c.tagName)||t.preventDefault(),t.type){case u:i&&i.blur(),st.stopAnimateTo(),i=c,a=m=h,s=g,y=b;break;case d:L.test(c.tagName)&&e.activeElement!==c&&t.preventDefault(),v=h-m,x=b-w,st.setScrollTop(Wt-v,!0),m=h,w=b;break;default:case f:case p:var o=a-h,S=s-g,C=S*S+o*o;if(49>C){if(!L.test(i.tagName)){i.focus();var _=e.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,t.view,1,r.screenX,r.screenY,r.clientX,r.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i.dispatchEvent(_)}return}i=n;var T=v/x;T=l.max(l.min(T,3),-3);var k=l.abs(T/pt),E=T*k+.5*pt*k*k,D=st.getScrollTop()-E,P=0;D>Ot?(P=(Ot-D)/E,D=Ot):0>D&&(P=-D/E,D=0),k*=1-P,st.animateTo(D+.5|0,{easing:"outCubic",duration:k})}}),t.scrollTo(0,0),r.style.overflow=o.style.overflow="hidden"},G=function(){var t,e,n,i,o,a,s,c,u,d,f,p=r.clientHeight,h=Et();for(c=0,u=lt.length;u>c;c++)for(t=lt[c],e=t.element,n=t.anchorTarget,i=t.keyFrames,o=0,a=i.length;a>o;o++)s=i[o],d=s.offset,f=h[s.constant]||0,s.frame=d,s.isPercentage&&(d*=p,s.frame=d),"relative"===s.mode&&(ot(e),s.frame=st.relativeToAbsolute(n,s.anchors[0],s.anchors[1])-d,ot(e,!0)),s.frame+=f,dt&&!s.isEnd&&s.frame>Ot&&(Ot=s.frame);for(Ot=l.max(Ot,Dt()),c=0,u=lt.length;u>c;c++){for(t=lt[c],i=t.keyFrames,o=0,a=i.length;a>o;o++)s=i[o],f=h[s.constant]||0,s.isEnd&&(s.frame=Ot-s.offset+f);t.keyFrames.sort(Nt)}},Z=function(t,e){for(var n=0,i=lt.length;i>n;n++){var r,o,l=lt[n],c=l.element,u=l.smoothScrolling?t:e,d=l.keyFrames,f=d.length,p=d[0],y=d[d.length-1],b=u<p.frame,w=u>y.frame,x=b?p:y,S=l.emitEvents,C=l.lastFrameIndex;if(b||w){if(b&&-1===l.edge||w&&1===l.edge)continue;switch(b?($t(c,[g],[v,m]),S&&C>-1&&(Tt(c,p.eventType,Mt),l.lastFrameIndex=-1)):($t(c,[v],[g,m]),S&&f>C&&(Tt(c,y.eventType,Mt),l.lastFrameIndex=f)),l.edge=b?-1:1,l.edgeStrategy){case"reset":ot(c);continue;case"ease":u=x.frame;break;default:case"set":var _=x.props;for(r in _)s.call(_,r)&&(o=rt(_[r].value),0===r.indexOf("@")?c.setAttribute(r.substr(1),o):a.setStyle(c,r,o));continue}}else 0!==l.edge&&($t(c,[h,m],[g,v]),l.edge=0);for(var T=0;f-1>T;T++)if(u>=d[T].frame&&u<=d[T+1].frame){var k=d[T],E=d[T+1];for(r in k.props)if(s.call(k.props,r)){var D=(u-k.frame)/(E.frame-k.frame);D=k.props[r].easing(D),o=it(k.props[r].value,E.props[r].value,D),o=rt(o),0===r.indexOf("@")?c.setAttribute(r.substr(1),o):a.setStyle(c,r,o)}S&&C!==T&&("down"===Mt?Tt(c,k.eventType,Mt):Tt(c,E.eventType,Mt),l.lastFrameIndex=T);break}}},Q=function(){Bt&&(Bt=!1,kt());var t,e,i=st.getScrollTop(),r=It();if(ht)r>=ht.endTime?(i=ht.targetTop,t=ht.done,ht=n):(e=ht.easing((r-ht.startTime)/ht.duration),i=ht.startTop+e*ht.topDiff|0),st.setScrollTop(i,!0);else if(!yt){var o=vt.targetTop-i;o&&(vt={startTop:Ft,topDiff:i-Ft,targetTop:i,startTime:zt,endTime:zt+mt}),r<=vt.endTime&&(e=Y.sqrt((r-vt.startTime)/mt),i=vt.startTop+e*vt.topDiff|0)}if(yt||Ft!==i){Mt=i>Ft?"down":Ft>i?"up":Mt,yt=!1;var s={curTop:i,lastTop:Ft,maxTop:Ot,direction:Mt},l=ut.beforerender&&ut.beforerender.call(st,s);l!==!1&&(Z(i,st.getScrollTop()),
Kt&&ct&&a.setStyle(ct,"transform","translate(0, "+-Wt+"px) "+wt),Ft=i,ut.render&&ut.render.call(st,s)),t&&t.call(st,!1)}zt=r},J=function(t){for(var e=0,n=t.keyFrames.length;n>e;e++){for(var i,r,o,a,s=t.keyFrames[e],l={};null!==(a=O.exec(s.props));)o=a[1],r=a[2],i=o.match(j),null!==i?(o=i[1],i=i[2]):i=S,r=r.indexOf("!")?tt(r):[r.slice(1)],l[o]={value:r,easing:Y[i]};s.props=l}},tt=function(t){var e=[];return V.lastIndex=0,t=t.replace(V,function(t){return t.replace(z,function(t){return t/255*100+"%"})}),K&&(B.lastIndex=0,t=t.replace(B,function(t){return K+t})),t=t.replace(z,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},et=function(t){var e,n,i={};for(e=0,n=t.keyFrames.length;n>e;e++)nt(t.keyFrames[e],i);for(i={},e=t.keyFrames.length-1;e>=0;e--)nt(t.keyFrames[e],i)},nt=function(t,e){var n;for(n in e)s.call(t.props,n)||(t.props[n]=e[n]);for(n in t.props)e[n]=t.props[n]},it=function(t,e,n){var i,r=t.length;if(r!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var o=[t[0]];for(i=1;r>i;i++)o[i]=t[i]+(e[i]-t[i])*n;return o},rt=function(t){var e=1;return R.lastIndex=0,t[0].replace(R,function(){return t[e++]})},ot=function(t,e){t=[].concat(t);for(var n,i,r=0,o=t.length;o>r;r++)i=t[r],n=lt[i[A]],n&&(e?(i.style.cssText=n.dirtyStyleAttr,$t(i,n.dirtyClassAttr)):(n.dirtyStyleAttr=i.style.cssText,n.dirtyClassAttr=Pt(i),i.style.cssText=n.styleAttr,$t(i,n.classAttr)))},at=function(){wt="translateZ(0)",a.setStyle(ct,"transform",wt);var t=c(ct),e=t.getPropertyValue("transform"),n=t.getPropertyValue(K+"transform"),i=e&&"none"!==e||n&&"none"!==n;i||(wt="")};a.setStyle=function(t,e,n){var i=t.style;if(e=e.replace(M,F).replace("-",""),"zIndex"===e)isNaN(n)?i[e]=n:i[e]=""+(0|n);else if("float"===e)i.styleFloat=i.cssFloat=n;else try{H&&(i[H+e.slice(0,1).toUpperCase()+e.slice(1)]=n),i[e]=n}catch(r){}};var st,lt,ct,ut,dt,ft,pt,ht,gt,mt,vt,yt,bt,wt,xt,St=a.addEvent=function(e,n,i){var r=function(e){return e=e||t.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),i.call(this,e)};n=n.split(" ");for(var o,a=0,s=n.length;s>a;a++)o=n[a],e.addEventListener?e.addEventListener(o,i,!1):e.attachEvent("on"+o,r),qt.push({element:e,name:o,listener:i})},Ct=a.removeEvent=function(t,e,n){e=e.split(" ");for(var i=0,r=e.length;r>i;i++)t.removeEventListener?t.removeEventListener(e[i],n,!1):t.detachEvent("on"+e[i],n)},_t=function(){for(var t,e=0,n=qt.length;n>e;e++)t=qt[e],Ct(t.element,t.name,t.listener);qt=[]},Tt=function(t,e,n){ut.keyframe&&ut.keyframe.call(st,t,e,n)},kt=function(){var t=st.getScrollTop();Ot=0,dt&&!Kt&&(o.style.height=""),G(),dt&&!Kt&&(o.style.height=Ot+r.clientHeight+"px"),Kt?st.setScrollTop(l.min(st.getScrollTop(),Ot)):st.setScrollTop(t,!0),yt=!0},Et=function(){var t,e,n=r.clientHeight,i={};for(t in ft)e=ft[t],"function"==typeof e?e=e.call(st):/p$/.test(e)&&(e=e.slice(0,-1)/100*n),i[t]=e;return i},Dt=function(){var t,e=0;return ct&&(e=l.max(ct.offsetHeight,ct.scrollHeight)),t=l.max(e,o.scrollHeight,o.offsetHeight,r.scrollHeight,r.offsetHeight,r.clientHeight),t-r.clientHeight},Pt=function(e){var n="className";return t.SVGElement&&e instanceof t.SVGElement&&(e=e[n],n="baseVal"),e[n]},$t=function(e,i,r){var o="className";if(t.SVGElement&&e instanceof t.SVGElement&&(e=e[o],o="baseVal"),r===n)return void(e[o]=i);for(var a=e[o],s=0,l=r.length;l>s;s++)a=Lt(a).replace(Lt(r[s])," ");a=At(a);for(var c=0,u=i.length;u>c;c++)-1===Lt(a).indexOf(Lt(i[c]))&&(a+=" "+i[c]);e[o]=At(a)},At=function(t){return t.replace(I,"")},Lt=function(t){return" "+t+" "},It=Date.now||function(){return+new Date},Nt=function(t,e){return t.frame-e.frame},Ot=0,jt=1,Mt="down",Ft=-1,zt=It(),Rt=0,Vt=0,Bt=!1,Ht=0,Kt=!1,Wt=0,qt=[];"function"==typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:t.skrollr=a}(window,document),!function(t){var e,n,i="0.4.2",r="hasOwnProperty",o=/[\.\/]/,a=/\s*,\s*/,s="*",l=function(t,e){return t-e},c={n:{}},u=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},d=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},f=function(t,i){t=String(t);var r,o=n,a=Array.prototype.slice.call(arguments,2),s=f.listeners(t),c=0,p=[],h={},g=[],m=e;g.firstDefined=u,g.lastDefined=d,e=t,n=0;for(var v=0,y=s.length;y>v;v++)"zIndex"in s[v]&&(p.push(s[v].zIndex),s[v].zIndex<0&&(h[s[v].zIndex]=s[v]));for(p.sort(l);p[c]<0;)if(r=h[p[c++]],g.push(r.apply(i,a)),n)return n=o,g;for(v=0;y>v;v++)if(r=s[v],"zIndex"in r)if(r.zIndex==p[c]){if(g.push(r.apply(i,a)),n)break;do if(c++,r=h[p[c]],r&&g.push(r.apply(i,a)),n)break;while(r)}else h[r.zIndex]=r;else if(g.push(r.apply(i,a)),n)break;return n=o,e=m,g};f._events=c,f.listeners=function(t){var e,n,i,r,a,l,u,d,f=t.split(o),p=c,h=[p],g=[];for(r=0,a=f.length;a>r;r++){for(d=[],l=0,u=h.length;u>l;l++)for(p=h[l].n,n=[p[f[r]],p[s]],i=2;i--;)e=n[i],e&&(d.push(e),g=g.concat(e.f||[]));h=d}return g},f.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(a),i=0,r=n.length;r>i;i++)!function(t){for(var n,i=t.split(o),r=c,a=0,s=i.length;s>a;a++)r=r.n,r=r.hasOwnProperty(i[a])&&r[i[a]]||(r[i[a]]={n:{}});for(r.f=r.f||[],a=0,s=r.f.length;s>a;a++)if(r.f[a]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},f.f=function(t){var e=[].slice.call(arguments,1);return function(){f.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},f.stop=function(){n=1},f.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},f.nts=function(){return e.split(o)},f.off=f.unbind=function(t,e){if(!t)return void(f._events=c={n:{}});var n=t.split(a);if(n.length>1)for(var i=0,l=n.length;l>i;i++)f.off(n[i],e);else{n=t.split(o);var u,d,p,i,l,h,g,m=[c];for(i=0,l=n.length;l>i;i++)for(h=0;h<m.length;h+=p.length-2){if(p=[h,1],u=m[h].n,n[i]!=s)u[n[i]]&&p.push(u[n[i]]);else for(d in u)u[r](d)&&p.push(u[d]);m.splice.apply(m,p)}for(i=0,l=m.length;l>i;i++)for(u=m[i];u.n;){if(e){if(u.f){for(h=0,g=u.f.length;g>h;h++)if(u.f[h]==e){u.f.splice(h,1);break}!u.f.length&&delete u.f}for(d in u.n)if(u.n[r](d)&&u.n[d].f){var v=u.n[d].f;for(h=0,g=v.length;g>h;h++)if(v[h]==e){v.splice(h,1);break}!v.length&&delete u.n[d].f}}else{delete u.f;for(d in u.n)u.n[r](d)&&u.n[d].f&&delete u.n[d].f}u=u.n}}},f.once=function(t,e){var n=function(){return f.unbind(t,n),e.apply(this,arguments)};return f.on(t,n)},f.version=i,f.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=f:"function"==typeof define&&define.amd?define("eve",[],function(){return f}):t.eve=f}(this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(n){return e(t,n)}):e(t,t.eve)}(this,function(t,e){var n=function(e){var n={},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},r=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,a="M"+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},l=Date.now||function(){return+new Date},c=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},u=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},d=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},f=function(){var t=this;delete n[t.id],t.update(),e("mina.stop."+t.id,t)},p=function(){var t=this;t.pdif||(delete n[t.id],t.update(),t.pdif=t.get()-t.b)},h=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,n[t.id]=t)},g=function(){var t,e=this;if(r(e.start)){t=[];for(var n=0,i=e.start.length;i>n;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},m=function(){var t=0;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r],a=o.get();t++,o.s=(a-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[r],o.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(o)),o.update()}t&&i(m)},v=function(t,e,r,o,a,l,y){var b={id:s(),start:t,end:e,b:r,s:0,dur:o-r,spd:1,get:a,set:l,easing:y||v.linear,status:c,speed:u,duration:d,stop:f,pause:p,resume:h,update:g};n[b.id]=b;var w,x=0;for(w in n)if(n.hasOwnProperty(w)&&(x++,2==x))break;return 1==x&&i(m),b};return v.time=l,v.getById=function(t){return n[t]||null},v.linear=function(t){return t},v.easeout=function(t){return Math.pow(t,1.7)},v.easein=function(t){return Math.pow(t,.48)},v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),i=n-e,r=Math.pow(Math.abs(i),1/3)*(0>i?-1:1),o=-n-e,a=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),s=r+a+.5;return 3*(1-s)*s*s+s*s*s},v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},v.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},v.bounce=function(t){var e,n=7.5625,i=2.75;return 1/i>t?e=n*t*t:2/i>t?(t-=1.5/i,e=n*t*t+.75):2.5/i>t?(t-=2.25/i,e=n*t*t+.9375):(t-=2.625/i,e=n*t*t+.984375),e},t.mina=v,v}("undefined"==typeof e?function(){}:e),i=function(){function i(t,e){if(t){if(t.tagName)return _(t);if(o(t,"array")&&i.set)return i.set.apply(i,t);if(t instanceof w)return t;if(null==e)return t=T.doc.querySelector(t),_(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new C(t,e)}function r(t,e){if(e){if("#text"==t&&(t=T.doc.createTextNode(e.text||"")),"string"==typeof t&&(t=r(t)),"string"==typeof e)return"xlink:"==e.substring(0,6)?t.getAttributeNS(Y,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(U,e.substring(4)):t.getAttribute(e);for(var n in e)if(e[k](n)){var i=E(e[n]);i?"xlink:"==n.substring(0,6)?t.setAttributeNS(Y,n.substring(6),i):"xml:"==n.substring(0,4)?t.setAttributeNS(U,n.substring(4),i):t.setAttribute(n,i):t.removeAttribute(n)}}else t=T.doc.createElementNS(U,t);return t}function o(t,e){return e=E.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||M.call(t).slice(8,-1).toLowerCase()==e)}function a(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[k](n)&&(e[n]=a(t[n]));return e}function s(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function l(t,e,n){function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),a=i.cache=i.cache||{},l=i.count=i.count||[];return a[k](o)?(s(l,o),n?n(a[o]):a[o]):(l.length>=1e3&&delete a[l.shift()],l.push(o),a[o]=t.apply(e,r),n?n(a[o]):a[o])}return i}function c(t,e,n,i,r,o){if(null==r){var a=t-n,s=e-i;return a||s?(180+180*$.atan2(-s,-a)/N+360)%360:0}return c(t,e,r,o)-c(n,i,r,o)}function u(t){return t%360*N/180}function d(t){return 180*t/N%360}function f(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,i){return i=i.split(/\s*,\s*|\s+/),"rotate"==n&&1==i.length&&i.push(0,0),"scale"==n&&(i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0),1==i.length&&i.push(i[0],0,0)),e.push("skewX"==n?["m",1,0,$.tan(u(i[0])),1,0,0]:"skewY"==n?["m",1,$.tan(u(i[0])),0,1,0,0]:[n.charAt(0)].concat(i)),t}),e}function p(t,e){var n=rt(t),r=new i.Matrix;if(n)for(var o=0,a=n.length;a>o;o++){var s,l,c,u,d,f=n[o],p=f.length,h=E(f[0]).toLowerCase(),g=f[0]!=h,m=g?r.invert():0;"t"==h&&2==p?r.translate(f[1],0):"t"==h&&3==p?g?(s=m.x(0,0),l=m.y(0,0),c=m.x(f[1],f[2]),u=m.y(f[1],f[2]),r.translate(c-s,u-l)):r.translate(f[1],f[2]):"r"==h?2==p?(d=d||e,r.rotate(f[1],d.x+d.width/2,d.y+d.height/2)):4==p&&(g?(c=m.x(f[2],f[3]),u=m.y(f[2],f[3]),r.rotate(f[1],c,u)):r.rotate(f[1],f[2],f[3])):"s"==h?2==p||3==p?(d=d||e,r.scale(f[1],f[p-1],d.x+d.width/2,d.y+d.height/2)):4==p?g?(c=m.x(f[2],f[3]),u=m.y(f[2],f[3]),r.scale(f[1],f[1],c,u)):r.scale(f[1],f[1],f[2],f[3]):5==p&&(g?(c=m.x(f[3],f[4]),u=m.y(f[3],f[4]),r.scale(f[1],f[2],c,u)):r.scale(f[1],f[2],f[3],f[4])):"m"==h&&7==p&&r.add(f[1],f[2],f[3],f[4],f[5],f[6])}return r}function h(t,e){if(null==e){var n=!0;if(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform"),!e)return new i.Matrix;e=f(e)}else e=i._.rgTransform.test(e)?E(e).replace(/\.{3}|\u2026/g,t._.transform||O):f(e),o(e,"array")&&(e=i.path?i.path.toString.call(e):E(e)),t._.transform=e;var r=p(e,t.getBBox(1));return n?r:void(t.matrix=r)}function m(t){var e=t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||t.node.parentNode&&_(t.node.parentNode)||i.select("svg")||i(0,0),n=e.select("defs"),r=null!=n&&n.node;return r||(r=S("defs",e.node).node),r}function v(t){return t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||i.select("svg")}function y(t,e,n){function i(t){if(null==t)return O;if(t==+t)return t;r(c,{width:t});try{return c.getBBox().width}catch(e){return 0}}function o(t){if(null==t)return O;if(t==+t)return t;r(c,{height:t});try{return c.getBBox().height}catch(e){return 0}}function a(i,r){null==e?l[i]=r(t.attr(i)||0):i==e&&(l=r(null==n?t.attr(i)||0:n))}var s=v(t).node,l={},c=s.querySelector(".svg---mgr");switch(c||(c=r("rect"),r(c,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),s.appendChild(c)),t.type){case"rect":a("rx",i),a("ry",o);case"image":a("width",i),a("height",o);case"text":a("x",i),a("y",o);break;case"circle":a("cx",i),a("cy",o),a("r",i);break;case"ellipse":a("cx",i),a("cy",o),a("rx",i),a("ry",o);break;case"line":a("x1",i),a("x2",i),a("y1",o),a("y2",o);break;case"marker":a("refX",i),a("markerWidth",i),a("refY",o),a("markerHeight",o);break;case"radialGradient":a("fx",i),a("fy",o);break;case"tspan":a("dx",i),a("dy",o);break;default:a(e,i)}return s.removeChild(c),l}function b(t){o(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,i=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){i.appendChild(t.node)}):i.appendChild(t[e].node);var r=i.childNodes;for(e=0;e<r.length;e++)this[n++]=_(r[e]);return this}function w(t){if(t.snap in G)return G[t.snap];var e,n=this.id=X();try{e=t.ownerSVGElement}catch(i){}if(this.node=t,e&&(this.paper=new C(e)),this.type=t.tagName,this.anims={},this._={transform:[]},t.snap=n,G[n]=this,"g"==this.type&&(this.add=b),this.type in{g:1,mask:1,pattern:1})for(var r in C.prototype)C.prototype[k](r)&&(this[r]=C.prototype[r])}function x(t){this.node=t}function S(t,e){var n=r(t);e.appendChild(n);var i=_(n);return i}function C(t,e){var n,i,o,a=C.prototype;if(t&&"svg"==t.tagName){if(t.snap in G)return G[t.snap];var s=t.ownerDocument;n=new w(t),i=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],i||(i=r("desc"),i.appendChild(s.createTextNode("Created with Snap")),n.node.appendChild(i)),o||(o=r("defs"),n.node.appendChild(o)),n.defs=o;for(var l in a)a[k](l)&&(n[l]=a[l]);n.paper=n.root=n}else n=S("svg",T.doc.body),r(n.node,{height:e,version:1.1,width:t,xmlns:U});return n}function _(t){return t?t instanceof w||t instanceof x?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new C(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new C(t.contentDocument.getElementsByTagName("svg")[0]):new w(t):t}i.version="0.3.0",i.toString=function(){return"Snap v"+this.version},i._={};var T={win:t,doc:t.document};i._.glob=T;var k="hasOwnProperty",E=String,D=parseFloat,P=parseInt,$=Math,A=$.max,L=$.min,I=$.abs,N=($.pow,$.PI),O=($.round,""),j=" ",M=Object.prototype.toString,F=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,z="\t\n\x0B\f\r   ᠎             　\u2028\u2029",R=(i._.separator=new RegExp("[,"+z+"]+"),new RegExp("["+z+"]","g"),new RegExp("["+z+"]*,["+z+"]*")),V={hs:1,rg:1},B=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),H=new RegExp("([rstm])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),K=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig"),W=0,q="S"+(+new Date).toString(36),X=function(){return q+(W++).toString(36)},Y="http://www.w3.org/1999/xlink",U="http://www.w3.org/2000/svg",G={},Z=i.url=function(t){return"url('#"+t+"')"};i._.$=r,i._.id=X,i.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;return n.replace(e,function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?t:r)+""};return function(e,i){return E(e).replace(t,function(t,e){return n(t,e,i)})}}(),i._.clone=a,i._.cacher=l,i.rad=u,i.deg=d,i.angle=c,i.is=o,i.snapTo=function(t,e,n){if(n=o(n,"finite")?n:10,o(t,"array")){for(var i=t.length;i--;)if(I(t[i]-e)<=n)return t[i]}else{t=+t;var r=e%t;if(n>r)return e-r;if(r>t-n)return e-r+t}return e},i.getRGB=l(function(t){if(!t||(t=E(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:et};if(!(V[k](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=Q(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et};var e,n,r,a,s,l,c=t.match(F);return c?(c[2]&&(r=P(c[2].substring(5),16),n=P(c[2].substring(3,5),16),e=P(c[2].substring(1,3),16)),c[3]&&(r=P((s=c[3].charAt(3))+s,16),n=P((s=c[3].charAt(2))+s,16),e=P((s=c[3].charAt(1))+s,16)),c[4]&&(l=c[4].split(R),e=D(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=D(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=D(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),c[5]?(l=c[5].split(R),e=D(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=D(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=D(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),i.hsb2rgb(e,n,r,a)):c[6]?(l=c[6].split(R),e=D(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=D(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=D(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(a=D(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),i.hsl2rgb(e,n,r,a)):(e=L($.round(e),255),n=L($.round(n),255),r=L($.round(r),255),a=L(A(a,0),1),c={r:e,g:n,b:r,toString:et},c.hex="#"+(16777216|r|n<<8|e<<16).toString(16).slice(1),c.opacity=o(a,"finite")?a:1,c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:et}},i),i.hsb=l(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=l(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=l(function(t,e,n,i){if(o(i,"finite")){var r=$.round;return"rgba("+[r(t),r(e),r(n),+i.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var Q=function(t){var e=T.doc.getElementsByTagName("head")[0]||T.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(Q=l(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var i=T.doc.defaultView.getComputedStyle(e,O).getPropertyValue("color");return i==n?null:i}))(t)},J=function(){return"hsb("+[this.h,this.s,this.b]+")"},tt=function(){return"hsl("+[this.h,this.s,this.l]+")"},et=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},nt=function(t,e,n){if(null==e&&o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&o(t,string)){var r=i.getRGB(t);t=r.r,e=r.g,n=r.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},it=function(t,e,n,r){t=$.round(255*t),e=$.round(255*e),n=$.round(255*n);var a={r:t,g:e,b:n,opacity:o(r,"finite")?r:1,hex:i.rgb(t,e,n),toString:et};return o(r,"finite")&&(a.opacity=r),a};i.color=function(t){var e;return o(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):o(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(o(t,"string")&&(t=i.getRGB(t)),o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=et,t},i.hsb2rgb=function(t,e,n,i){o(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,t=t.h,i=t.o),t*=360;var r,a,s,l,c;return t=t%360/60,c=n*e,l=c*(1-I(t%2-1)),r=a=s=n-c,t=~~t,r+=[c,l,0,0,l,c][t],a+=[l,c,c,l,0,0][t],s+=[0,0,l,c,c,l][t],it(r,a,s,i)},i.hsl2rgb=function(t,e,n,i){o(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var r,a,s,l,c;return t=t%360/60,c=2*e*(.5>n?n:1-n),l=c*(1-I(t%2-1)),r=a=s=n-c/2,t=~~t,r+=[c,l,0,0,l,c][t],a+=[l,c,c,l,0,0][t],s+=[0,0,l,c,c,l][t],it(r,a,s,i)},i.rgb2hsb=function(t,e,n){n=nt(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,a;return o=A(t,e,n),a=o-L(t,e,n),i=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,i=(i+360)%6*60/360,r=0==a?0:a/o,{h:i,s:r,b:o,toString:J}},i.rgb2hsl=function(t,e,n){n=nt(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,a,s,l;return a=A(t,e,n),s=L(t,e,n),l=a-s,i=0==l?null:a==t?(e-n)/l:a==e?(n-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,o=(a+s)/2,r=0==l?0:.5>o?l/(2*o):l/(2-2*o),{h:i,s:r,l:o,toString:tt}},i.parsePathString=function(t){if(!t)return null;var e=i.path(t);if(e.arr)return i.path.clone(e.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return o(t,"array")&&o(t[0],"array")&&(r=i.path.clone(t)),r.length||E(t).replace(B,function(t,e,i){var o=[],a=e.toLowerCase();if(i.replace(K,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(r.push([e].concat(o.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==o.length&&r.push([e,o[0]]),"r"==a)r.push([e].concat(o));else for(;o.length>=n[a]&&(r.push([e].concat(o.splice(0,n[a]))),n[a]););}),r.toString=i.path.toString,e.arr=i.path.clone(r),r};var rt=i.parseTransformString=function(t){if(!t)return null;var e=[];return o(t,"array")&&o(t[0],"array")&&(e=i.path.clone(t)),e.length||E(t).replace(H,function(t,n,i){var r=[];n.toLowerCase(),i.replace(K,function(t,e){e&&r.push(+e)}),e.push([n].concat(r))}),e.toString=i.path.toString,e};i._.svgTransform2string=f,i._.rgTransform=new RegExp("^[a-z]["+z+"]*-?\\.?\\d","i"),i._.transform2matrix=p,i._unit2px=y,T.doc.contains||T.doc.compareDocumentPosition?function(t,e){var n=9==t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t==i||!(!i||1!=i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1},i._.getSomeDefs=m,i._.getSomeSVG=v,i.select=function(t){return _(T.doc.querySelector(t))},i.selectAll=function(t){for(var e=T.doc.querySelectorAll(t),n=(i.set||Array)(),r=0;r<e.length;r++)n.push(_(e[r]));return n},setInterval(function(){for(var t in G)if(G[k](t)){var e=G[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete G[t]}},1e4),function(t){function a(t){function e(t,e){var n=r(t.node,e);n=n&&n.match(a),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(l[n]=(l[n]||[]).concat(function(n){var i={};i[e]=Z(n),r(t.node,i)})))}function n(t){var e=r(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(l[e]=(l[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var i,o=t.selectAll("*"),a=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],l={},c=0,u=o.length;u>c;c++){i=o[c],e(i,"fill"),e(i,"stroke"),e(i,"filter"),e(i,"mask"),e(i,"clip-path"),n(i);var d=r(i.node,"id");d&&(r(i.node,{id:i.id}),s.push({old:d,id:i.id}))}for(c=0,u=s.length;u>c;c++){var f=l[s[c].old];if(f)for(var p=0,h=f.length;h>p;p++)f[p](s[c].id)}}function s(t,e,n){return function(i){var r=i.slice(t,e);return 1==r.length&&(r=r[0]),n?n(r):r}}function l(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,i=this.node.childNodes;if(t)for(var r=0,o=n.length;o>r;r++)e+=" "+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"';if(i.length){for(t&&(e+=">"),r=0,o=i.length;o>r;r++)3==i[r].nodeType?e+=i[r].nodeValue:1==i[r].nodeType&&(e+=_(i[r]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}t.attr=function(t,n){var i=this;if(i.node,!t)return i;if(o(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,i).firstDefined();var r={};r[t]=n,t=r}for(var a in t)t[k](a)&&e("snap.util.attr."+a,i,t[a]);return i},t.getBBox=function(t){if(!i.Matrix||!i.path)return this.node.getBBox();var e=this,n=new i.Matrix;if(e.removed)return i._.box();for(;"use"==e.type;)if(t||(n=n.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var r=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var o=e._,a=i.path.get[e.type]||i.path.get.deflt;try{return t?(o.bboxwt=a?i.path.getBBox(e.realPath=a(e)):i._.box(e.node.getBBox()),i._.box(o.bboxwt)):(e.realPath=a(e),e.matrix=e.transform().localMatrix,o.bbox=i.path.getBBox(i.path.map(e.realPath,n.add(e.matrix))),i._.box(o.bbox))}catch(s){return i._.box()}};var c=function(){return this.string};t.transform=function(t){var e=this._;if(null==t){for(var n,o=this,a=new i.Matrix(this.node.getCTM()),s=h(this),l=[s],u=new i.Matrix,d=s.toTransformString(),f=E(s)==E(this.matrix)?E(e.transform):d;"svg"!=o.type&&(o=o.parent());)l.push(h(o));for(n=l.length;n--;)u.add(l[n]);return{string:f,globalMatrix:a,totalMatrix:u,localMatrix:s,diffMatrix:a.clone().add(s.invert()),global:a.toTransformString(),total:u.toTransformString(),local:d,toString:c}}return t instanceof i.Matrix?this.matrix=t:h(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?r(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?r(this.node,{patternTransform:this.matrix}):r(this.node,{transform:this.matrix})),this},t.parent=function(){return _(this.node.parentNode)},t.append=t.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=_(t),this.node.appendChild(t.node),t.paper=this.paper}return this},t.appendTo=function(t){return t&&(t=_(t),t.append(this)),this},t.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach(function(t){e?e.after(t):n.prepend(t),e=t}),this}t=_(t);var i=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),i&&i.add()}return this},t.prependTo=function(t){return t=_(t),t.prepend(this),this},t.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}t=_(t);var n=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},t.after=function(t){t=_(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},t.insertBefore=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.insertAfter=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},t.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},t.select=function(t){return _(this.node.querySelector(t))},t.selectAll=function(t){for(var e=this.node.querySelectorAll(t),n=(i.set||Array)(),r=0;r<e.length;r++)n.push(_(e[r]));return n},t.asPX=function(t,e){return null==e&&(e=this.attr(t)),+y(this,t,e)},t.use=function(){var t,e=this.node.id;return e||(e=this.id,r(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?S(this.type,this.node.parentNode):S("use",this.node.parentNode),r(t.node,{"xlink:href":"#"+e}),t.original=this,t};var u=/\S+/g;t.addClass=function(t){var e,n,i,r,o=(t||"").match(u)||[],a=this.node,s=a.className.baseVal,l=s.match(u)||[];if(o.length){for(e=0;i=o[e++];)n=l.indexOf(i),~n||l.push(i);r=l.join(" "),s!=r&&(a.className.baseVal=r)}return this},t.removeClass=function(t){var e,n,i,r,o=(t||"").match(u)||[],a=this.node,s=a.className.baseVal,l=s.match(u)||[];if(l.length){for(e=0;i=o[e++];)n=l.indexOf(i),~n&&l.splice(n,1);r=l.join(" "),s!=r&&(a.className.baseVal=r)}return this},t.hasClass=function(t){var e=this.node,n=e.className.baseVal,i=n.match(u)||[];return!!~i.indexOf(t)},t.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,i,r,o,a=(t||"").match(u)||[],s=this.node,l=s.className.baseVal,c=l.match(u)||[];for(n=0;r=a[n++];)i=c.indexOf(r),~i?c.splice(i,1):c.push(r);return o=c.join(" "),l!=o&&(s.className.baseVal=o),this},t.clone=function(){var t=_(this.node.cloneNode(!0));return r(t.node,"id")&&r(t.node,{id:t.id}),a(t),t.insertAfter(this),t},t.toDefs=function(){var t=m(this);return t.appendChild(this.node),this},t.pattern=t.toPattern=function(t,e,n,i){var a=S("pattern",m(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(e=t.y,n=t.width,i=t.height,t=t.x),r(a.node,{x:t,y:e,width:n,height:i,patternUnits:"userSpaceOnUse",id:a.id,viewBox:[t,e,n,i].join(" ")}),a.node.appendChild(this.node),a},t.marker=function(t,e,n,i,a,s){var l=S("marker",m(this));return null==t&&(t=this.getBBox()),o(t,"object")&&"x"in t&&(e=t.y,n=t.width,i=t.height,a=t.refX||t.cx,s=t.refY||t.cy,t=t.x),r(l.node,{viewBox:[t,e,n,i].join(j),markerWidth:n,markerHeight:i,orient:"auto",refX:a||0,refY:s||0,id:l.id}),l.node.appendChild(this.node),l};var d=function(t,e,i,r){"function"!=typeof i||i.length||(r=i,i=n.linear),this.attr=t,this.dur=e,i&&(this.easing=i),r&&(this.callback=r)};i._.Animation=d,i.animation=function(t,e,n,i){return new d(t,e,n,i)},t.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[k](n)&&!function(t){e.push({anim:new d(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e},i.animate=function(t,i,r,o,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear);var l=n.time(),c=n(t,i,l,l+o,n.time,r,a);return s&&e.once("mina.finish."+c.id,s),c},t.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;n>e;e++)t[e].stop();return this},t.animate=function(t,i,r,a){"function"!=typeof r||r.length||(a=r,r=n.linear),t instanceof d&&(a=t.callback,r=t.easing,i=r.dur,t=t.attr);var l,c,u,f,p=[],h=[],g={},m=this;for(var v in t)if(t[k](v)){m.equal?(f=m.equal(v,E(t[v])),l=f.from,c=f.to,u=f.f):(l=+m.attr(v),c=+t[v]);var y=o(l,"array")?l.length:1;g[v]=s(p.length,p.length+y,u),p=p.concat(l),h=h.concat(c)}var b=n.time(),w=n(p,h,b,b+i,n.time,function(t){var e={};for(var n in g)g[k](n)&&(e[n]=g[n](t));m.attr(e)},r);return m.anims[w.id]=w,w._attrs=t,w._callback=a,e("snap.animcreated."+m.id,w),e.once("mina.finish."+w.id,function(){delete m.anims[w.id],a&&a.call(m)}),e.once("mina.stop."+w.id,function(){delete m.anims[w.id]}),m};var f={};t.data=function(t,n){var r=f[this.id]=f[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,r,null),r;if(1==arguments.length){if(i.is(t,"object")){for(var o in t)t[k](o)&&this.data(o,t[o]);return this}return e("snap.data.get."+this.id,this,r[t],t),r[t]}return r[t]=n,e("snap.data.set."+this.id,this,n,t),this},t.removeData=function(t){return null==t?f[this.id]={}:f[this.id]&&delete f[this.id][t],this},t.outerSVG=t.toString=l(1),t.innerSVG=l()}(w.prototype),i.parse=function(t){var e=T.doc.createDocumentFragment(),n=!0,i=T.doc.createElement("div");if(t=E(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),i.innerHTML=t,t=i.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);
return i.innerHTML=O,new x(e)},x.prototype.select=w.prototype.select,x.prototype.selectAll=w.prototype.selectAll,i.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=T.doc.createDocumentFragment(),n=0,r=t.length;r>n;n++){var o=t[n];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(i.parse(o).node)}return new x(e)},i._.make=S,i._.wrap=_,C.prototype.el=function(t,e){var n=S(t,this.node);return e&&n.attr(e),n},e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return ot[k](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):r(this.node,t)});var ot={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var n=e.nt(),i={};n=n.substring(n.lastIndexOf(".")+1),i[n]=t;var o=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),a=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});ot[k](a)?this.node.style[o]=null==t?O:t:r(this.node,i)}),function(){}(C.prototype),i.ajax=function(t,n,i,r){var a=new XMLHttpRequest,s=X();if(a){if(o(n,"function"))r=i,i=n,n=null;else if(o(n,"object")){var l=[];for(var c in n)n.hasOwnProperty(c)&&l.push(encodeURIComponent(c)+"="+encodeURIComponent(n[c]));n=l.join("&")}return a.open(n?"POST":"GET",t,!0),n&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),i&&(e.once("snap.ajax."+s+".0",i),e.once("snap.ajax."+s+".200",i),e.once("snap.ajax."+s+".304",i)),a.onreadystatechange=function(){4==a.readyState&&e("snap.ajax."+s+"."+a.status,r,a)},4==a.readyState?a:(a.send(n),a)}},i.load=function(t,e,n){i.ajax(t,function(t){var r=i.parse(t.responseText);n?e.call(n,r):e(r)})};var at=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0,s=e.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-o,l=e.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a;return{y:s,x:l}};return i.getElementByPoint=function(t,e){var n=this,i=(n.canvas,T.doc.elementFromPoint(t,e));if(T.win.opera&&"svg"==i.tagName){var r=at(i),o=i.createSVGRect();o.x=t-r.x,o.y=e-r.y,o.width=o.height=1;var a=i.getIntersectionList(o,null);a.length&&(i=a[a.length-1])}return i?_(i):null},i.plugin=function(t){t(i,w,C,T,x)},T.win.Snap=i,i}();return i.plugin(function(t){function e(t,e,i,r,o,a){return null==e&&"[object SVGMatrix]"==n.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+r,this.e=+o,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var n=Object.prototype.toString,i=String,r=Math,o="";!function(n){function a(t){return t[0]*t[0]+t[1]*t[1]}function s(t){var e=r.sqrt(a(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}n.add=function(t,n,i,r,o,a){var s,l,c,u,d=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,i,o],[n,r,a],[0,0,1]];for(t&&t instanceof e&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(l=0;3>l;l++){for(u=0,c=0;3>c;c++)u+=f[s][c]*p[c][l];d[s][l]=u}return this.a=d[0][0],this.b=d[1][0],this.c=d[0][1],this.d=d[1][1],this.e=d[0][2],this.f=d[1][2],this},n.invert=function(){var t=this,n=t.a*t.d-t.b*t.c;return new e(t.d/n,-t.b/n,-t.c/n,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.b*t.e-t.a*t.f)/n)},n.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(t,e){return this.add(1,0,0,1,t,e)},n.scale=function(t,e,n,i){return null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i),this},n.rotate=function(e,n,i){e=t.rad(e),n=n||0,i=i||0;var o=+r.cos(e).toFixed(9),a=+r.sin(e).toFixed(9);return this.add(o,a,-a,o,n,i),this.add(1,0,0,1,-n,-i)},n.x=function(t,e){return t*this.a+e*this.c+this.e},n.y=function(t,e){return t*this.b+e*this.d+this.f},n.get=function(t){return+this[i.fromCharCode(97+t)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var e={};e.dx=this.e,e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=r.sqrt(a(n[0])),s(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=r.sqrt(a(n[1])),s(n[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var i=-n[0][1],o=n[1][1];return 0>o?(e.rotate=t.deg(r.acos(o)),0>i&&(e.rotate=360-e.rotate)):e.rotate=t.deg(r.asin(i)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},n.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:o)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:o)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:o))}}(e.prototype),t.Matrix=e,t.matrix=function(t,n,i,r,o,a){return new e(t,n,i,r,o,a)}}),i.plugin(function(t,n,i,r,o){function a(i){return function(r){if(e.stop(),r instanceof o&&1==r.node.childNodes.length&&("radialGradient"==r.node.firstChild.tagName||"linearGradient"==r.node.firstChild.tagName||"pattern"==r.node.firstChild.tagName)&&(r=r.node.firstChild,p(this).appendChild(r),r=d(r)),r instanceof n)if("radialGradient"==r.type||"linearGradient"==r.type||"pattern"==r.type){r.node.id||g(r.node,{id:r.id});var a=m(r.node.id)}else a=r.attr(i);else if(a=t.color(r),a.error){var s=t(p(this).ownerSVGElement).gradient(r);s?(s.node.id||g(s.node,{id:s.id}),a=m(s.node.id)):a=r}else a=v(a);var l={};l[i]=a,g(this.node,l),this.node.style[i]=b}}function s(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function l(t){for(var e=[],n=t.childNodes,i=0,r=n.length;r>i;i++){var o=n[i];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&e.push(1==o.childNodes.length&&3==o.firstChild.nodeType?o.firstChild.nodeValue:l(o))}return e}function c(){return e.stop(),this.node.style.fontSize}var u=t._.make,d=t._.wrap,f=t.is,p=t._.getSomeDefs,h=/^url\(#?([^)]+)\)$/,g=t._.$,m=t.url,v=String,y=t._.separator,b="";e.on("snap.util.attr.mask",function(t){if(t instanceof n||t instanceof o){if(e.stop(),t instanceof o&&1==t.node.childNodes.length&&(t=t.node.firstChild,p(this).appendChild(t),t=d(t)),"mask"==t.type)var i=t;else i=u("mask",p(this)),i.node.appendChild(t.node);!i.node.id&&g(i.node,{id:i.id}),g(this.node,{mask:m(i.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof n||t instanceof o){if(e.stop(),"clipPath"==t.type)var i=t;else i=u("clipPath",p(this)),i.node.appendChild(t.node),!i.node.id&&g(i.node,{id:i.id});g(this.node,{"clip-path":m(i.id)})}}),e.on("snap.util.attr.fill",a("fill")),e.on("snap.util.attr.stroke",a("stroke"));var w=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=v(t);var e=t.match(w);if(!e)return null;var n=e[1],i=e[2],r=e[3];return i=i.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==i.length&&0==i[0]&&(i=[]),r=r.split("-"),r=r.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:n,params:i,stops:r}}),e.on("snap.util.attr.d",function(n){e.stop(),f(n,"array")&&f(n[0],"array")&&(n=t.path.toString.call(n)),n=v(n),n.match(/[ruo]/i)&&(n=t.path.toAbsolute(n)),g(this.node,{d:n})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=v(t);for(var n=r.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var n;n=f(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):f(t,"array")?t.join(" "):t,g(this.node,{viewBox:n}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),g(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var i,r,o;if(!t&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(f(t,"string")){var a=p(this),s=d(a.parentNode).path(t);a.appendChild(s.node),i=s.id,s.attr({id:i})}else t=d(t),t instanceof n&&(i=t.attr("id"),i||(i=t.id,t.attr({id:i})));if(i)if(r=this.textPath,o=this.node,r)r.attr({"xlink:href":"#"+i});else{for(r=g("textPath",{"xlink:href":"#"+i});o.firstChild;)r.appendChild(o.firstChild);o.appendChild(r),this.textPath=d(r)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,i=function(t){var e=g("tspan");if(f(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(i(t[n]));else e.appendChild(r.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var o=i(t);o.firstChild;)n.appendChild(o.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",s)(-1),e.on("snap.util.attr.font-size",s)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function n(n){return function(){e.stop();var i=r.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==i?i:t(r.doc.getElementById(i.match(h)[1]))}}function i(t){return function(n){e.stop();var i="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==n||!n)return void(this.node.style[i]="none");if("marker"==n.type){var r=n.node.id;return r||g(n.node,{id:n.id}),void(this.node.style[i]=m(r))}}}e.on("snap.util.getattr.marker-end",n("end"))(-1),e.on("snap.util.getattr.markerEnd",n("end"))(-1),e.on("snap.util.getattr.marker-start",n("start"))(-1),e.on("snap.util.getattr.markerStart",n("start"))(-1),e.on("snap.util.getattr.marker-mid",n("mid"))(-1),e.on("snap.util.getattr.markerMid",n("mid"))(-1),e.on("snap.util.attr.marker-end",i("end"))(-1),e.on("snap.util.attr.markerEnd",i("end"))(-1),e.on("snap.util.attr.marker-start",i("start"))(-1),e.on("snap.util.attr.markerStart",i("start"))(-1),e.on("snap.util.attr.marker-mid",i("mid"))(-1),e.on("snap.util.attr.markerMid",i("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&g(this.node,"rx")==g(this.node,"ry")?(e.stop(),g(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=l(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var n=g(this.node,"viewBox");return n?(n=n.split(y),t._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=g(this.node,"points");return e.stop(),t?t.split(y):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=g(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",c)(-1),e.on("snap.util.getattr.font-size",c)(-1)}),i.plugin(function(){function t(t){return t}function n(t){return function(e){return+e.toFixed(3)+t}}var i={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},r=String,o=/[a-z]+$/i,a=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var n=r(t).match(a);if(n){var s=e.nt(),l=s.substring(s.lastIndexOf(".")+1),c=this.attr(l),u={};e.stop();var d=n[3]||"",f=c.match(o),p=i[n[1]];if(f&&f==d?t=p(parseFloat(c),+n[2]):(c=this.asPX(l),t=p(this.asPX(l),this.asPX(l,n[2]+d))),isNaN(c)||isNaN(t))return;u[l]=t,this.attr(u)}})(-10),e.on("snap.util.equal",function(s,l){var c=r(this.attr(s)||""),u=r(l).match(a);if(u){e.stop();var d=u[3]||"",f=c.match(o),p=i[u[1]];return f&&f==d?{from:parseFloat(c),to:p(parseFloat(c),+u[2]),f:n(f)}:(c=this.asPX(s),{from:c,to:p(c,this.asPX(s,u[2]+d)),f:t})}})(-10)}),i.plugin(function(t,n,i,r){var o=i.prototype,a=t.is;o.rect=function(t,e,n,i,r,o){var s;return null==o&&(o=r),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:n,height:i},null!=r&&(s.rx=r,s.ry=o)),this.el("rect",s)},o.circle=function(t,e,n){var i;return a(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,r:n}),this.el("circle",i)};var s=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var i=r.doc.createElement("img"),o=r.doc.body;i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){n.call(i),i.onload=i.onerror=null,o.removeChild(i)},i.onerror=t,o.appendChild(i),i.src=e}}();o.image=function(e,n,i,r,o){var l=this.el("image");if(a(e,"object")&&"src"in e)l.attr(e);else if(null!=e){var c={"xlink:href":e,preserveAspectRatio:"none"};null!=n&&null!=i&&(c.x=n,c.y=i),null!=r&&null!=o?(c.width=r,c.height=o):s(e,function(){t._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})}),t._.$(l.node,c)}return l},o.ellipse=function(t,e,n,i){var r;return a(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,rx:n,ry:i}),this.el("ellipse",r)},o.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},o.group=o.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},o.svg=function(t,e,n,i,r,o,s,l){var c={};return a(t,"object")&&null==e?c=t:(null!=t&&(c.x=t),null!=e&&(c.y=e),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=o&&null!=s&&null!=l&&(c.viewBox=[r,o,s,l])),this.el("svg",c)},o.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},o.ptrn=function(t,e,n,i,r,o,s,l){if(a(t,"object"))var c=t;else arguments.length?(c={},null!=t&&(c.x=t),null!=e&&(c.y=e),null!=n&&(c.width=n),null!=i&&(c.height=i),null!=r&&null!=o&&null!=s&&null!=l&&(c.viewBox=[r,o,s,l])):c={patternUnits:"userSpaceOnUse"};return this.el("pattern",c)},o.use=function(t){return null!=t?(make("use",this.node),t instanceof n&&(t.attr("id")||t.attr({id:ID()}),t=t.attr("id")),this.el("use",{"xlink:href":t})):n.prototype.use.call(this)},o.text=function(t,e,n){var i={};return a(t,"object")?i=t:null!=t&&(i={x:t,y:e,text:n||""}),this.el("text",i)},o.line=function(t,e,n,i){var r={};return a(t,"object")?r=t:null!=t&&(r={x1:t,x2:n,y1:e,y2:i}),this.el("line",r)},o.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},o.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function n(){return this.selectAll("stop")}function i(e,n){var i=c("stop"),r={offset:+n+"%"};return e=t.color(e),r["stop-color"]=e.hex,e.opacity<1&&(r["stop-opacity"]=e.opacity),c(i,r),this.node.appendChild(i),this}function r(){if("linearGradient"==this.type){var e=c(this.node,"x1")||0,n=c(this.node,"x2")||1,i=c(this.node,"y1")||0,r=c(this.node,"y2")||0;return t._.box(e,i,math.abs(n-e),math.abs(r-i))}var o=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0;return t._.box(o-s,a-s,2*s,2*s)}function a(t,n){function i(t,e){for(var n=(e-d)/(t-f),i=f;t>i;i++)a[i].offset=+(+d+n*(i-f)).toFixed(2);f=t,d=e}var r,o=e("snap.util.grad.parse",null,n).firstDefined();if(!o)return null;o.params.unshift(t),r="l"==o.type.toLowerCase()?s.apply(0,o.params):l.apply(0,o.params),o.type!=o.type.toLowerCase()&&c(r.node,{gradientUnits:"userSpaceOnUse"});var a=o.stops,u=a.length,d=0,f=0;u--;for(var p=0;u>p;p++)"offset"in a[p]&&i(p,a[p].offset);for(a[u].offset=a[u].offset||100,i(u,a[u].offset),p=0;u>=p;p++){var h=a[p];r.addStop(h.color,h.offset)}return r}function s(e,o,a,s,l){var u=t._.make("linearGradient",e);return u.stops=n,u.addStop=i,u.getBBox=r,null!=o&&c(u.node,{x1:o,y1:a,x2:s,y2:l}),u}function l(e,o,a,s,l,u){var d=t._.make("radialGradient",e);return d.stops=n,d.addStop=i,d.getBBox=r,null!=o&&c(d.node,{cx:o,cy:a,r:s}),null!=l&&null!=u&&c(d.node,{fx:l,fy:u}),d}var c=t._.$;o.gradient=function(t){return a(this.defs,t)},o.gradientLinear=function(t,e,n,i){return s(this.defs,t,e,n,i)},o.gradientRadial=function(t,e,n,i,r){return l(this.defs,t,e,n,i,r)},o.toString=function(){var e,n=this.node.ownerDocument,i=n.createDocumentFragment(),r=n.createElement("div"),o=this.node.cloneNode(!0);return i.appendChild(r),r.appendChild(o),t._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),e=r.innerHTML,i.removeChild(i.firstChild),e},o.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):o.clear.call({node:e}),e=t}}()}),i.plugin(function(t,e){function n(t){var e=n.ps=n.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[j](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function i(t,e,n,i){return null==t&&(t=e=n=i=0),null==e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:z.min(n,i)/2,r2:z.max(n,i)/2,r0:z.sqrt(n*n+i*i)/2,path:S(t,e,n,i),vb:[t,e,n,i].join(" ")}}function r(){return this.join(",").replace(M,"$1")}function o(t){var e=O(t);return e.toString=r,e}function a(t,e,n,i,r,o,a,s,c){return null==c?p(t,e,n,i,r,o,a,s):l(t,e,n,i,r,o,a,s,h(t,e,n,i,r,o,a,s,c))}function s(n,i){function r(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,s){t instanceof e&&(t=t.attr("d")),t=$(t);for(var c,u,d,f,p,h="",g={},m=0,v=0,y=t.length;y>v;v++){if(d=t[v],"M"==d[0])c=+d[1],u=+d[2];else{if(f=a(c,u,d[1],d[2],d[3],d[4],d[5],d[6]),m+f>o){if(i&&!g.start){if(p=a(c,u,d[1],d[2],d[3],d[4],d[5],d[6],o-m),h+=["C"+r(p.start.x),r(p.start.y),r(p.m.x),r(p.m.y),r(p.x),r(p.y)],s)return h;g.start=h,h=["M"+r(p.x),r(p.y)+"C"+r(p.n.x),r(p.n.y),r(p.end.x),r(p.end.y),r(d[5]),r(d[6])].join(),m+=f,c=+d[5],u=+d[6];continue}if(!n&&!i)return p=a(c,u,d[1],d[2],d[3],d[4],d[5],d[6],o-m)}m+=f,c=+d[5],u=+d[6]}h+=d.shift()+d}return g.end=h,p=n?m:i?g:l(c,u,d[0],d[1],d[2],d[3],d[4],d[5],1)},null,t._.clone)}function l(t,e,n,i,r,o,a,s,l){var c=1-l,u=H(c,3),d=H(c,2),f=l*l,p=f*l,h=u*t+3*d*l*n+3*c*l*l*r+p*a,g=u*e+3*d*l*i+3*c*l*l*o+p*s,m=t+2*l*(n-t)+f*(r-2*n+t),v=e+2*l*(i-e)+f*(o-2*i+e),y=n+2*l*(r-n)+f*(a-2*r+n),b=i+2*l*(o-i)+f*(s-2*o+i),w=c*t+l*n,x=c*e+l*i,S=c*r+l*a,C=c*o+l*s,_=90-180*z.atan2(m-y,v-b)/R;return{x:h,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:S,y:C},alpha:_}}function c(e,n,r,o,a,s,l,c){t.is(e,"array")||(e=[e,n,r,o,a,s,l,c]);var u=P.apply(null,e);return i(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function u(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function d(t,e){return t=i(t),e=i(e),u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function f(t,e,n,i,r){var o=-3*e+9*n-9*i+3*r,a=t*o+6*e-12*n+6*i;return t*a-3*e+3*n}function p(t,e,n,i,r,o,a,s,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var c=l/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,g=0;u>g;g++){var m=c*d[g]+c,v=f(m,t,n,r,a),y=f(m,e,i,o,s),b=v*v+y*y;h+=p[g]*z.sqrt(b)}return c*h}function h(t,e,n,i,r,o,a,s,l){if(!(0>l||p(t,e,n,i,r,o,a,s)<l)){var c,u=1,d=u/2,f=u-d,h=.01;for(c=p(t,e,n,i,r,o,a,s,f);K(c-l)>h;)d/=2,f+=(l>c?1:-1)*d,c=p(t,e,n,i,r,o,a,s,f);return f}}function g(t,e,n,i,r,o,a,s){if(!(B(t,n)<V(r,a)||V(t,n)>B(r,a)||B(e,i)<V(o,s)||V(e,i)>B(o,s))){var l=(t*i-e*n)*(r-a)-(t-n)*(r*s-o*a),c=(t*i-e*n)*(o-s)-(e-i)*(r*s-o*a),u=(t-n)*(o-s)-(e-i)*(r-a);if(u){var d=l/u,f=c/u,p=+d.toFixed(2),h=+f.toFixed(2);if(!(p<+V(t,n).toFixed(2)||p>+B(t,n).toFixed(2)||p<+V(r,a).toFixed(2)||p>+B(r,a).toFixed(2)||h<+V(e,i).toFixed(2)||h>+B(e,i).toFixed(2)||h<+V(o,s).toFixed(2)||h>+B(o,s).toFixed(2)))return{x:d,y:f}}}}function m(t,e,n){var i=c(t),r=c(e);if(!d(i,r))return n?0:[];for(var o=p.apply(0,t),a=p.apply(0,e),s=~~(o/8),u=~~(a/8),f=[],h=[],m={},v=n?0:[],y=0;s+1>y;y++){var b=l.apply(0,t.concat(y/s));f.push({x:b.x,y:b.y,t:y/s})}for(y=0;u+1>y;y++)b=l.apply(0,e.concat(y/u)),h.push({x:b.x,y:b.y,t:y/u});for(y=0;s>y;y++)for(var w=0;u>w;w++){var x=f[y],S=f[y+1],C=h[w],_=h[w+1],T=K(S.x-x.x)<.001?"y":"x",k=K(_.x-C.x)<.001?"y":"x",E=g(x.x,x.y,S.x,S.y,C.x,C.y,_.x,_.y);if(E){if(m[E.x.toFixed(4)]==E.y.toFixed(4))continue;m[E.x.toFixed(4)]=E.y.toFixed(4);var D=x.t+K((E[T]-x[T])/(S[T]-x[T]))*(S.t-x.t),P=C.t+K((E[k]-C[k])/(_[k]-C[k]))*(_.t-C.t);D>=0&&1>=D&&P>=0&&1>=P&&(n?v++:v.push({x:E.x,y:E.y,t1:D,t2:P}))}}return v}function v(t,e){return b(t,e)}function y(t,e){return b(t,e,1)}function b(t,e,n){t=$(t),e=$(e);for(var i,r,o,a,s,l,c,u,d,f,p=n?0:[],h=0,g=t.length;g>h;h++){var v=t[h];if("M"==v[0])i=s=v[1],r=l=v[2];else{"C"==v[0]?(d=[i,r].concat(v.slice(1)),i=d[6],r=d[7]):(d=[i,r,i,r,s,l,s,l],i=s,r=l);for(var y=0,b=e.length;b>y;y++){var w=e[y];if("M"==w[0])o=c=w[1],a=u=w[2];else{"C"==w[0]?(f=[o,a].concat(w.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,c,u,c,u],o=c,a=u);var x=m(d,f,n);if(n)p+=x;else{for(var S=0,C=x.length;C>S;S++)x[S].segment1=h,x[S].segment2=y,x[S].bez1=d,x[S].bez2=f;p=p.concat(x)}}}}}return p}function w(t,e,n){var i=x(t);return u(i,e,n)&&b(t,[["M",e,n],["H",i.x2+10]],1)%2==1}function x(t){var e=n(t);if(e.bbox)return O(e.bbox);if(!t)return i();t=$(t);for(var r,o=0,a=0,s=[],l=[],c=0,u=t.length;u>c;c++)if(r=t[c],"M"==r[0])o=r[1],a=r[2],s.push(o),l.push(a);else{var d=P(o,a,r[1],r[2],r[3],r[4],r[5],r[6]);s=s.concat(d.min.x,d.max.x),l=l.concat(d.min.y,d.max.y),o=r[5],a=r[6]}var f=V.apply(0,s),p=V.apply(0,l),h=B.apply(0,s),g=B.apply(0,l),m=i(f,p,h-f,g-p);return e.bbox=O(m),m}function S(t,e,n,i,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,i-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-i],["a",o,o,0,0,1,o,-o],["z"]];var a=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return a.toString=r,a}function C(t,e,n,i,o){if(null==o&&null==i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!=o)var a=Math.PI/180,s=t+n*Math.cos(-i*a),l=t+n*Math.cos(-o*a),c=e+n*Math.sin(-i*a),u=e+n*Math.sin(-o*a),d=[["M",s,c],["A",n,n,0,+(o-i>180),0,l,u]];else d=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return d.toString=r,d}function _(e){var i=n(e),a=String.prototype.toLowerCase;if(i.rel)return o(i.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var s=[],l=0,c=0,u=0,d=0,f=0;"M"==e[0][0]&&(l=e[0][1],c=e[0][2],u=l,d=c,f++,s.push(["M",l,c]));for(var p=f,h=e.length;h>p;p++){var g=s[p]=[],m=e[p];if(m[0]!=a.call(m[0]))switch(g[0]=a.call(m[0]),g[0]){case"a":g[1]=m[1],g[2]=m[2],g[3]=m[3],g[4]=m[4],g[5]=m[5],g[6]=+(m[6]-l).toFixed(3),g[7]=+(m[7]-c).toFixed(3);break;case"v":g[1]=+(m[1]-c).toFixed(3);break;case"m":u=m[1],d=m[2];default:for(var v=1,y=m.length;y>v;v++)g[v]=+(m[v]-(v%2?l:c)).toFixed(3)}else{g=s[p]=[],"m"==m[0]&&(u=m[1]+l,d=m[2]+c);for(var b=0,w=m.length;w>b;b++)s[p][b]=m[b]}var x=s[p].length;switch(s[p][0]){case"z":l=u,c=d;break;case"h":l+=+s[p][x-1];break;case"v":c+=+s[p][x-1];break;default:l+=+s[p][x-2],c+=+s[p][x-1]}}return s.toString=r,i.rel=o(s),s}function T(e){var i=n(e);if(i.abs)return o(i.abs);if(N(e,"array")&&N(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var a,s=[],l=0,c=0,u=0,d=0,f=0;"M"==e[0][0]&&(l=+e[0][1],c=+e[0][2],u=l,d=c,f++,s[0]=["M",l,c]);for(var p,h,g=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=f,v=e.length;v>m;m++){if(s.push(p=[]),h=e[m],a=h[0],a!=a.toUpperCase())switch(p[0]=a.toUpperCase(),p[0]){case"A":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+h[6]+l,p[7]=+h[7]+c;break;case"V":p[1]=+h[1]+c;break;case"H":p[1]=+h[1]+l;break;case"R":for(var y=[l,c].concat(h.slice(1)),b=2,w=y.length;w>b;b++)y[b]=+y[b]+l,y[++b]=+y[b]+c;s.pop(),s=s.concat(L(y,g));break;case"O":s.pop(),y=C(l,c,h[1],h[2]),y.push(y[0]),s=s.concat(y);break;case"U":s.pop(),s=s.concat(C(l,c,h[1],h[2],h[3])),p=["U"].concat(s[s.length-1].slice(-2));break;case"M":u=+h[1]+l,d=+h[2]+c;default:for(b=1,w=h.length;w>b;b++)p[b]=+h[b]+(b%2?l:c)}else if("R"==a)y=[l,c].concat(h.slice(1)),s.pop(),s=s.concat(L(y,g)),p=["R"].concat(h.slice(-2));else if("O"==a)s.pop(),y=C(l,c,h[1],h[2]),y.push(y[0]),s=s.concat(y);else if("U"==a)s.pop(),s=s.concat(C(l,c,h[1],h[2],h[3])),p=["U"].concat(s[s.length-1].slice(-2));else for(var x=0,S=h.length;S>x;x++)p[x]=h[x];if(a=a.toUpperCase(),"O"!=a)switch(p[0]){case"Z":l=+u,c=+d;break;case"H":l=p[1];break;case"V":c=p[1];break;case"M":u=p[p.length-2],d=p[p.length-1];default:l=p[p.length-2],c=p[p.length-1]}}return s.toString=r,i.abs=o(s),s}function k(t,e,n,i){return[t,e,n,i,n,i]}function E(t,e,n,i,r,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*i,a*r+s*n,a*o+s*i,r,o]}function D(e,n,i,r,o,a,s,l,c,u){var d,f=120*R/180,p=R/180*(+o||0),h=[],g=t._.cacher(function(t,e,n){var i=t*z.cos(n)-e*z.sin(n),r=t*z.sin(n)+e*z.cos(n);return{x:i,y:r}});if(u)_=u[0],T=u[1],S=u[2],C=u[3];else{d=g(e,n,-p),e=d.x,n=d.y,d=g(l,c,-p),l=d.x,c=d.y;var m=(z.cos(R/180*o),z.sin(R/180*o),(e-l)/2),v=(n-c)/2,y=m*m/(i*i)+v*v/(r*r);y>1&&(y=z.sqrt(y),i=y*i,r=y*r);var b=i*i,w=r*r,x=(a==s?-1:1)*z.sqrt(K((b*w-b*v*v-w*m*m)/(b*v*v+w*m*m))),S=x*i*v/r+(e+l)/2,C=x*-r*m/i+(n+c)/2,_=z.asin(((n-C)/r).toFixed(9)),T=z.asin(((c-C)/r).toFixed(9));_=S>e?R-_:_,T=S>l?R-T:T,0>_&&(_=2*R+_),0>T&&(T=2*R+T),s&&_>T&&(_-=2*R),!s&&T>_&&(T-=2*R)}var k=T-_;if(K(k)>f){var E=T,P=l,$=c;T=_+f*(s&&T>_?1:-1),l=S+i*z.cos(T),c=C+r*z.sin(T),h=D(l,c,i,r,o,0,s,P,$,[T,E,S,C])}k=T-_;var A=z.cos(_),L=z.sin(_),I=z.cos(T),N=z.sin(T),O=z.tan(k/4),j=4/3*i*O,M=4/3*r*O,F=[e,n],V=[e+j*L,n-M*A],B=[l+j*N,c-M*I],H=[l,c];if(V[0]=2*F[0]-V[0],V[1]=2*F[1]-V[1],u)return[V,B,H].concat(h);h=[V,B,H].concat(h).join().split(",");for(var W=[],q=0,X=h.length;X>q;q++)W[q]=q%2?g(h[q-1],h[q],p).y:g(h[q],h[q+1],p).x;return W}function P(t,e,n,i,r,o,a,s){for(var l,c,u,d,f,p,h,g,m=[],v=[[],[]],y=0;2>y;++y)if(0==y?(c=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*a,u=3*n-3*t):(c=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*s,u=3*i-3*e),K(l)<1e-12){if(K(c)<1e-12)continue;d=-u/c,d>0&&1>d&&m.push(d)}else h=c*c-4*u*l,g=z.sqrt(h),0>h||(f=(-c+g)/(2*l),f>0&&1>f&&m.push(f),p=(-c-g)/(2*l),p>0&&1>p&&m.push(p));for(var b,w=m.length,x=w;w--;)d=m[w],b=1-d,v[0][w]=b*b*b*t+3*b*b*d*n+3*b*d*d*r+d*d*d*a,v[1][w]=b*b*b*e+3*b*b*d*i+3*b*d*d*o+d*d*d*s;return v[0][x]=t,v[1][x]=e,v[0][x+1]=a,v[1][x+1]=s,v[0].length=v[1].length=x+2,{min:{x:V.apply(0,v[0]),y:V.apply(0,v[1])},max:{x:B.apply(0,v[0]),y:B.apply(0,v[1])}}}function $(t,e){var i=!e&&n(t);if(!e&&i.curve)return o(i.curve);for(var r=T(t),a=e&&T(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=(function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(D.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(E(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(E(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(k(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(k(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(k(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(k(e.x,e.y,e.X,e.Y))}return t}),u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)f[e]="A",a&&(p[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),v=B(r.length,a&&a.length||0)}},d=function(t,e,n,i,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],v=B(r.length,a&&a.length||0))},f=[],p=[],h="",g="",m=0,v=B(r.length,a&&a.length||0);v>m;m++){r[m]&&(h=r[m][0]),"C"!=h&&(f[m]=h,m&&(g=f[m-1])),r[m]=c(r[m],s,g),"A"!=f[m]&&"C"==h&&(f[m]="C"),u(r,m),a&&(a[m]&&(h=a[m][0]),"C"!=h&&(p[m]=h,m&&(g=p[m-1])),a[m]=c(a[m],l,g),"A"!=p[m]&&"C"==h&&(p[m]="C"),u(a,m)),d(r,a,s,l,m),d(a,r,l,s,m);var y=r[m],b=a&&a[m],w=y.length,x=a&&b.length;s.x=y[w-2],s.y=y[w-1],s.bx=F(y[w-4])||s.x,s.by=F(y[w-3])||s.y,l.bx=a&&(F(b[x-4])||l.x),l.by=a&&(F(b[x-3])||l.y),l.x=a&&b[x-2],l.y=a&&b[x-1]}return a||(i.curve=o(r)),a?[r,a]:r}function A(t,e){if(!e)return t;var n,i,r,o,a,s,l;for(t=$(t),r=0,a=t.length;a>r;r++)for(l=t[r],o=1,s=l.length;s>o;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t}function L(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var I=e.prototype,N=t.is,O=t._.clone,j="hasOwnProperty",M=/,?([a-z]),?/gi,F=parseFloat,z=Math,R=z.PI,V=z.min,B=z.max,H=z.pow,K=z.abs,W=s(1),q=s(),X=s(0,1),Y=t._unit2px,U={path:function(t){return t.attr("path")},circle:function(t){var e=Y(t);return C(e.cx,e.cy,e.r)},ellipse:function(t){var e=Y(t);return C(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=Y(t);return S(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=Y(t);return S(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return S(e.x,e.y,e.width,e.height)}};t.path=n,t.path.getTotalLength=W,t.path.getPointAtLength=q,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return X(t,e).end;var i=X(t,n,1);return e?X(i,e).end:i},I.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},I.getPointAtLength=function(t){return q(this.attr("d"),t)},I.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=i,t.path.findDotsAtSegment=l,t.path.bezierBBox=c,t.path.isPointInsideBBox=u,t.path.isBBoxIntersect=d,t.path.intersection=v,t.path.intersectionNumber=y,t.path.isPointInside=w,t.path.getBBox=x,t.path.get=U,t.path.toRelative=_,
t.path.toAbsolute=T,t.path.toCubic=$,t.path.map=A,t.path.toString=r,t.path.clone=o}),i.plugin(function(t){var i=Math.max,r=Math.min,o=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},a=o.prototype;a.push=function(){for(var t,e,n=0,i=arguments.length;i>n;n++)t=arguments[n],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},a.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},a.forEach=function(t,e){for(var n=0,i=this.items.length;i>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this},a.animate=function(i,r,o,a){"function"!=typeof o||o.length||(a=o,o=n.linear),i instanceof t._.Animation&&(a=i.callback,o=i.easing,r=o.dur,i=i.attr);var s=arguments;if(t.is(i,"array")&&t.is(s[s.length-1],"array"))var l=!0;var c,u=function(){c?this.b=c:c=this.b},d=0,f=a&&function(){d++==this.length&&a.call(this)};return this.forEach(function(t,n){e.once("snap.animcreated."+t.id,u),l?s[n]&&t.animate.apply(t,s[n]):t.animate(i,r,o,f)})},a.remove=function(){for(;this.length;)this.pop().remove();return this},a.bind=function(t,e,n){var i={};if("function"==typeof e)this.bindings[t]=e;else{var r=n||t;this.bindings[t]=function(t){i[r]=t,e.attr(i)}}return this},a.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var i=0,r=this.items.length;r>i;i++)this.items[i].attr(e);return this},a.clear=function(){for(;this.length;)this.pop()},a.splice=function(t,e){t=0>t?i(this.length+t,0):t,e=i(0,r(this.length-t,e));var n,a=[],s=[],l=[];for(n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;e>n;n++)s.push(this[t+n]);for(;n<this.length-t;n++)a.push(this[t+n]);var c=l.length;for(n=0;n<c+a.length;n++)this.items[t+n]=this[t+n]=c>n?l[n]:a[n-c];for(n=this.items.length=this.length-=e-c;this[n];)delete this[n++];return new o(s)},a.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},a.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},a.getBBox=function(){for(var t=[],e=[],n=[],o=[],a=this.items.length;a--;)if(!this.items[a].removed){var s=this.items[a].getBBox();t.push(s.x),e.push(s.y),n.push(s.x+s.width),o.push(s.y+s.height)}return t=r.apply(0,t),e=r.apply(0,e),n=i.apply(0,n),o=i.apply(0,o),{x:t,y:e,x2:n,y2:o,width:n-t,height:o-e,cx:t+(n-t)/2,cy:e+(o-e)/2}},a.clone=function(t){t=new o;for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},a.toString=function(){return"Snap‘s set"},a.type="set",t.set=function(){var t=new o;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),i.plugin(function(t,n){function i(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function r(e,n,r){n=f(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var o,a,s,u,d=Math.max(e.length,n.length),p=[],h=[],g=0;d>g;g++){if(s=e[g]||i(n[g]),u=n[g]||i(s),s[0]!=u[0]||"r"==s[0].toLowerCase()&&(s[2]!=u[2]||s[3]!=u[3])||"s"==s[0].toLowerCase()&&(s[3]!=u[3]||s[4]!=u[4])){e=t._.transform2matrix(e,r()),n=t._.transform2matrix(n,r()),p=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],h=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(p[g]=[],h[g]=[],o=0,a=Math.max(s.length,u.length);a>o;o++)o in s&&(p[g][o]=s[o]),o in u&&(h[g][o]=u[o])}return{from:c(p),to:c(h),f:l(p)}}function o(t){return t}function a(t){return function(e){return+e.toFixed(3)+t}}function s(e){return t.rgb(e[0],e[1],e[2])}function l(t){var e,n,i,r,o,a,s=0,l=[];for(e=0,n=t.length;n>e;e++){for(o="[",a=['"'+t[e][0]+'"'],i=1,r=t[e].length;r>i;i++)a[i]="val["+s++ +"]";o+=a+"]",l[e]=o}return Function("val","return Snap.path.toString.call(["+l+"])")}function c(t){for(var e=[],n=0,i=t.length;i>n;n++)for(var r=1,o=t[n].length;o>r;r++)e.push(t[n][r]);return e}var u={},d=/[a-z]+$/i,f=String;u.stroke=u.fill="colour",n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()},e.on("snap.util.equal",function(e,n){var i,p,h=f(this.attr(e)||""),g=this;if(h==+h&&n==+n)return{from:+h,to:+n,f:o};if("colour"==u[e])return i=t.color(h),p=t.color(n),{from:[i.r,i.g,i.b,i.opacity],to:[p.r,p.g,p.b,p.opacity],f:s};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return n instanceof t.Matrix&&(n=n.toTransformString()),t._.rgTransform.test(n)||(n=t._.svgTransform2string(n)),r(h,n,function(){return g.getBBox(1)});if("d"==e||"path"==e)return i=t.path.toCubic(h,n),{from:c(i[0]),to:c(i[1]),f:l(i[0])};if("points"==e)return i=f(h).split(t._.separator),p=f(n).split(t._.separator),{from:i,to:p,f:function(t){return t}};aUnit=h.match(d);var m=f(n).match(d);return aUnit&&aUnit==m?{from:parseFloat(h),to:parseFloat(n),f:a(aUnit)}:{from:this.asPX(e),to:this.asPX(e,n),f:o}})}),i.plugin(function(t,n,i,r){for(var o=n.prototype,a="hasOwnProperty",s=("createTouch"in r.doc),l=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=(function(t,e){var n="y"==t?"scrollTop":"scrollLeft",i=e&&e.node?e.node.ownerDocument:r.doc;return i[n in i.documentElement?"documentElement":"body"][n]}),d=function(){this.returnValue=!1},f=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},h=function(){return this.originalEvent.stopPropagation()},g=function(){return r.doc.addEventListener?function(t,e,n,i){var r=s&&c[e]?c[e]:e,o=function(r){var o=u("y",i),l=u("x",i);if(s&&c[a](e))for(var d=0,p=r.targetTouches&&r.targetTouches.length;p>d;d++)if(r.targetTouches[d].target==t||t.contains(r.targetTouches[d].target)){var g=r;r=r.targetTouches[d],r.originalEvent=g,r.preventDefault=f,r.stopPropagation=h;break}var m=r.clientX+l,v=r.clientY+o;return n.call(i,r,m,v)};return e!==r&&t.addEventListener(e,o,!1),t.addEventListener(r,o,!1),function(){return e!==r&&t.removeEventListener(e,o,!1),t.removeEventListener(r,o,!1),!0}}:r.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||i.node.ownerDocument.window.event;var e=u("y",i),r=u("x",i),o=t.clientX+r,a=t.clientY+e;return t.preventDefault=t.preventDefault||d,t.stopPropagation=t.stopPropagation||p,n.call(i,t,o,a)};t.attachEvent("on"+e,r);var o=function(){return t.detachEvent("on"+e,r),!0};return o}:void 0}(),m=[],v=function(t){for(var n,i=t.clientX,r=t.clientY,o=u("y"),a=u("x"),l=m.length;l--;){if(n=m[l],s){for(var c,d=t.touches&&t.touches.length;d--;)if(c=t.touches[d],c.identifier==n.el._drag.id||n.el.node.contains(c.target)){i=c.clientX,r=c.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var f=n.el.node;f.nextSibling,f.parentNode,f.style.display,i+=a,r+=o,e("snap.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,t)}},y=function(n){t.unmousemove(v).unmouseup(y);for(var i,r=m.length;r--;)i=m[r],i.el._drag={},e("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);m=[]},b=l.length;b--;)!function(e){t[e]=o[e]=function(n,i){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:g(this.node||document,e,n,i||this)})),this},t["un"+e]=o["un"+e]=function(t){for(var n=this.events||[],i=n.length;i--;)if(n[i].name==e&&(n[i].f==t||!t))return n[i].unbind(),n.splice(i,1),!n.length&&delete this.events,this;return this}}(l[b]);o.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},o.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var w=[];o.drag=function(n,i,r,o,a,s){function l(l,c,u){(l.originalEvent||l).preventDefault(),this._drag.x=c,this._drag.y=u,this._drag.id=l.identifier,!m.length&&t.mousemove(v).mouseup(y),m.push({el:this,move_scope:o,start_scope:a,end_scope:s}),i&&e.on("snap.drag.start."+this.id,i),n&&e.on("snap.drag.move."+this.id,n),r&&e.on("snap.drag.end."+this.id,r),e("snap.drag.start."+this.id,a||o||this,c,u,l)}if(!arguments.length){var c;return this.drag(function(t,e){this.attr({transform:c+(c?"T":"t")+[t,e]})},function(){c=this.transform().local})}return this._drag={},w.push({el:this,start:l}),this.mousedown(l),this},o.undrag=function(){for(var n=w.length;n--;)w[n].el==this&&(this.unmousedown(w[n].start),w.splice(n,1),e.unbind("snap.drag.*."+this.id));return!w.length&&t.unmousemove(v).unmouseup(y),this}}),i.plugin(function(t,n,i){var r=(n.prototype,i.prototype),o=/^\s*url\((.+)\)/,a=String,s=t._.$;t.filter={},r.filter=function(e){var i=this;"svg"!=i.type&&(i=i.paper);var r=t.parse(a(e)),o=t._.id(),l=(i.node.offsetWidth,i.node.offsetHeight,s("filter"));return s(l,{id:o,filterUnits:"userSpaceOnUse"}),l.appendChild(r.node),i.defs.appendChild(l),new n(l)},e.on("snap.util.getattr.filter",function(){e.stop();var n=s(this.node,"filter");if(n){var i=a(n).match(o);return i&&t.select(i[1])}}),e.on("snap.util.attr.filter",function(i){if(i instanceof n&&"filter"==i.type){e.stop();var r=i.node.id;r||(s(i.node,{id:i.id}),r=i.id),s(this.node,{filter:t.url(r)})}i&&"none"!=i||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var i=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,i,r,o){return"string"==typeof i&&(r=i,o=r,i=4),"string"!=typeof r&&(o=r,r="#000"),r=r||"#000",null==i&&(i=4),null==o&&(o=1),null==e&&(e=0,n=2),null==n&&(n=e),r=t.color(r),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:e,dy:n,blur:i,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),i}),!function(t){function e(t){var e=t.length,i=n.type(t);return"function"!==i&&!n.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}if(!t.jQuery){var n=function(t,e){return new n.fn.init(t,e)};n.isWindow=function(t){return null!=t&&t==t.window},n.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[a.call(t)]||"object":typeof t},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isPlainObject=function(t){var e;if(!t||"object"!==n.type(t)||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(e in t);return void 0===e||o.call(t,e)},n.each=function(t,n,i){var r,o=0,a=t.length,s=e(t);if(i){if(s)for(;a>o&&(r=n.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=n.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=n.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=n.call(t[o],o,t[o]),r===!1)break;return t},n.data=function(t,e,r){if(void 0===r){var o=t[n.expando],a=o&&i[o];if(void 0===e)return a;if(a&&e in a)return a[e]}else if(void 0!==e){var o=t[n.expando]||(t[n.expando]=++n.uuid);return i[o]=i[o]||{},i[o][e]=r,r}},n.removeData=function(t,e){var r=t[n.expando],o=r&&i[r];o&&n.each(e,function(t,e){delete o[e]})},n.extend=function(){var t,e,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),l===c&&(s=this,l--);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=s[r],i=o[r],s!==i&&(u&&i&&(n.isPlainObject(i)||(e=n.isArray(i)))?(e?(e=!1,a=t&&n.isArray(t)?t:[]):a=t&&n.isPlainObject(t)?t:{},s[r]=n.extend(u,a,i)):void 0!==i&&(s[r]=i));return s},n.queue=function(t,i,r){function o(t,n){var i=n||[];return null!=t&&(e(Object(t))?!function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t}(i,"string"==typeof t?[t]:t):[].push.call(i,t)),i}if(t){i=(i||"fx")+"queue";var a=n.data(t,i);return r?(!a||n.isArray(r)?a=n.data(t,i,o(r)):a.push(r),a):a||[]}},n.dequeue=function(t,e){n.each(t.nodeType?[t]:t,function(t,i){e=e||"fx";var r=n.queue(i,e),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===e&&r.unshift("inprogress"),o.call(i,function(){n.dequeue(i,e)}))})},n.fn=n.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),i=this.offset(),r=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return i.top-=parseFloat(e.style.marginTop)||0,i.left-=parseFloat(e.style.marginLeft)||0,t.style&&(r.top+=parseFloat(t.style.borderTopWidth)||0,r.left+=parseFloat(t.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},o=r.hasOwnProperty,a=r.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)r["[object "+s[l]+"]"]=s[l].toLowerCase();n.fn.init.prototype=n.fn,t.Velocity={Utilities:n}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,n,i){function r(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function o(t){return g.isWrapped(t)?t=[].slice.call(t):g.isNode(t)&&(t=[t]),t}function a(t){var e=f.data(t,"velocity");return null===e?i:e}function s(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,n,i,r){function o(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function s(t){return 3*t}function l(t,e,n){return((o(e,n)*t+a(e,n))*t+s(e))*t}function c(t,e,n){return 3*o(e,n)*t*t+2*a(e,n)*t+s(e)}function u(e,n){for(var r=0;g>r;++r){var o=c(n,t,i);if(0===o)return n;var a=l(n,t,i)-e;n-=a/o}return n}function d(){for(var e=0;b>e;++e)C[e]=l(e*w,t,i)}function f(e,n,r){var o,a,s=0;do a=n+(r-n)/2,o=l(a,t,i)-e,o>0?r=a:n=a;while(Math.abs(o)>v&&++s<y);return a}function p(e){for(var n=0,r=1,o=b-1;r!=o&&C[r]<=e;++r)n+=w;--r;var a=(e-C[r])/(C[r+1]-C[r]),s=n+a*w,l=c(s,t,i);return l>=m?u(e,s):0==l?s:f(e,n,n+w)}function h(){_=!0,(t!=n||i!=r)&&d()}var g=4,m=.001,v=1e-7,y=10,b=11,w=1/(b-1),x="Float32Array"in e;if(4!==arguments.length)return!1;for(var S=0;4>S;++S)if("number"!=typeof arguments[S]||isNaN(arguments[S])||!isFinite(arguments[S]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var C=x?new Float32Array(b):new Array(b),_=!1,T=function(e){return _||h(),t===n&&i===r?e:0===e?0:1===e?1:l(p(e),n,r)};T.getControlPoints=function(){return[{x:t,y:n},{x:i,y:r}]};var k="generateBezier("+[t,n,i,r]+")";return T.toString=function(){return k},T}function c(t,e){var n=t;return g.isString(t)?b.Easings[t]||(n=!1):n=g.isArray(t)&&1===t.length?s.apply(null,t):g.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):!(!g.isArray(t)||4!==t.length)&&l.apply(null,t),n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function u(t){if(t)for(var e=(new Date).getTime(),n=0,r=b.State.calls.length;r>n;n++)if(b.State.calls[n]){var o=b.State.calls[n],s=o[0],l=o[2],c=o[3];c||(c=b.State.calls[n][3]=e-16);for(var p=Math.min((e-c)/l.duration,1),h=0,m=s.length;m>h;h++){var v=s[h],y=v.element;if(a(y)){var w=!1;if(l.display!==i&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var S=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(S,function(t,e){x.setPropertyValue(y,"display",e)})}x.setPropertyValue(y,"display",l.display)}l.visibility&&"hidden"!==l.visibility&&x.setPropertyValue(y,"visibility",l.visibility);for(var _ in v)if("element"!==_){var T,k=v[_],E=g.isString(k.easing)?b.Easings[k.easing]:k.easing;if(T=1===p?k.endValue:k.startValue+(k.endValue-k.startValue)*E(p),k.currentValue=T,x.Hooks.registered[_]){var D=x.Hooks.getRoot(_),P=a(y).rootPropertyValueCache[D];P&&(k.rootPropertyValue=P)}var $=x.setPropertyValue(y,_,k.currentValue+(0===parseFloat(T)?"":k.unitType),k.rootPropertyValue,k.scrollData);x.Hooks.registered[_]&&(a(y).rootPropertyValueCache[D]=x.Normalizations.registered[D]?x.Normalizations.registered[D]("extract",null,$[1]):$[1]),"transform"===$[0]&&(w=!0)}l.mobileHA&&a(y).transformCache.translate3d===i&&(a(y).transformCache.translate3d="(0px, 0px, 0px)",w=!0),w&&x.flushTransformCache(y)}}l.display!==i&&"none"!==l.display&&(b.State.calls[n][2].display=!1),l.visibility&&"hidden"!==l.visibility&&(b.State.calls[n][2].visibility=!1),l.progress&&l.progress.call(o[1],o[1],p,Math.max(0,c+l.duration-e),c),1===p&&d(n)}b.State.isTicking&&C(u)}function d(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],r=b.State.calls[t][1],o=b.State.calls[t][2],s=b.State.calls[t][4],l=!1,c=0,u=n.length;u>c;c++){var d=n[c].element;if(e||o.loop||("none"===o.display&&x.setPropertyValue(d,"display",o.display),"hidden"===o.visibility&&x.setPropertyValue(d,"visibility",o.visibility)),(f.queue(d)[1]===i||!/\.velocityQueueEntryFlag/i.test(f.queue(d)[1]))&&a(d)){a(d).isAnimating=!1,a(d).rootPropertyValueCache={};var p=!1;f.each(x.Lists.transforms3D,function(t,e){var n=/^scale/.test(e)?1:0,r=a(d).transformCache[e];a(d).transformCache[e]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(p=!0,delete a(d).transformCache[e])}),o.mobileHA&&(p=!0,delete a(d).transformCache.translate3d),p&&x.flushTransformCache(d),x.Values.removeClass(d,"velocity-animating")}if(!e&&o.complete&&!o.loop&&c===u-1)try{o.complete.call(r,r)}catch(h){setTimeout(function(){throw h},1)}s&&o.loop!==!0&&s(r),o.loop!==!0||e||(f.each(a(d).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360)}),b(d,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(d,o.queue)}b.State.calls[t]=!1;for(var g=0,m=b.State.calls.length;m>g;g++)if(b.State.calls[g]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,p=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return i}(),h=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-t)),t=i+n,setTimeout(function(){e(i+n)},n)}}(),g={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==i&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof SVGElement},isEmptyObject:function(t){var e;for(e in t)return!1;return!0}},m=!1;if(t.fn&&t.fn.jquery?(f=t,m=!0):f=e.Velocity.Utilities,8>=p&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Sequences:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:v,easing:y,begin:null,complete:null,progress:null,display:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){f.data(t,"velocity",{isSVG:g.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:null,hook:null,mock:!1,version:{major:1,minor:0,patch:0},debug:!1};e.pageYOffset!==i?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var r={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function n(n,i){var r={dx:n.v,dv:t(n)},o=e(n,.5*i,r),a=e(n,.5*i,o),s=e(n,i,a),l=1/6*(r.dx+2*(o.dx+a.dx)+s.dx),c=1/6*(r.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(t,e,r){var o,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,f=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,r=r||null,l.tension=t,l.friction=e,o=null!==r,o?(u=i(t,e),a=u/r*f):a=f;s=n(s||l,a),c.push(1+s.x),u+=16,Math.abs(s.x)>d&&Math.abs(s.v)>d;);return o?function(t){return c[t*(c.length-1)|0]}:u}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=l.apply(null,e[1])});var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<x.Lists.colors.length;t++)x.Hooks.templates[x.Lists.colors[t]]=["Red Green Blue Alpha","255 255 255 1"];var e,n,i;if(p)for(e in x.Hooks.templates){n=x.Hooks.templates[e],i=n[0].split(" ");var r=n[1].match(x.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),r.push(r.shift()),x.Hooks.templates[e]=[i.join(" "),r.join(" ")])}for(e in x.Hooks.templates){n=x.Hooks.templates[e],i=n[0].split(" ");for(var t in i){var o=e+i[t],a=t;x.Hooks.registered[o]=[e,a]}}},getRoot:function(t){var e=x.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return x.RegEx.valueUnwrap.test(e)&&(e=e.match(x.Hooks.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(e)&&(e=x.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=x.Hooks.registered[t];if(n){var i=n[0],r=n[1];return e=x.Hooks.cleanRootPropertyValue(i,e),e.toString().match(x.RegEx.valueSplit)[r]}return e},injectValue:function(t,e,n){var i=x.Hooks.registered[t];if(i){var r,o,a=i[0],s=i[1];return n=x.Hooks.cleanRootPropertyValue(a,n),r=n.toString().match(x.RegEx.valueSplit),r[s]=e,o=r.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var i;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(x.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},opacity:function(t,e,n){if(8>=p)switch(t){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=p||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var t=0;t<x.Lists.transformsBase.length;t++)!function(){var e=x.Lists.transformsBase[t];x.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return"transform";case"extract":return a(n)===i||a(n).transformCache[e]===i?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&a(n).transformCache[e]===i&&1>r&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":o=!/(deg|\d)$/i.test(r);break;case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(a(n).transformCache[e]="("+r+")"),a(n).transformCache[e]}}}();for(var t=0;t<x.Lists.colors.length;t++)!function(){var e=x.Lists.colors[t];x.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return e;case"extract":var o;if(x.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=s[r]!==i?s[r]:s.black:x.RegEx.isHex.test(r)?a="rgb("+x.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=s.black),o=(a||r).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=p?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=p?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,i=e.length;i>n;n++){var r;if(r=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),g.isString(b.State.prefixElement.style[r]))return b.State.prefixMatches[t]=r,[r,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,i){return e+e+n+n+i+i}),e=i.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,n,r,o){function s(t,n){function r(){c&&x.setPropertyValue(t,"display","none")}var l=0;if(8>=p)l=f.css(t,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(t,"display")&&(c=!0,x.setPropertyValue(t,"display",x.Values.getDisplayType(t))),!o){if("height"===n&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(x.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(t,"paddingBottom"))||0);return r(),u}if("width"===n&&"border-box"!==x.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var d=t.offsetWidth-(parseFloat(x.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(t,"paddingRight"))||0);return r(),d}}var h;h=a(t)===i?e.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=e.getComputedStyle(t,null),(p||b.State.isFirefox)&&"borderColor"===n&&(n="borderTopColor"),l=9===p&&"filter"===n?h.getPropertyValue(n):h[n],(""===l||null===l)&&(l=t.style[n]),r();
}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var g=s(t,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(n))&&(l=f(t).position()[n]+"px")}return l}var l;if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(c);r===i&&(r=x.getPropertyValue(t,x.Names.prefixCheck(u)[0])),x.Normalizations.registered[u]&&(r=x.Normalizations.registered[u]("extract",t,r)),l=x.Hooks.extractValue(c,r)}else if(x.Normalizations.registered[n]){var d,h;d=x.Normalizations.registered[n]("name",t),"transform"!==d&&(h=s(t,x.Names.prefixCheck(d)[0]),x.Values.isCSSNullValue(h)&&x.Hooks.templates[n]&&(h=x.Hooks.templates[n][1])),l=x.Normalizations.registered[n]("extract",t,h)}return/^[\d-]/.test(l)||(l=a(t)&&a(t).isSVG&&x.Names.SVGAttribute(n)?/^(height|width)$/i.test(n)?t.getBBox()[n]:t.getAttribute(n):s(t,x.Names.prefixCheck(n)[0])),x.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(t,n,i,r,o){var s=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=i:"Left"===o.direction?e.scrollTo(i,o.alternateValue):e.scrollTo(o.alternateValue,i);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",t))x.Normalizations.registered[n]("inject",t,i),s="transform",i=a(t).transformCache[n];else{if(x.Hooks.registered[n]){var l=n,c=x.Hooks.getRoot(n);r=r||x.getPropertyValue(t,c),i=x.Hooks.injectValue(l,i,r),n=c}if(x.Normalizations.registered[n]&&(i=x.Normalizations.registered[n]("inject",t,i),n=x.Normalizations.registered[n]("name",t)),s=x.Names.prefixCheck(n)[0],8>=p)try{t.style[s]=i}catch(u){b.debug&&console.log("Browser does not support ["+i+"] for ["+s+"]")}else a(t)&&a(t).isSVG&&x.Names.SVGAttribute(n)?t.setAttribute(n,i):t.style[s]=i;b.debug>=2&&console.log("Set "+n+" ("+s+"): "+i)}return[s,i]},flushTransformCache:function(t){function e(e){return parseFloat(x.getPropertyValue(t,e))}var n="";if((p||b.State.isAndroid&&!b.State.isChrome)&&a(t).isSVG){var i={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};f.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),i[t]&&(n+=t+"("+i[t].join(" ")+") ",delete i[t])})}else{var r,o;f.each(a(t).transformCache,function(e){return r=a(t).transformCache[e],"transformPerspective"===e?(o=r,!0):(9===p&&"rotateZ"===e&&(e="rotate"),void(n+=e+r+" "))}),o&&(n="perspective"+o+" "+n)}x.setPropertyValue(t,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),b.hook=function(t,e,n){var r=i;return t=o(t),f.each(t,function(t,o){if(a(o)===i&&b.init(o),n===i)r===i&&(r=b.CSS.getPropertyValue(o,e));else{var s=b.CSS.setPropertyValue(o,e,n);"transform"===s[0]&&b.CSS.flushTransformCache(o),r=s}}),r};var S=function(){function t(){return l?D.promise||null:p}function s(){function t(t){function p(t,e){var n=i,r=i,o=i;return g.isArray(t)?(n=t[0],!g.isArray(t[1])&&/^[\d-]/.test(t[1])||g.isFunction(t[1])||x.RegEx.isHex.test(t[1])?o=t[1]:(g.isString(t[1])&&!x.RegEx.isHex.test(t[1])||g.isArray(t[1]))&&(r=e?t[1]:c(t[1],l.duration),t[2]!==i&&(o=t[2]))):n=t,e||(r=r||l.easing),g.isFunction(n)&&(n=n.call(s,T,_)),g.isFunction(o)&&(o=o.call(s,T,_)),[n||0,r,o]}function h(t,e){var n,i;return i=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=x.Values.getUnitType(t)),[i,n]}function v(){var t={myParent:s.parentNode||n.body,position:x.getPropertyValue(s,"position"),fontSize:x.getPropertyValue(s,"fontSize")},i=t.position===O.lastPosition&&t.myParent===O.lastParent,r=t.fontSize===O.lastFontSize;O.lastParent=t.myParent,O.lastPosition=t.position,O.lastFontSize=t.fontSize;var o=100,l={};if(r&&i)l.emToPx=O.lastEmToPx,l.percentToPxWidth=O.lastPercentToPxWidth,l.percentToPxHeight=O.lastPercentToPxHeight;else{var c=a(s).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),t.myParent.appendChild(c),f.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(c,e,"hidden")}),b.CSS.setPropertyValue(c,"position",t.position),b.CSS.setPropertyValue(c,"fontSize",t.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(c,e,o+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",o+"em"),l.percentToPxWidth=O.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(c,"width",null,!0))||1)/o,l.percentToPxHeight=O.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(c,"height",null,!0))||1)/o,l.emToPx=O.lastEmToPx=(parseFloat(x.getPropertyValue(c,"paddingLeft"))||1)/o,t.myParent.removeChild(c)}return null===O.remToPx&&(O.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===O.vwToPx&&(O.vwToPx=parseFloat(e.innerWidth)/100,O.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=O.remToPx,l.vwToPx=O.vwToPx,l.vhToPx=O.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),s),l}if(l.begin&&0===T)try{l.begin.call(m,m)}catch(S){setTimeout(function(){throw S},1)}if("scroll"===P){var C,k,E,$=/^x$/i.test(l.axis)?"Left":"Top",A=parseFloat(l.offset)||0;l.container?g.isWrapped(l.container)||g.isNode(l.container)?(l.container=l.container[0]||l.container,C=l.container["scroll"+$],E=C+f(s).position()[$.toLowerCase()]+A):l.container=null:(C=b.State.scrollAnchor[b.State["scrollProperty"+$]],k=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===$?"Top":"Left")]],E=f(s).offset()[$.toLowerCase()]+A),d={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:E,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:$,alternateValue:k}},element:s},b.debug&&console.log("tweensContainer (scroll): ",d.scroll,s)}else if("reverse"===P){if(!a(s).tweensContainer)return void f.dequeue(s,l.queue);"none"===a(s).opts.display&&(a(s).opts.display="auto"),"hidden"===a(s).opts.visibility&&(a(s).opts.visibility="visible"),a(s).opts.loop=!1,a(s).opts.begin=null,a(s).opts.complete=null,w.easing||delete l.easing,w.duration||delete l.duration,l=f.extend({},a(s).opts,l);var L=f.extend(!0,{},a(s).tweensContainer);for(var I in L)if("element"!==I){var N=L[I].startValue;L[I].startValue=L[I].currentValue=L[I].endValue,L[I].endValue=N,g.isEmptyObject(w)||(L[I].easing=l.easing),b.debug&&console.log("reverse tweensContainer ("+I+"): "+JSON.stringify(L[I]),s)}d=L}else if("start"===P){var L;a(s).tweensContainer&&a(s).isAnimating===!0&&(L=a(s).tweensContainer),f.each(y,function(t,e){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(t)){var n=p(e,!0),r=n[0],o=n[1],a=n[2];if(x.RegEx.isHex.test(r)){for(var s=["Red","Green","Blue"],l=x.Values.hexToRgb(r),c=a?x.Values.hexToRgb(a):i,u=0;u<s.length;u++)y[t+s[u]]=[l[u],o,c?c[u]:c];delete y[t]}}});for(var M in y){var F=p(y[M]),z=F[0],R=F[1],V=F[2];M=x.Names.camelCase(M);var B=x.Hooks.getRoot(M),H=!1;if(a(s).isSVG||x.Names.prefixCheck(B)[1]!==!1||x.Normalizations.registered[B]!==i){(l.display!==i&&null!==l.display&&"none"!==l.display||l.visibility&&"hidden"!==l.visibility)&&/opacity|filter/.test(M)&&!V&&0!==z&&(V=0),l._cacheValues&&L&&L[M]?(V===i&&(V=L[M].endValue+L[M].unitType),H=a(s).rootPropertyValueCache[B]):x.Hooks.registered[M]?V===i?(H=x.getPropertyValue(s,B),V=x.getPropertyValue(s,M,H)):H=x.Hooks.templates[B][1]:V===i&&(V=x.getPropertyValue(s,M));var K,W,q,X=!1;if(K=h(M,V),V=K[0],q=K[1],K=h(M,z),z=K[0].replace(/^([+-\/*])=/,function(t,e){return X=e,""}),W=K[1],V=parseFloat(V)||0,z=parseFloat(z)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(M)?(z/=100,W="em"):/^scale/.test(M)?(z/=100,W=""):/(Red|Green|Blue)$/i.test(M)&&(z=z/100*255,W="")),/[\/*]/.test(X))W=q;else if(q!==W&&0!==V)if(0===z)W=q;else{o=o||v();var Y=/margin|padding|left|right|width|text|word|letter/i.test(M)||/X$/.test(M)||"x"===M?"x":"y";switch(q){case"%":V*="x"===Y?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:V*=o[q+"ToPx"]}switch(W){case"%":V*=1/("x"===Y?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:V*=1/o[W+"ToPx"]}}switch(X){case"+":z=V+z;break;case"-":z=V-z;break;case"*":z=V*z;break;case"/":z=V/z}d[M]={rootPropertyValue:H,startValue:V,currentValue:V,endValue:z,unitType:W,easing:R},b.debug&&console.log("tweensContainer ("+M+"): "+JSON.stringify(d[M]),s)}else b.debug&&console.log("Skipping ["+B+"] due to a lack of browser support.")}d.element=s}d.element&&(x.Values.addClass(s,"velocity-animating"),j.push(d),""===l.queue&&(a(s).tweensContainer=d,a(s).opts=l),a(s).isAnimating=!0,T===_-1?(b.State.calls.length>1e4&&(b.State.calls=r(b.State.calls)),b.State.calls.push([j,m,l,null,D.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):T++)}var o,s=this,l=f.extend({},b.defaults,w),d={};if(a(s)===i&&b.init(s),parseFloat(l.delay)&&l.queue!==!1&&f.queue(s,l.queue,function(t){b.velocityQueueEntryFlag=!0,a(s).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:t}}),b.mock===!0)l.duration=1;else switch(l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=v;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}l.easing=c(l.easing,l.duration),l.begin&&!g.isFunction(l.begin)&&(l.begin=null),l.progress&&!g.isFunction(l.progress)&&(l.progress=null),l.complete&&!g.isFunction(l.complete)&&(l.complete=null),l.display!==i&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=b.CSS.Values.getDisplayType(s))),l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,l.queue===!1?l.delay?setTimeout(t,l.delay):t():f.queue(s,l.queue,function(e,n){return n===!0?(D.promise&&D.resolver(m),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==l.queue&&"fx"!==l.queue||"inprogress"===f.queue(s)[0]||f.dequeue(s)}var l,p,h,m,y,w,C=arguments[0]&&(f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(l=!1,h=0,m=this,p=this):(l=!0,h=1,m=C?arguments[0].elements:arguments[0]),m=o(m)){C?(y=arguments[0].properties,w=arguments[0].options):(y=arguments[h],w=arguments[h+1]);var _=m.length,T=0;if("stop"!==y&&!f.isPlainObject(w)){var k=h+1;w={};for(var E=k;E<arguments.length;E++)g.isArray(arguments[E])||!/fast|normal|slow/i.test(arguments[E].toString())&&!/^\d/.test(arguments[E])?g.isString(arguments[E])||g.isArray(arguments[E])?w.easing=arguments[E]:g.isFunction(arguments[E])&&(w.complete=arguments[E]):w.duration=arguments[E]}var D={promise:null,resolver:null,rejecter:null};l&&b.Promise&&(D.promise=new b.Promise(function(t,e){D.resolver=t,D.rejecter=e}));var P;switch(y){case"scroll":P="scroll";break;case"reverse":P="reverse";break;case"stop":f.each(m,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer)});var $=[];return f.each(b.State.calls,function(t,e){e&&f.each(e[1],function(n,r){var o=g.isString(w)?w:"";return w!==i&&e[2].queue!==o||void f.each(m,function(e,n){n===r&&(w!==i&&(f.each(f.queue(n,o),function(t,e){g.isFunction(e)&&e(null,!0)}),f.queue(n,o,[])),a(n)&&""===o&&f.each(a(n).tweensContainer,function(t,e){e.endValue=e.currentValue}),$.push(t))})})}),f.each($,function(t,e){d(e,!0)}),D.promise&&D.resolver(m),t();default:if(!f.isPlainObject(y)||g.isEmptyObject(y)){if(g.isString(y)&&b.Sequences[y]){var A=f.extend({},w),L=A.duration,I=A.delay||0;return A.backwards===!0&&(m=m.reverse()),f.each(m,function(t,e){parseFloat(A.stagger)?A.delay=I+parseFloat(A.stagger)*t:g.isFunction(A.stagger)&&(A.delay=I+A.stagger.call(e,t,_)),A.drag&&(A.duration=parseFloat(L)||(/^(callout|transition)/.test(y)?1e3:v),A.duration=Math.max(A.duration*(A.backwards?1-t/_:(t+1)/_),.75*A.duration,200)),b.Sequences[y].call(e,e,A||{},t,_,m,D.promise?D:i)}),t()}var N="Velocity: First argument ("+y+") was not a property map, a known action, or a registered sequence. Aborting.";return D.promise?D.rejecter(new Error(N)):console.log(N),t()}P="start"}var O={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},j=[];f.each(m,function(t,e){g.isNode(e)&&s.call(e)});var M,A=f.extend({},b.defaults,w);if(A.loop=parseInt(A.loop),M=2*A.loop-1,A.loop)for(var F=0;M>F;F++){var z={delay:A.delay};F===M-1&&(z.display=A.display,z.visibility=A.visibility,z.complete=A.complete),S(m,"reverse",z)}return t()}};b=f.extend(S,b),b.animate=S;var C=e.requestAnimationFrame||h;return b.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(C=function(t){return setTimeout(function(){t(!0)},16)},u()):C=e.requestAnimationFrame||h}),t.Velocity=b,t!==e&&(t.fn.velocity=S,t.fn.velocity.defaults=b.defaults),f.each(["Down","Up"],function(t,e){b.Sequences["slide"+e]=function(t,n,r,o,a,s){var l=f.extend({},n),c=l.begin,u=l.complete,d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},p={};l.display===i&&(l.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(a,a),p.overflow=t.style.overflow,t.style.overflow="hidden";for(var n in d){p[n]=t.style[n];var i=b.CSS.getPropertyValue(t,n);d[n]="Down"===e?[i,0]:[0,i]}},l.complete=function(){for(var e in p)t.style[e]=p[e];u&&u.call(a,a),s&&s.resolver(a)},b(t,d,l)}}),f.each(["In","Out"],function(t,e){b.Sequences["fade"+e]=function(t,n,r,o,a,s){var l=f.extend({},n),c={opacity:"In"===e?1:0},u=l.complete;l.complete=r!==o-1?l.begin=null:function(){u&&u.call(a,a),s&&s.resolver(a)},l.display===i&&(l.display="In"===e?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),!function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(["velocity"],t):t()}(function(){return function(t,e,n,i){if(!t.Velocity||!t.Velocity.Utilities)return void(e.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));if(!t.Velocity.version||t.Velocity.version.major<=0&&t.Velocity.version.minor<=11&&t.Velocity.version.patch<8){var r="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(r),new Error(r)}t.Velocity.RegisterUI=function(e,n){function r(e,n,i,r){var o,a=0;t.Velocity.Utilities.each(e.nodeType?[e]:e,function(e,n){r&&(i+=e*r),o=n.parentNode,t.Velocity.Utilities.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(e,i){a+=parseFloat(t.Velocity.CSS.getPropertyValue(n,i))})}),t.Velocity.animate(o,{height:("In"===n?"+":"-")+"="+a},{queue:!1,easing:"ease-in-out",duration:i*("In"===n?.6:1)})}return t.Velocity.Sequences[e]=function(o,a,s,l,c,u){function d(){a.display!==i&&"none"!==a.display||!/Out$/.test(e)||t.Velocity.Utilities.each(c.nodeType?[c]:c,function(e,n){t.Velocity.CSS.setPropertyValue(n,"display","none")}),a.complete&&a.complete.call(c,c),u&&u.resolver(c||o)}for(var f=s===l-1,p=0;p<n.calls.length;p++){var h=n.calls[p],g=h[0],m=a.duration||n.defaultDuration||1e3,v=h[1],y=h[2]||{},b={};if(b.duration=m*(v||1),b.queue=a.queue||"",b.easing=y.easing||"ease",b.delay=y.delay||0,b._cacheValues=y._cacheValues||!0,0===p){if(b.delay+=a.delay||0,0===s&&(b.begin=function(){a.begin&&a.begin.call(c,c);var t=e.match(/(In|Out)$/);a.animateParentHeight&&t&&r(c,t[0],m+b.delay,a.stagger)}),null!==a.display)if(a.display!==i&&"none"!==a.display)b.display=a.display;else if(/In$/.test(e)){var w=t.Velocity.CSS.Values.getDisplayType(o);b.display="inline"===w?"inline-block":w}a.visibility&&"hidden"!==a.visibility&&(b.visibility=a.visibility)}p===n.calls.length-1&&(b.complete=function(){if(n.reset){for(var e in n.reset){var i=n.reset[e];("string"==typeof i||"number"==typeof i)&&(n.reset[e]=[n.reset[e],n.reset[e]])}var r={duration:0,queue:!1};f&&(r.complete=d),t.Velocity.animate(o,n.reset,r)}else f&&d()},"hidden"===a.visibility&&(b.visibility=a.visibility)),t.Velocity.animate(o,g,b)}},t.Velocity},t.Velocity.RegisterUI.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:900,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]}]]},"transition.whirlOut":{defaultDuration:900,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:650,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.4],[{scaleX:1.1,scaleY:1.1,translateZ:0},.4],[{opacity:[0,1],scaleX:.3,scaleY:.3},.2]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var o in t.Velocity.RegisterUI.packagedEffects)t.Velocity.RegisterUI(o,t.Velocity.RegisterUI.packagedEffects[o])}(window.jQuery||window.Zepto||window,window,document)}),function(t,e,n){"use strict";function i(t,n,i,r){for(var o=[],a=0;a<t.length;a++){var s=t[a];if(s){var l=tinycolor(s),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,s)?" sp-thumb-active":"";var u=l.toString(r.preferredFormat||"rgb"),d=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{var f="sp-clear-display";o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+f+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function r(){for(var t=0;t<h.length;t++)h[t]&&h[t].hide()}function o(t,n){var i=e.extend({},p,t);return i.callbacks={move:u(i.move,n),change:u(i.change,n),show:u(i.show,n),hide:u(i.hide,n),beforeShow:u(i.beforeShow,n)},i}function a(a,l){function u(){if(W.showPaletteOnly&&(W.showPalette=!0),jt.text(W.showPaletteOnly?W.togglePaletteMoreText:W.togglePaletteLessText),W.palette){dt=W.palette.slice(0),ft=e.isArray(dt[0])?dt:[dt],pt={};for(var t=0;t<ft.length;t++)for(var n=0;n<ft[t].length;n++){var i=tinycolor(ft[t][n]).toRgbString();pt[i]=!0}}xt.toggleClass("sp-flat",q),xt.toggleClass("sp-input-disabled",!W.showInput),xt.toggleClass("sp-alpha-enabled",W.showAlpha),xt.toggleClass("sp-clear-enabled",Ut),xt.toggleClass("sp-buttons-disabled",!W.showButtons),xt.toggleClass("sp-palette-buttons-disabled",!W.togglePaletteOnly),xt.toggleClass("sp-palette-disabled",!W.showPalette),xt.toggleClass("sp-palette-only",W.showPaletteOnly),xt.toggleClass("sp-initial-disabled",!W.showInitial),xt.addClass(W.className).addClass(W.containerClassName),R()}function p(){function t(t){return t.data&&t.data.ignore?(I(e(t.target).closest(".sp-thumb-el").data("color")),j()):(I(e(t.target).closest(".sp-thumb-el").data("color")),j(),z(!0),W.hideAfterPaletteSelect&&A()),!1}if(g&&xt.find("*:not(input)").attr("unselectable","on"),u(),zt&&bt.after(Rt).hide(),Ut||Nt.hide(),q)bt.after(xt).hide();else{var n="parent"===W.appendTo?bt.parent():e(W.appendTo);1!==n.length&&(n=e("body")),n.append(xt)}w(),Vt.bind("click.spectrum touchstart.spectrum",function(t){wt||D(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(bt.is(":disabled")||W.disabled===!0)&&K(),xt.click(c),$t.change(E),$t.bind("paste",function(){setTimeout(E,1)}),$t.keydown(function(t){13==t.keyCode&&E()}),It.text(W.cancelText),It.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),L(),A()}),Nt.attr("title",W.clearText),Nt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Yt=!0,j(),q&&z(!0)}),Ot.text(W.chooseText),Ot.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),O()&&(z(!0),A())}),jt.text(W.showPaletteOnly?W.togglePaletteMoreText:W.togglePaletteLessText),jt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),W.showPaletteOnly=!W.showPaletteOnly,W.showPaletteOnly||q||xt.css("left","-="+(St.outerWidth(!0)+5)),u()}),d(Dt,function(t,e,n){ut=t/rt,Yt=!1,n.shiftKey&&(ut=Math.round(10*ut)/10),j()},T,k),d(Tt,function(t,e){st=parseFloat(e/nt),Yt=!1,W.showAlpha||(ut=1),j()},T,k),d(Ct,function(t,e,n){if(n.shiftKey){if(!vt){var i=lt*J,r=tt-ct*tt,o=Math.abs(t-i)>Math.abs(e-r);vt=o?"x":"y"}}else vt=null;var a=!vt||"x"===vt,s=!vt||"y"===vt;a&&(lt=parseFloat(t/J)),s&&(ct=parseFloat((tt-e)/tt)),Yt=!1,W.showAlpha||(ut=1),j()},T,k),Ht?(I(Ht),M(),qt=Wt||tinycolor(Ht).format,x(Ht)):M(),q&&P();var i=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";At.delegate(".sp-thumb-el",i,t),Lt.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},t)}function w(){if(Y&&t.localStorage){try{var n=t.localStorage[Y].split(",#");n.length>1&&(delete t.localStorage[Y],e.each(n,function(t,e){x(e)}))}catch(i){}try{ht=t.localStorage[Y].split(";")}catch(i){}}}function x(n){if(X){var i=tinycolor(n).toRgbString();if(!pt[i]&&e.inArray(i,ht)===-1)for(ht.push(i);ht.length>gt;)ht.shift();if(Y&&t.localStorage)try{t.localStorage[Y]=ht.join(";")}catch(r){}}}function S(){var t=[];if(W.showPalette)for(var e=0;e<ht.length;e++){var n=tinycolor(ht[e]).toRgbString();pt[n]||t.push(ht[e])}return t.reverse().slice(0,W.maxSelectionSize)}function C(){var t=N(),n=e.map(ft,function(e,n){return i(e,t,"sp-palette-row sp-palette-row-"+n,W)});w(),ht&&n.push(i(S(),t,"sp-palette-row sp-palette-row-selection",W)),At.html(n.join(""))}function _(){if(W.showInitial){var t=Kt,e=N();Lt.html(i([t,e],e,"sp-palette-row-initial",W))}}function T(){(tt<=0||J<=0||nt<=0)&&R(),xt.addClass(mt),vt=null,bt.trigger("dragstart.spectrum",[N()])}function k(){xt.removeClass(mt),bt.trigger("dragstop.spectrum",[N()])}function E(){var t=$t.val();if(null!==t&&""!==t||!Ut){var e=tinycolor(t);e.isValid()?(I(e),z(!0)):$t.addClass("sp-validation-error")}else I(null),z(!0)}function D(){Q?A():P()}function P(){var n=e.Event("beforeShow.spectrum");return Q?void R():(bt.trigger(n,[N()]),void(G.beforeShow(N())===!1||n.isDefaultPrevented()||(r(),Q=!0,e(yt).bind("click.spectrum",$),e(t).bind("resize.spectrum",Z),Rt.addClass("sp-active"),xt.removeClass("sp-hidden"),R(),M(),Kt=N(),_(),G.show(Kt),bt.trigger("show.spectrum",[Kt]))))}function $(t){t&&"click"==t.type&&2==t.button||(Xt?z(!0):L(),A())}function A(){Q&&!q&&(Q=!1,e(yt).unbind("click.spectrum",$),e(t).unbind("resize.spectrum",Z),Rt.removeClass("sp-active"),xt.addClass("sp-hidden"),G.hide(N()),bt.trigger("hide.spectrum",[N()]))}function L(){I(Kt,!0)}function I(t,e){if(tinycolor.equals(t,N()))return void M();var n,i;!t&&Ut?Yt=!0:(Yt=!1,n=tinycolor(t),i=n.toHsv(),st=i.h%360/360,lt=i.s,ct=i.v,ut=i.a),M(),n&&n.isValid()&&!e&&(qt=Wt||n.getFormat())}function N(t){return t=t||{},Ut&&Yt?null:tinycolor.fromRatio({h:st,s:lt,v:ct,a:Math.round(100*ut)/100},{format:t.format||qt})}function O(){return!$t.hasClass("sp-validation-error");
}function j(){M(),G.move(N()),bt.trigger("move.spectrum",[N()])}function M(){$t.removeClass("sp-validation-error"),F();var t=tinycolor.fromRatio({h:st,s:1,v:1});Ct.css("background-color",t.toHexString());var e=qt;ut<1&&(0!==ut||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=N({format:e}),i="";if(Bt.removeClass("sp-clear-display"),Bt.css("background-color","transparent"),!n&&Ut)Bt.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(m||1===n.alpha?Bt.css("background-color",o):(Bt.css("background-color","transparent"),Bt.css("filter",n.toFilter())),W.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+r+")";g?Et.css("filter",tinycolor(s).toFilter({gradientType:1},r)):(Et.css("background","-webkit-"+l),Et.css("background","-moz-"+l),Et.css("background","-ms-"+l),Et.css("background","linear-gradient(to right, "+s+", "+r+")"))}i=n.toString(e)}W.showInput&&$t.val(i),W.showPalette&&C(),_()}function F(){var t=lt,e=ct;if(Ut&&Yt)Pt.hide(),kt.hide(),_t.hide();else{Pt.show(),kt.show(),_t.show();var n=t*J,i=tt-e*tt;n=Math.max(-et,Math.min(J-et,n-et)),i=Math.max(-et,Math.min(tt-et,i-et)),_t.css({top:i+"px",left:n+"px"});var r=ut*rt;Pt.css({left:r-ot/2+"px"});var o=st*nt;kt.css({top:o-at+"px"})}}function z(t){var e=N(),n="",i=!tinycolor.equals(e,Kt);e&&(n=e.toString(qt),x(e)),Mt&&bt.val(n),t&&i&&(G.change(e),bt.trigger("change",[e]))}function R(){J=Ct.width(),tt=Ct.height(),et=_t.height(),it=Tt.width(),nt=Tt.height(),at=kt.height(),rt=Dt.width(),ot=Pt.width(),q||(xt.css("position","absolute"),xt.offset(s(xt,Vt))),F(),W.showPalette&&C(),bt.trigger("reflow.spectrum")}function V(){bt.show(),Vt.unbind("click.spectrum touchstart.spectrum"),xt.remove(),Rt.remove(),h[Gt.id]=null}function B(t,i){return t===n?e.extend({},W):i===n?W[t]:(W[t]=i,void u())}function H(){wt=!1,bt.attr("disabled",!1),Vt.removeClass("sp-disabled")}function K(){A(),wt=!0,bt.attr("disabled",!0),Vt.addClass("sp-disabled")}var W=o(l,a),q=W.flat,X=W.showSelectionPalette,Y=W.localStorageKey,U=W.theme,G=W.callbacks,Z=f(R,10),Q=!1,J=0,tt=0,et=0,nt=0,it=0,rt=0,ot=0,at=0,st=0,lt=0,ct=0,ut=1,dt=[],ft=[],pt={},ht=W.selectionPalette.slice(0),gt=W.maxSelectionSize,mt="sp-dragging",vt=null,yt=a.ownerDocument,bt=(yt.body,e(a)),wt=!1,xt=e(b,yt).addClass(U),St=xt.find(".sp-picker-container"),Ct=xt.find(".sp-color"),_t=xt.find(".sp-dragger"),Tt=xt.find(".sp-hue"),kt=xt.find(".sp-slider"),Et=xt.find(".sp-alpha-inner"),Dt=xt.find(".sp-alpha"),Pt=xt.find(".sp-alpha-handle"),$t=xt.find(".sp-input"),At=xt.find(".sp-palette"),Lt=xt.find(".sp-initial"),It=xt.find(".sp-cancel"),Nt=xt.find(".sp-clear"),Ot=xt.find(".sp-choose"),jt=xt.find(".sp-palette-toggle"),Mt=bt.is("input"),Ft=Mt&&v&&"color"===bt.attr("type"),zt=Mt&&!q,Rt=zt?e(y).addClass(U).addClass(W.className).addClass(W.replacerClassName):e([]),Vt=zt?Rt:bt,Bt=Rt.find(".sp-preview-inner"),Ht=W.color||Mt&&bt.val(),Kt=!1,Wt=W.preferredFormat,qt=Wt,Xt=!W.showButtons||W.clickoutFiresChange,Yt=!Ht,Ut=W.allowEmpty&&!Ft;p();var Gt={show:P,hide:A,toggle:D,reflow:R,option:B,enable:H,disable:K,set:function(t){I(t),z()},get:N,destroy:V,container:xt};return Gt.id=h.push(Gt)-1,Gt}function s(t,n){var i=0,r=t.outerWidth(),o=t.outerHeight(),a=n.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=n.offset();return d.top+=a,d.left-=Math.min(d.left,d.left+r>c&&c>r?Math.abs(d.left+r-c):0),d.top-=Math.min(d.top,d.top+o>u&&u>o?Math.abs(o+a-i):i),d}function l(){}function c(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function d(n,i,r,o){function a(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(d){if(g&&u.documentMode<9&&!t.button)return c();var e=t.originalEvent.touches,r=e?e[0].pageX:t.pageX,o=e?e[0].pageY:t.pageY,s=Math.max(0,Math.min(r-f.left,h)),l=Math.max(0,Math.min(o-f.top,p));m&&a(t),i.apply(n,[s,l,t])}}function l(t){var i=t.which?3==t.which:2==t.button;i||d||r.apply(n,arguments)!==!1&&(d=!0,p=e(n).height(),h=e(n).width(),f=e(n).offset(),e(u).bind(v),e(u.body).addClass("sp-dragging"),m||s(t),a(t))}function c(){d&&(e(u).unbind(v),e(u.body).removeClass("sp-dragging"),o.apply(n,arguments)),d=!1}i=i||function(){},r=r||function(){},o=o||function(){};var u=document,d=!1,f={},p=0,h=0,m="ontouchstart"in t,v={};v.selectstart=a,v.dragstart=a,v["touchmove mousemove"]=s,v["touchend mouseup"]=c,e(n).bind("touchstart mousedown",l)}function f(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,t.apply(r,o)};n&&clearTimeout(i),!n&&i||(i=setTimeout(a,e))}}var p={beforeShow:l,move:l,change:l,show:l,hide:l,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1},h=[],g=!!/msie/i.exec(t.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=function(){var t=e("<input type='color' value='!' />")[0];return"color"===t.type&&"!"!==t.value}(),y=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(g)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),w="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=h[e(this).data(w)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=n.get():"container"==t?i=n.container:"option"==t?i=n.option.apply(n,r):"destroy"==t?(n.destroy(),e(this).removeData(w)):o.apply(n,r)}}),i}return this.spectrum("destroy").each(function(){var n=e.extend({},t,e(this).data()),i=a(this,n);e(this).data(w,i.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=d,e.fn.spectrum.defaults=p,e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){v||e("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function e(t){var e={r:0,g:0,b:0},i=1,o=!1,s=!1;return"string"==typeof t&&(t=I(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=n(t.r,t.g,t.b),o=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=$(t.s),t.v=$(t.v),e=a(t.h,t.s,t.v),o=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=$(t.s),t.l=$(t.l),e=r(t.h,t.s,t.l),o=!0,s="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=C(i),{ok:o,format:t.format||s,r:z(255,R(e.r,0)),g:z(255,R(e.g,0)),b:z(255,R(e.b,0)),a:i}}function n(t,e,n){return{r:255*_(t,255),g:255*_(e,255),b:255*_(n,255)}}function i(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var i,r,o=R(t,e,n),a=z(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function r(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=_(t,360),e=_(e,100),n=_(n,100),0===e)r=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=i(l,s,t+1/3),o=i(l,s,t),a=i(l,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function o(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var i,r,o=R(t,e,n),a=z(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function a(t,e,n){t=6*_(t,360),e=_(e,100),n=_(n,100);var i=M.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}function s(t,e,n,i){var r=[P(F(t).toString(16)),P(F(e).toString(16)),P(F(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function l(t,e,n,i){var r=[P(A(i)),P(F(t).toString(16)),P(F(e).toString(16)),P(F(n).toString(16))];return r.join("")}function c(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s-=e/100,n.s=T(n.s),B(n)}function u(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s+=e/100,n.s=T(n.s),B(n)}function d(t){return B(t).desaturate(100)}function f(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l+=e/100,n.l=T(n.l),B(n)}function p(t,e){e=0===e?0:e||10;var n=B(t).toRgb();return n.r=R(0,z(255,n.r-F(255*-(e/100)))),n.g=R(0,z(255,n.g-F(255*-(e/100)))),n.b=R(0,z(255,n.b-F(255*-(e/100)))),B(n)}function h(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l-=e/100,n.l=T(n.l),B(n)}function g(t,e){var n=B(t).toHsl(),i=(F(n.h)+e)%360;return n.h=i<0?360+i:i,B(n)}function m(t){var e=B(t).toHsl();return e.h=(e.h+180)%360,B(e)}function v(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+120)%360,s:e.s,l:e.l}),B({h:(n+240)%360,s:e.s,l:e.l})]}function y(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+90)%360,s:e.s,l:e.l}),B({h:(n+180)%360,s:e.s,l:e.l}),B({h:(n+270)%360,s:e.s,l:e.l})]}function b(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+72)%360,s:e.s,l:e.l}),B({h:(n+216)%360,s:e.s,l:e.l})]}function w(t,e,n){e=e||6,n=n||30;var i=B(t).toHsl(),r=360/n,o=[B(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(B(i));return o}function x(t,e){e=e||6;for(var n=B(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(B({h:i,s:r,v:o})),o=(o+s)%1;return a}function S(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function _(t,e){E(t)&&(t="100%");var n=D(t);return t=z(e,R(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),M.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return z(1,R(0,t))}function k(t){return parseInt(t,16)}function E(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function D(t){return"string"==typeof t&&t.indexOf("%")!=-1}function P(t){return 1==t.length?"0"+t:""+t}function $(t){return t<=1&&(t=100*t+"%"),t}function A(t){return Math.round(255*parseFloat(t)).toString(16)}function L(t){return k(t)/255}function I(t){t=t.replace(N,"").replace(O,"").toLowerCase();var e=!1;if(H[t])t=H[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=W.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=W.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=W.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=W.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=W.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=W.hex8.exec(t))?{a:L(n[1]),r:k(n[2]),g:k(n[3]),b:k(n[4]),format:e?"name":"hex8"}:(n=W.hex6.exec(t))?{r:k(n[1]),g:k(n[2]),b:k(n[3]),format:e?"name":"hex"}:!!(n=W.hex3.exec(t))&&{r:k(n[1]+""+n[1]),g:k(n[2]+""+n[2]),b:k(n[3]+""+n[3]),format:e?"name":"hex"}}var N=/^[\s,#]+/,O=/\s+$/,j=0,M=Math,F=M.round,z=M.min,R=M.max,V=M.random,B=function q(t,n){if(t=t?t:"",n=n||{},t instanceof q)return t;if(!(this instanceof q))return new q(t,n);var i=e(t);this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=F(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=F(this._r)),this._g<1&&(this._g=F(this._g)),this._b<1&&(this._b=F(this._b)),this._ok=i.ok,this._tc_id=j++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=C(t),this._roundA=F(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=F(360*t.h),n=F(100*t.s),i=F(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=F(360*t.h),n=F(100*t.s),r=F(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:F(this._r),g:F(this._g),b:F(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+F(this._r)+", "+F(this._g)+", "+F(this._b)+")":"rgba("+F(this._r)+", "+F(this._g)+", "+F(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:F(100*_(this._r,255))+"%",g:F(100*_(this._g,255))+"%",b:F(100*_(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+F(100*_(this._r,255))+"%, "+F(100*_(this._g,255))+"%, "+F(100*_(this._b,255))+"%)":"rgba("+F(100*_(this._r,255))+"%, "+F(100*_(this._g,255))+"%, "+F(100*_(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+l(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=B(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},B.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&("a"===i?n[i]=t[i]:n[i]=$(t[i]));t=n}return B(t,e)},B.equals=function(t,e){return!(!t||!e)&&B(t).toRgbString()==B(e).toRgbString()},B.random=function(){return B.fromRatio({r:V(),g:V(),b:V()})},B.mix=function(t,e,n){n=0===n?0:n||50;var i,r=B(t).toRgb(),o=B(e).toRgb(),a=n/100,s=2*a-1,l=o.a-r.a;i=s*l==-1?s:(s+l)/(1+s*l),i=(i+1)/2;var c=1-i,u={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*a+r.a*(1-a)};return B(u)},B.readability=function(t,e){var n=B(t),i=B(e),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},B.isReadable=function(t,e){var n=B.readability(t,e);return n.brightness>125&&n.color>500},B.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var a=B.readability(t,e[o]),s=a.brightness>125&&a.color>500,l=3*(a.brightness/125)+a.color/500;(s&&!r||s&&r&&l>i||!s&&!r&&l>i)&&(r=s,i=l,n=B(e[o]))}return n};var H=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=B.hexNames=S(H),W=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=B}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}(window,jQuery),function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var a=i.call(arguments,1),s=0,l=this.length;s<l;s++){var c=this[s],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var d=u[r].apply(u,a);if(void 0!==d)return d}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),r(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(window),function(){"use strict";function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&e(r[i],n)===-1&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=e(o[r],n),i!==-1&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o,a=this.getListenersAsObject(t);for(r in a)if(a.hasOwnProperty(r))for(i=a[r].length;i--;)n=a[r][i],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:r.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=n.length;r<o;r++)if(e=n[r]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function n(t){var e=parseFloat(t),n=t.indexOf("%")===-1&&!isNaN(e);return n&&e}function i(){}function r(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;e<n;e++){var i=s[e];t[i]=0}return t}function o(e){function i(){if(!f){f=!0;var i=t.getComputedStyle;if(c=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||a("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[u]="border-box";var o=document.body||document.documentElement;o.appendChild(r);var s=c(r);d=200===n(s.width),o.removeChild(r)}}}function o(t){if(i(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=c(t);if("none"===e.display)return r();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var a=o.isBorderBox=!(!u||!e[u]||"border-box"!==e[u]),f=0,p=s.length;f<p;f++){var h=s[f],g=e[h];g=l(t,g);var m=parseFloat(g);o[h]=isNaN(m)?0:m}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,b=o.marginLeft+o.marginRight,w=o.marginTop+o.marginBottom,x=o.borderLeftWidth+o.borderRightWidth,S=o.borderTopWidth+o.borderBottomWidth,C=a&&d,_=n(e.width);_!==!1&&(o.width=_+(C?0:v+x));var T=n(e.height);return T!==!1&&(o.height=T+(C?0:y+S)),o.innerWidth=o.width-(v+x),o.innerHeight=o.height-(y+S),o.outerWidth=o.width+b,o.outerHeight=o.height+w,o}}function l(e,n){if(t.getComputedStyle||n.indexOf("%")===-1)return n;var i=e.style,r=i.left,o=e.runtimeStyle,a=o&&o.left;return a&&(o.left=e.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=r,a&&(o.left=a),n}var c,u,d,f=!1;return o}var a="undefined"==typeof console?i:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():a.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==o.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=a.length;t<n;t++){var i=a[t];i()}}function r(r){return"complete"===o.readyState?i():(r.bind(o,"DOMContentLoaded",n),r.bind(o,"readystatechange",n),r.bind(t,"load",n)),e}var o=t.document,a=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):t.docReady=r(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[a](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),r=0,o=i.length;r<o;r++)if(i[r]===t)return!0;return!1}function r(t,i){return n(t),e(t,i)}var o,a=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,i=e.length;n<i;n++){var r=e[n],o=r+"MatchesSelector";if(t[o])return o}}();if(a){var s=document.createElement("div"),l=e(s,"div");o=l?e:r}else o=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function(t,e,n){var i={};i.extend=function(t,e){for(var n in e)t[n]=e[n];return t},i.modulo=function(t,e){return(t%e+e)%e};var r=Object.prototype.toString;i.isArray=function(t){return"[object Array]"==r.call(t)},i.makeArray=function(t){var e=[];if(i.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,r=t.length;n<r;n++)e.push(t[n]);else e.push(t);return e},i.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},i.removeFrom=function(t,e){var n=i.indexOf(t,e);n!=-1&&t.splice(n,1)},i.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},i.setText=function(){function t(t,n){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=n}var e;return t}(),i.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,e){t=i.makeArray(t);for(var r=[],o=0,a=t.length;o<a;o++){var s=t[o];if(i.isElement(s))if(e){n(s,e)&&r.push(s);for(var l=s.querySelectorAll(e),c=0,u=l.length;c<u;c++)r.push(l[c])}else r.push(s)}return r},i.debounceMethod=function(t,e,n){var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];t&&clearTimeout(t);var e=arguments,o=this;
this[r]=setTimeout(function(){i.apply(o,e),delete o[r]},n||100)}},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var o=t.console;return i.htmlInit=function(n,r){e(function(){for(var e=i.toDashed(r),a=document.querySelectorAll(".js-"+e),s="data-"+e+"-options",l=0,c=a.length;l<c;l++){var u,d=a[l],f=d.getAttribute(s);try{u=f&&JSON.parse(f)}catch(p){o&&o.error("Error parsing "+s+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+p);continue}var h=new n(d,u),g=t.jQuery;g&&g.data(d,r,h)}})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,i,r,o){return e(t,n,i,r,o)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,e,n,i,r){"use strict";function o(t){for(var e in t)return!1;return e=null,!0}function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function s(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var l=t.getComputedStyle,c=l?function(t){return l(t,null)}:function(t){return t.currentStyle},u=i("transition"),d=i("transform"),f=u&&d,p=!!i("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],g=["transform","transition","transitionDuration","transitionProperty"],m=function(){for(var t={},e=0,n=g.length;e<n;e++){var r=g[e],o=i(r);o&&o!==r&&(t[r]=o)}return t}();r.extend(a.prototype,e.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=m[n]||n;e[i]=t[n]}},a.prototype.getPosition=function(){var t=c(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,r=t[n?"left":"right"],o=t[i?"top":"bottom"],a=this.layout.size,s=r.indexOf("%")!=-1?parseFloat(r)/100*a.width:parseInt(r,10),l=o.indexOf("%")!=-1?parseFloat(o)/100*a.height:parseInt(o,10);s=isNaN(s)?0:s,l=isNaN(l)?0:l,s-=n?a.paddingLeft:a.paddingRight,l-=i?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=l},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={},i=e.isOriginLeft?"paddingLeft":"paddingRight",r=e.isOriginLeft?"left":"right",o=e.isOriginLeft?"right":"left",a=this.position.x+t[i];n[r]=this.getXValue(a),n[o]="";var s=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",c=e.isOriginTop?"bottom":"top",u=this.position.y+t[s];n[l]=this.getYValue(u),n[c]="",this.css(n),this.emitEvent("layout",[this])},a.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},a.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(t,10),o=parseInt(e,10),a=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-n,l=e-i,c={};c.transform=this.getTranslate(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(t,e){var n=this.layout.options;return t=n.isOriginLeft?t:-t,e=n.isOriginTop?e:-e,p?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=f?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var v="opacity,"+s(m.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[u?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=y[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],o(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var i=e.onEnd[n];i.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var b={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(b)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("visibleStyle");e[n]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");e[n]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,r,o,a){return e(t,n,i,r,o,a)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,r,o){"use strict";function a(t,e){var n=r.getQueryElement(t);if(!n)return void(s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var i=++u;this.element.outlayerGUID=i,d[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=t.console,l=t.jQuery,c=function(){},u=0,d={};return a.namespace="outlayer",a.Item=o,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(a.prototype,n.prototype),a.prototype.option=function(t){r.extend(this.options,t)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0,o=e.length;r<o;r++){var a=e[r],s=new n(a,this);i.push(s)}return i},a.prototype._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;e<n;e++)t.push(this.items[e].element);return t},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=i(this.element)},a.prototype._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):r.isElement(o)&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},a.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},a.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];r.isIgnored||e.push(r)}return e},a.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=e||o.isLayoutInstant,n.push(a)}this._processLayoutQueue(n)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},a.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},a.prototype._getContainerSize=c,a.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},a.prototype._emitCompleteOnItems=function(t,e){function n(){r.dispatchEvent(t+"Complete",null,[e])}function i(){a++,a===o&&n()}var r=this,o=e.length;if(!e||!o)return void n();for(var a=0,s=0,l=e.length;s<l;s++){var c=e[s];c.once(t,i)}},a.prototype.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),l)if(this.$element=this.$element||l(this.element),e){var r=l.Event(e);r.type=t,this.$element.trigger(r,n)}else this.$element.trigger(t,n)},a.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},a.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},a.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;e<n;e++){var i=t[e];this.ignore(i)}}},a.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;e<n;e++){var i=t[e];r.removeFrom(this.stamps,i),this.unignore(i)}},a.prototype._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=r.makeArray(t)},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var n=this.stamps[t];this._manageStamp(n)}}},a.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},a.prototype._manageStamp=c,a.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,r=i(t),o={left:e.left-n.left-r.marginLeft,top:e.top-n.top-r.marginTop,right:n.right-e.right-r.marginRight,bottom:n.bottom-e.bottom-r.marginBottom};return o},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},a.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},a.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},a.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,n=0;e&&n<e;n++){var i=t[n];i.reveal()}},a.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,n=0;e&&n<e;n++){var i=t[n];i.hide()}},a.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},a.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},a.prototype.getItem=function(t){for(var e=0,n=this.items.length;e<n;e++){var i=this.items[e];if(i.element===t)return i}},a.prototype.getItems=function(t){t=r.makeArray(t);for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n],a=this.getItem(o);a&&e.push(a)}return e},a.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var n=0,i=e.length;n<i;n++){var o=e[n];o.remove(),r.removeFrom(this.items,o)}},a.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;e<n;e++){var i=this.items[e];i.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete d[r],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},a.data=function(t){t=r.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&d[e]},a.create=function(t,e){function n(){a.apply(this,arguments)}return Object.create?n.prototype=Object.create(a.prototype):r.extend(n.prototype,a.prototype),n.prototype.constructor=n,n.defaults=r.extend({},a.defaults),r.extend(n.defaults,e),n.prototype.settings={},n.namespace=t,n.data=a.data,n.Item=function(){o.apply(this,arguments)},n.Item.prototype=new o,r.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n},a.Item=o,a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var n in t){var i=e[n];this.sortData[n]=i(this.element,this)}}};var n=e.prototype.destroy;return e.prototype.destroy=function(){n.apply(this,arguments),this.css({display:""})},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var i=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],r=0,o=i.length;r<o;r++){var a=i[r];n.prototype[a]=t(a)}}(),n.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),n=this.isotope.size&&e;return n&&e.innerHeight!=this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(t,e){var n=t+e,i="outer"+e;if(this._getMeasurement(n,i),!this[n]){var r=this.getFirstItemSize();this[n]=r&&r[i]||this.isotope.size["inner"+e]}},n.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return i.prototype=new n,e&&(i.options=e),i.prototype.namespace=t,n.modes[t]=i,i},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function(t,e,n){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,a=i-r%i,s=a&&a<1?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",r=Math[i](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),a=Math.min.apply(Math,o),s=n.indexOf(o,a),l={x:this.columnWidth*s,y:a},c=a+t.size.outerHeight,u=this.cols+1-o.length,d=0;d<u;d++)this.colYs[s+d]=c;return l},i.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++){var r=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,r)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this.options.isOriginLeft?i.left:i.right,o=r+n.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=a;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";function n(t,e){for(var n in e)t[n]=e[n];return t}var i=t.create("masonry"),r=i.prototype._getElementOffset,o=i.prototype.layout,a=i.prototype._getMeasurement;n(i.prototype,e.prototype),i.prototype._getElementOffset=r,i.prototype.layout=o,i.prototype._getMeasurement=a;var s=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var l=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>n&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=t.size.outerHeight,{x:e,y:n}},e.prototype._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(n,i,r,o,a,s){return e(t,n,i,r,o,a,s)}):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,n,i,r,o,a){function s(t,e){return function(n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r],s=n.sortData[a],l=i.sortData[a];if(s>l||s<l){var c=void 0!==e[a]?e[a]:e,u=c?1:-1;return(s>l?1:-1)*u}}return 0}}var l=t.jQuery,c=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement,d=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},f=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});f.Item=o,f.LayoutMode=a,f.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},f.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},f.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0,i=t.length;n<i;n++){var r=t[n];r.id=this.itemGUID++}return this._updateItemsSortData(t),t},f.prototype._initLayoutMode=function(t){var e=a.modes[t],n=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,n):n,this.modes[t]=new e(this)},f.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},f.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},f.prototype.arrange=function(t){function e(){i.reveal(n.needReveal),i.hide(n.needHide)}this.option(t),this._getIsInstant();var n=this._filter(this.items);this.filteredItems=n.matches;var i=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},f.prototype._init=f.prototype.arrange,f.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},f.prototype._bindArrangeComplete=function(){function t(){e&&n&&i&&r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}var e,n,i,r=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){n=!0,t()}),this.once("revealComplete",function(){i=!0,t()})},f.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var n=[],i=[],r=[],o=this._getFilterTest(e),a=0,s=t.length;a<s;a++){var l=t[a];if(!l.isIgnored){var c=o(l);c&&n.push(l),c&&l.isHidden?i.push(l):c||l.isHidden||r.push(l)}}return{matches:n,needReveal:i,needHide:r}},f.prototype._getFilterTest=function(t){return l&&this.options.isJQueryFiltering?function(e){return l(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return i(e.element,t)}},f.prototype.updateSortData=function(t){var e;t?(t=r.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},f.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var n=t[e];this._sorters[e]=p(n)}},f.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,n=0;e&&n<e;n++){var i=t[n];i.updateSortData()}};var p=function(){function t(t){if("string"!=typeof t)return t;var n=c(t).split(" "),i=n[0],r=i.match(/^\[(.+)\]$/),o=r&&r[1],a=e(o,i),s=f.sortDataParsers[n[1]];return t=s?function(t){return t&&s(a(t))}:function(t){return t&&a(t)}}function e(t,e){var n;return n=t?function(e){return e.getAttribute(t)}:function(t){var n=t.querySelector(e);return n&&d(n)}}return t}();f.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},f.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),n=s(e,this.options.sortAscending);this.filteredItems.sort(n),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},f.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},f.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},f.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},f.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},f.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},f.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},f.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},f.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var n=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=n.concat(this.filteredItems),this.items=e.concat(this.items)}},f.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},f.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var n,i,r=e.length;for(n=0;n<r;n++)i=e[n],this.element.appendChild(i.element);var o=this._filter(e).matches;for(n=0;n<r;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;n<r;n++)delete e[n].isLayoutInstant;this.reveal(o)}};var h=f.prototype.remove;return f.prototype.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);h.call(this,t);var n=e&&e.length;if(n)for(var i=0;i<n;i++){var o=e[i];r.removeFrom(this.filteredItems,o)}},f.prototype.shuffle=function(){for(var t=0,e=this.items.length;t<e;t++){var n=this.items[t];n.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},f.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.call(this);return this.options.transitionDuration=e,n},f.prototype.getFilteredItemElements=function(){for(var t=[],e=0,n=this.filteredItems.length;e<n;e++)t.push(this.filteredItems[e].element);return t},f});var Swiper=function(t,e){"use strict";function n(t,e){return document.querySelectorAll?(e||document).querySelectorAll(t):jQuery(t,e)}function i(t){return"[object Array]"===Object.prototype.toString.apply(t)}function r(){var t=A-N;return e.freeMode&&(t=A-N),e.slidesPerView>D.slides.length&&!e.centeredSlides&&(t=0),0>t&&(t=0),t}function o(){function t(t){var n=new Image;n.onload=function(){"undefined"!=typeof D&&null!==D&&(void 0!==D.imagesLoaded&&D.imagesLoaded++,D.imagesLoaded===D.imagesToLoad.length&&(D.reInit(),e.onImagesReady&&D.fireCallback(e.onImagesReady,D)))},n.src=t}var i=D.h.addEventListener,r="wrapper"===e.eventTarget?D.wrapper:D.container;if(D.browser.ie10||D.browser.ie11?(i(r,D.touchEvents.touchStart,g),i(document,D.touchEvents.touchMove,m),i(document,D.touchEvents.touchEnd,v)):(D.support.touch&&(i(r,"touchstart",g),i(r,"touchmove",m),i(r,"touchend",v)),e.simulateTouch&&(i(r,"mousedown",g),i(document,"mousemove",m),i(document,"mouseup",v))),e.autoResize&&i(window,"resize",D.resizeFix),a(),D._wheelEvent=!1,e.mousewheelControl){if(void 0!==document.onmousewheel&&(D._wheelEvent="mousewheel"),!D._wheelEvent)try{new WheelEvent("wheel"),D._wheelEvent="wheel"}catch(o){}D._wheelEvent||(D._wheelEvent="DOMMouseScroll"),D._wheelEvent&&i(D.container,D._wheelEvent,c)}if(e.keyboardControl&&i(document,"keydown",l),e.updateOnImagesReady){D.imagesToLoad=n("img",D.container);for(var s=0;s<D.imagesToLoad.length;s++)t(D.imagesToLoad[s].getAttribute("src"))}}function a(){var t,i=D.h.addEventListener;if(e.preventLinks){var r=n("a",D.container);for(t=0;t<r.length;t++)i(r[t],"click",p)}if(e.releaseFormElements){var o=n("input, textarea, select",D.container);for(t=0;t<o.length;t++)i(o[t],D.touchEvents.touchStart,h,!0)}if(e.onSlideClick)for(t=0;t<D.slides.length;t++)i(D.slides[t],"click",u);if(e.onSlideTouch)for(t=0;t<D.slides.length;t++)i(D.slides[t],D.touchEvents.touchStart,d)}function s(){var t,i=D.h.removeEventListener;if(e.onSlideClick)for(t=0;t<D.slides.length;t++)i(D.slides[t],"click",u);
if(e.onSlideTouch)for(t=0;t<D.slides.length;t++)i(D.slides[t],D.touchEvents.touchStart,d);if(e.releaseFormElements){var r=n("input, textarea, select",D.container);for(t=0;t<r.length;t++)i(r[t],D.touchEvents.touchStart,h,!0)}if(e.preventLinks){var o=n("a",D.container);for(t=0;t<o.length;t++)i(o[t],"click",p)}}function l(t){var e=t.keyCode||t.charCode;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)){if(37===e||39===e||38===e||40===e){for(var n=!1,i=D.h.getOffset(D.container),r=D.h.windowScroll().left,o=D.h.windowScroll().top,a=D.h.windowWidth(),s=D.h.windowHeight(),l=[[i.left,i.top],[i.left+D.width,i.top],[i.left,i.top+D.height],[i.left+D.width,i.top+D.height]],c=0;c<l.length;c++){var u=l[c];u[0]>=r&&u[0]<=r+a&&u[1]>=o&&u[1]<=o+s&&(n=!0)}if(!n)return}F?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),39===e&&D.swipeNext(),37===e&&D.swipePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&D.swipeNext(),38===e&&D.swipePrev())}}function c(t){var n=D._wheelEvent,i=0;if(t.detail)i=-t.detail;else if("mousewheel"===n)if(e.mousewheelControlForceToAxis)if(F){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;i=t.wheelDeltaX}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;i=t.wheelDeltaY}else i=t.wheelDelta;else if("DOMMouseScroll"===n)i=-t.detail;else if("wheel"===n)if(e.mousewheelControlForceToAxis)if(F){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;i=-t.deltaX}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;i=-t.deltaY}else i=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX:-t.deltaY;if(e.freeMode){var o=D.getWrapperTranslate()+i;if(o>0&&(o=0),o<-r()&&(o=-r()),D.setWrapperTransition(0),D.setWrapperTranslate(o),D.updateActiveSlide(o),0===o||o===-r())return}else(new Date).getTime()-q>60&&(0>i?D.swipeNext():D.swipePrev()),q=(new Date).getTime();return e.autoplay&&D.stopAutoplay(!0),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function u(t){D.allowSlideClick&&(f(t),D.fireCallback(e.onSlideClick,D,t))}function d(t){f(t),D.fireCallback(e.onSlideTouch,D,t)}function f(t){if(t.currentTarget)D.clickedSlide=t.currentTarget;else{var n=t.srcElement;do{if(n.className.indexOf(e.slideClass)>-1)break;n=n.parentNode}while(n);D.clickedSlide=n}D.clickedSlideIndex=D.slides.indexOf(D.clickedSlide),D.clickedSlideLoopIndex=D.clickedSlideIndex-(D.loopedSlides||0)}function p(t){return D.allowLinks?void 0:(t.preventDefault?t.preventDefault():t.returnValue=!1,e.preventLinksPropagation&&"stopPropagation"in t&&t.stopPropagation(),!1)}function h(t){return t.stopPropagation?t.stopPropagation():t.returnValue=!1,!1}function g(t){if(e.preventLinks&&(D.allowLinks=!0),D.isTouched||e.onlyExternal)return!1;var n=t.target||t.srcElement;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();var i="input select textarea".split(" ");if(e.noSwiping&&n&&y(n))return!1;if(Q=!1,D.isTouched=!0,Z="touchstart"===t.type,!Z&&"which"in t&&3===t.which)return!1;if(!Z||1===t.targetTouches.length){D.callPlugins("onTouchStartBegin"),!Z&&!D.isAndroid&&i.indexOf(n.tagName.toLowerCase())<0&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var r=Z?t.targetTouches[0].pageX:t.pageX||t.clientX,o=Z?t.targetTouches[0].pageY:t.pageY||t.clientY;D.touches.startX=D.touches.currentX=r,D.touches.startY=D.touches.currentY=o,D.touches.start=D.touches.current=F?r:o,D.setWrapperTransition(0),D.positions.start=D.positions.current=D.getWrapperTranslate(),D.setWrapperTranslate(D.positions.start),D.times.start=(new Date).getTime(),I=void 0,e.moveStartThreshold>0&&(Y=!1),e.onTouchStart&&D.fireCallback(e.onTouchStart,D,t),D.callPlugins("onTouchStartEnd")}}function m(t){if(D.isTouched&&!e.onlyExternal&&(!Z||"mousemove"!==t.type)){var n=Z?t.targetTouches[0].pageX:t.pageX||t.clientX,i=Z?t.targetTouches[0].pageY:t.pageY||t.clientY;if("undefined"==typeof I&&F&&(I=!!(I||Math.abs(i-D.touches.startY)>Math.abs(n-D.touches.startX))),"undefined"!=typeof I||F||(I=!!(I||Math.abs(i-D.touches.startY)<Math.abs(n-D.touches.startX))),I)return void(D.isTouched=!1);if(F){if(!e.swipeToNext&&n<D.touches.startX||!e.swipeToPrev&&n>D.touches.startX)return}else if(!e.swipeToNext&&i<D.touches.startY||!e.swipeToPrev&&i>D.touches.startY)return;if(t.assignedToSwiper)return void(D.isTouched=!1);if(t.assignedToSwiper=!0,e.preventLinks&&(D.allowLinks=!1),e.onSlideClick&&(D.allowSlideClick=!1),e.autoplay&&D.stopAutoplay(!0),!Z||1===t.touches.length){if(D.isMoved||(D.callPlugins("onTouchMoveStart"),e.loop&&(D.fixLoop(),D.positions.start=D.getWrapperTranslate()),e.onTouchMoveStart&&D.fireCallback(e.onTouchMoveStart,D)),D.isMoved=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,D.touches.current=F?n:i,D.positions.current=(D.touches.current-D.touches.start)*e.touchRatio+D.positions.start,D.positions.current>0&&e.onResistanceBefore&&D.fireCallback(e.onResistanceBefore,D,D.positions.current),D.positions.current<-r()&&e.onResistanceAfter&&D.fireCallback(e.onResistanceAfter,D,Math.abs(D.positions.current+r())),e.resistance&&"100%"!==e.resistance){var o;if(D.positions.current>0&&(o=1-D.positions.current/N/2,D.positions.current=.5>o?N/2:D.positions.current*o),D.positions.current<-r()){var a=(D.touches.current-D.touches.start)*e.touchRatio+(r()+D.positions.start);o=(N+a)/N;var s=D.positions.current-a*(1-o)/2,l=-r()-N/2;D.positions.current=l>s||0>=o?l:s}}if(e.resistance&&"100%"===e.resistance&&(D.positions.current>0&&(!e.freeMode||e.freeModeFluid)&&(D.positions.current=0),D.positions.current<-r()&&(!e.freeMode||e.freeModeFluid)&&(D.positions.current=-r())),!e.followFinger)return;if(e.moveStartThreshold)if(Math.abs(D.touches.current-D.touches.start)>e.moveStartThreshold||Y){if(!Y)return Y=!0,void(D.touches.start=D.touches.current);D.setWrapperTranslate(D.positions.current)}else D.positions.current=D.positions.start;else D.setWrapperTranslate(D.positions.current);return(e.freeMode||e.watchActiveIndex)&&D.updateActiveSlide(D.positions.current),e.grabCursor&&(D.container.style.cursor="move",D.container.style.cursor="grabbing",D.container.style.cursor="-moz-grabbin",D.container.style.cursor="-webkit-grabbing"),U||(U=D.touches.current),G||(G=(new Date).getTime()),D.velocity=(D.touches.current-U)/((new Date).getTime()-G)/2,Math.abs(D.touches.current-U)<2&&(D.velocity=0),U=D.touches.current,G=(new Date).getTime(),D.callPlugins("onTouchMoveEnd"),e.onTouchMove&&D.fireCallback(e.onTouchMove,D,t),!1}}}function v(t){if(I&&D.swipeReset(),!e.onlyExternal&&D.isTouched){D.isTouched=!1,e.grabCursor&&(D.container.style.cursor="move",D.container.style.cursor="grab",D.container.style.cursor="-moz-grab",D.container.style.cursor="-webkit-grab"),D.positions.current||0===D.positions.current||(D.positions.current=D.positions.start),e.followFinger&&D.setWrapperTranslate(D.positions.current),D.times.end=(new Date).getTime(),D.touches.diff=D.touches.current-D.touches.start,D.touches.abs=Math.abs(D.touches.diff),D.positions.diff=D.positions.current-D.positions.start,D.positions.abs=Math.abs(D.positions.diff);var n=D.positions.diff,i=D.positions.abs,o=D.times.end-D.times.start;5>i&&300>o&&D.allowLinks===!1&&(e.freeMode||0===i||D.swipeReset(),e.preventLinks&&(D.allowLinks=!0),e.onSlideClick&&(D.allowSlideClick=!0)),setTimeout(function(){"undefined"!=typeof D&&null!==D&&(e.preventLinks&&(D.allowLinks=!0),e.onSlideClick&&(D.allowSlideClick=!0))},100);var a=r();if(!D.isMoved&&e.freeMode)return D.isMoved=!1,e.onTouchEnd&&D.fireCallback(e.onTouchEnd,D,t),void D.callPlugins("onTouchEnd");if(!D.isMoved||D.positions.current>0||D.positions.current<-a)return D.swipeReset(),e.onTouchEnd&&D.fireCallback(e.onTouchEnd,D,t),void D.callPlugins("onTouchEnd");if(D.isMoved=!1,e.freeMode){if(e.freeModeFluid){var s,l=1e3*e.momentumRatio,c=D.velocity*l,u=D.positions.current+c,d=!1,f=20*Math.abs(D.velocity)*e.momentumBounceRatio;-a>u&&(e.momentumBounce&&D.support.transitions?(-f>u+a&&(u=-a-f),s=-a,d=!0,Q=!0):u=-a),u>0&&(e.momentumBounce&&D.support.transitions?(u>f&&(u=f),s=0,d=!0,Q=!0):u=0),0!==D.velocity&&(l=Math.abs((u-D.positions.current)/D.velocity)),D.setWrapperTranslate(u),D.setWrapperTransition(l),e.momentumBounce&&d&&D.wrapperTransitionEnd(function(){Q&&(e.onMomentumBounce&&D.fireCallback(e.onMomentumBounce,D),D.callPlugins("onMomentumBounce"),D.setWrapperTranslate(s),D.setWrapperTransition(300))}),D.updateActiveSlide(u)}return(!e.freeModeFluid||o>=300)&&D.updateActiveSlide(D.positions.current),e.onTouchEnd&&D.fireCallback(e.onTouchEnd,D,t),void D.callPlugins("onTouchEnd")}L=0>n?"toNext":"toPrev","toNext"===L&&300>=o&&(30>i||!e.shortSwipes?D.swipeReset():D.swipeNext(!0)),"toPrev"===L&&300>=o&&(30>i||!e.shortSwipes?D.swipeReset():D.swipePrev(!0));var p=0;if("auto"===e.slidesPerView){for(var h,g=Math.abs(D.getWrapperTranslate()),m=0,v=0;v<D.slides.length;v++)if(h=F?D.slides[v].getWidth(!0,e.roundLengths):D.slides[v].getHeight(!0,e.roundLengths),m+=h,m>g){p=h;break}p>N&&(p=N)}else p=$*e.slidesPerView;"toNext"===L&&o>300&&(i>=p*e.longSwipesRatio?D.swipeNext(!0):D.swipeReset()),"toPrev"===L&&o>300&&(i>=p*e.longSwipesRatio?D.swipePrev(!0):D.swipeReset()),e.onTouchEnd&&D.fireCallback(e.onTouchEnd,D,t),D.callPlugins("onTouchEnd")}}function y(t){var n=!1;do t.className.indexOf(e.noSwipingClass)>-1&&(n=!0),t=t.parentElement;while(!n&&t.parentElement&&-1===t.className.indexOf(e.wrapperClass));return!n&&t.className.indexOf(e.wrapperClass)>-1&&t.className.indexOf(e.noSwipingClass)>-1&&(n=!0),n}function b(t,e){var n,i=document.createElement("div");return i.innerHTML=e,n=i.firstChild,n.className+=" "+t,n.outerHTML}function w(t,n,i){function r(){var o=+new Date,d=o-a;s+=l*d/(1e3/60),u="toNext"===c?s>t:t>s,u?(D.setWrapperTranslate(Math.ceil(s)),D._DOMAnimating=!0,window.setTimeout(function(){r()},1e3/60)):(e.onSlideChangeEnd&&("to"===n?i.runCallbacks===!0&&D.fireCallback(e.onSlideChangeEnd,D,c):D.fireCallback(e.onSlideChangeEnd,D,c)),D.setWrapperTranslate(t),D._DOMAnimating=!1)}var o="to"===n&&i.speed>=0?i.speed:e.speed,a=+new Date;if(D.support.transitions||!e.DOMAnimation)D.setWrapperTranslate(t),D.setWrapperTransition(o);else{var s=D.getWrapperTranslate(),l=Math.ceil((t-s)/o*(1e3/60)),c=s>t?"toNext":"toPrev",u="toNext"===c?s>t:t>s;if(D._DOMAnimating)return;r()}D.updateActiveSlide(t),e.onSlideNext&&"next"===n&&D.fireCallback(e.onSlideNext,D,t),e.onSlidePrev&&"prev"===n&&D.fireCallback(e.onSlidePrev,D,t),e.onSlideReset&&"reset"===n&&D.fireCallback(e.onSlideReset,D,t),("next"===n||"prev"===n||"to"===n&&i.runCallbacks===!0)&&x(n)}function x(t){if(D.callPlugins("onSlideChangeStart"),e.onSlideChangeStart)if(e.queueStartCallbacks&&D.support.transitions){if(D._queueStartCallbacks)return;D._queueStartCallbacks=!0,D.fireCallback(e.onSlideChangeStart,D,t),D.wrapperTransitionEnd(function(){D._queueStartCallbacks=!1})}else D.fireCallback(e.onSlideChangeStart,D,t);if(e.onSlideChangeEnd)if(D.support.transitions)if(e.queueEndCallbacks){if(D._queueEndCallbacks)return;D._queueEndCallbacks=!0,D.wrapperTransitionEnd(function(n){D.fireCallback(e.onSlideChangeEnd,n,t)})}else D.wrapperTransitionEnd(function(n){D.fireCallback(e.onSlideChangeEnd,n,t)});else e.DOMAnimation||setTimeout(function(){D.fireCallback(e.onSlideChangeEnd,D,t)},10)}function S(){var t=D.paginationButtons;if(t)for(var e=0;e<t.length;e++)D.h.removeEventListener(t[e],"click",_)}function C(){var t=D.paginationButtons;if(t)for(var e=0;e<t.length;e++)D.h.addEventListener(t[e],"click",_)}function _(t){for(var n,i=t.target||t.srcElement,r=D.paginationButtons,o=0;o<r.length;o++)i===r[o]&&(n=o);e.autoplay&&D.stopAutoplay(!0),D.swipeTo(n)}function T(){J=setTimeout(function(){e.loop?(D.fixLoop(),D.swipeNext(!0)):D.swipeNext(!0)||(e.autoplayStopOnLast?(clearTimeout(J),J=void 0):D.swipeTo(0)),D.wrapperTransitionEnd(function(){"undefined"!=typeof J&&T()})},e.autoplay)}function k(){D.calcSlides(),e.loader.slides.length>0&&0===D.slides.length&&D.loadSlides(),e.loop&&D.createLoop(),D.init(),o(),e.pagination&&D.createPagination(!0),e.loop||e.initialSlide>0?D.swipeTo(e.initialSlide,0,!1):D.updateActiveSlide(0),e.autoplay&&D.startAutoplay(),D.centerIndex=D.activeIndex,e.onSwiperCreated&&D.fireCallback(e.onSwiperCreated,D),D.callPlugins("onSwiperCreated")}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var E=HTMLElement.prototype;E.__defineGetter__&&E.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,i=this.length;i>n;n++)if(this[n]===t)return n;return-1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof t&&(t.nodeType||0!==n(t).length)){var D=this;D.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},D.positions={start:0,abs:0,diff:0,current:0},D.times={start:0,end:0},D.id=(new Date).getTime(),D.container=t.nodeType?t:n(t)[0],D.isTouched=!1,D.isMoved=!1,D.activeIndex=0,D.centerIndex=0,D.activeLoaderIndex=0,D.activeLoopIndex=0,D.previousIndex=null,D.velocity=0,D.snapGrid=[],D.slidesGrid=[],D.imagesToLoad=[],D.imagesLoaded=0,D.wrapperLeft=0,D.wrapperRight=0,D.wrapperTop=0,D.wrapperBottom=0,D.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var P,$,A,L,I,N,O={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};e=e||{};for(var j in O)if(j in e&&"object"==typeof e[j])for(var M in O[j])M in e[j]||(e[j][M]=O[j][M]);else j in e||(e[j]=O[j]);D.params=e,e.scrollContainer&&(e.freeMode=!0,e.freeModeFluid=!0),e.loop&&(e.resistance="100%");var F="horizontal"===e.mode,z=["mousedown","mousemove","mouseup"];D.browser.ie10&&(z=["MSPointerDown","MSPointerMove","MSPointerUp"]),D.browser.ie11&&(z=["pointerdown","pointermove","pointerup"]),D.touchEvents={touchStart:D.support.touch||!e.simulateTouch?"touchstart":z[0],touchMove:D.support.touch||!e.simulateTouch?"touchmove":z[1],touchEnd:D.support.touch||!e.simulateTouch?"touchend":z[2]};for(var R=D.container.childNodes.length-1;R>=0;R--)if(D.container.childNodes[R].className)for(var V=D.container.childNodes[R].className.split(/\s+/),B=0;B<V.length;B++)V[B]===e.wrapperClass&&(P=D.container.childNodes[R]);D.wrapper=P,D._extendSwiperSlide=function(t){return t.append=function(){return e.loop?t.insertAfter(D.slides.length-D.loopedSlides):(D.wrapper.appendChild(t),D.reInit()),t},t.prepend=function(){return e.loop?(D.wrapper.insertBefore(t,D.slides[D.loopedSlides]),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):D.wrapper.insertBefore(t,D.wrapper.firstChild),D.reInit(),t},t.insertAfter=function(n){if("undefined"==typeof n)return!1;var i;return e.loop?(i=D.slides[n+1+D.loopedSlides],i?D.wrapper.insertBefore(t,i):D.wrapper.appendChild(t),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):(i=D.slides[n+1],D.wrapper.insertBefore(t,i)),D.reInit(),t},t.clone=function(){return D._extendSwiperSlide(t.cloneNode(!0))},t.remove=function(){D.wrapper.removeChild(t),D.reInit()},t.html=function(e){return"undefined"==typeof e?t.innerHTML:(t.innerHTML=e,t)},t.index=function(){for(var e,n=D.slides.length-1;n>=0;n--)t===D.slides[n]&&(e=n);return e},t.isActive=function(){return t.index()===D.activeIndex},t.swiperSlideDataStorage||(t.swiperSlideDataStorage={}),t.getData=function(e){return t.swiperSlideDataStorage[e]},t.setData=function(e,n){return t.swiperSlideDataStorage[e]=n,t},t.data=function(e,n){return"undefined"==typeof n?t.getAttribute("data-"+e):(t.setAttribute("data-"+e,n),t)},t.getWidth=function(e,n){return D.h.getWidth(t,e,n)},t.getHeight=function(e,n){return D.h.getHeight(t,e,n)},t.getOffset=function(){return D.h.getOffset(t)},t},D.calcSlides=function(t){var n=!!D.slides&&D.slides.length;D.slides=[],D.displaySlides=[];for(var i=0;i<D.wrapper.childNodes.length;i++)if(D.wrapper.childNodes[i].className)for(var r=D.wrapper.childNodes[i].className,o=r.split(/\s+/),l=0;l<o.length;l++)o[l]===e.slideClass&&D.slides.push(D.wrapper.childNodes[i]);for(i=D.slides.length-1;i>=0;i--)D._extendSwiperSlide(D.slides[i]);n!==!1&&(n!==D.slides.length||t)&&(s(),a(),D.updateActiveSlide(),D.params.pagination&&D.createPagination(),D.callPlugins("numberOfSlidesChanged"))},D.createSlide=function(t,n,i){n=n||D.params.slideClass,i=i||e.slideElement;var r=document.createElement(i);return r.innerHTML=t||"",r.className=n,D._extendSwiperSlide(r)},D.appendSlide=function(t,e,n){return t?t.nodeType?D._extendSwiperSlide(t).append():D.createSlide(t,e,n).append():void 0},D.prependSlide=function(t,e,n){return t?t.nodeType?D._extendSwiperSlide(t).prepend():D.createSlide(t,e,n).prepend():void 0},D.insertSlideAfter=function(t,e,n,i){return"undefined"!=typeof t&&(e.nodeType?D._extendSwiperSlide(e).insertAfter(t):D.createSlide(e,n,i).insertAfter(t))},D.removeSlide=function(t){if(D.slides[t]){if(e.loop){if(!D.slides[t+D.loopedSlides])return!1;D.slides[t+D.loopedSlides].remove(),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()}else D.slides[t].remove();return!0}return!1},D.removeLastSlide=function(){return D.slides.length>0&&(e.loop?(D.slides[D.slides.length-1-D.loopedSlides].remove(),D.removeLoopedSlides(),D.calcSlides(),D.createLoop()):D.slides[D.slides.length-1].remove(),!0)},D.removeAllSlides=function(){for(var t=D.slides.length-1;t>=0;t--)D.slides[t].remove()},D.getSlide=function(t){return D.slides[t]},D.getLastSlide=function(){return D.slides[D.slides.length-1]},D.getFirstSlide=function(){return D.slides[0]},D.activeSlide=function(){return D.slides[D.activeIndex]},D.fireCallback=function(){var t=arguments[0];if("[object Array]"===Object.prototype.toString.call(t))for(var n=0;n<t.length;n++)"function"==typeof t[n]&&t[n](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);else"[object String]"===Object.prototype.toString.call(t)?e["on"+t]&&D.fireCallback(e["on"+t],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):t(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},D.addCallback=function(t,e){var n,r=this;return r.params["on"+t]?i(this.params["on"+t])?this.params["on"+t].push(e):"function"==typeof this.params["on"+t]?(n=this.params["on"+t],this.params["on"+t]=[],this.params["on"+t].push(n),this.params["on"+t].push(e)):void 0:(this.params["on"+t]=[],this.params["on"+t].push(e))},D.removeCallbacks=function(t){D.params["on"+t]&&(D.params["on"+t]=null)};var H=[];for(var K in D.plugins)if(e[K]){var W=D.plugins[K](D,e[K]);W&&H.push(W)}D.callPlugins=function(t,e){e||(e={});for(var n=0;n<H.length;n++)t in H[n]&&H[n][t](e)},!D.browser.ie10&&!D.browser.ie11||e.onlyExternal||D.wrapper.classList.add("swiper-wp8-"+(F?"horizontal":"vertical")),e.freeMode&&(D.container.className+=" swiper-free-mode"),D.initialized=!1,D.init=function(t,n){var i=D.h.getWidth(D.container,!1,e.roundLengths),r=D.h.getHeight(D.container,!1,e.roundLengths);if(i!==D.width||r!==D.height||t){D.width=i,D.height=r;var o,a,s,l,c,u,d;N=F?i:r;var f=D.wrapper;if(t&&D.calcSlides(n),"auto"===e.slidesPerView){var p=0,h=0;e.slidesOffset>0&&(f.style.paddingLeft="",f.style.paddingRight="",f.style.paddingTop="",f.style.paddingBottom=""),f.style.width="",f.style.height="",e.offsetPxBefore>0&&(F?D.wrapperLeft=e.offsetPxBefore:D.wrapperTop=e.offsetPxBefore),e.offsetPxAfter>0&&(F?D.wrapperRight=e.offsetPxAfter:D.wrapperBottom=e.offsetPxAfter),e.centeredSlides&&(F?(D.wrapperLeft=(N-this.slides[0].getWidth(!0,e.roundLengths))/2,D.wrapperRight=(N-D.slides[D.slides.length-1].getWidth(!0,e.roundLengths))/2):(D.wrapperTop=(N-D.slides[0].getHeight(!0,e.roundLengths))/2,D.wrapperBottom=(N-D.slides[D.slides.length-1].getHeight(!0,e.roundLengths))/2)),F?(D.wrapperLeft>=0&&(f.style.paddingLeft=D.wrapperLeft+"px"),D.wrapperRight>=0&&(f.style.paddingRight=D.wrapperRight+"px")):(D.wrapperTop>=0&&(f.style.paddingTop=D.wrapperTop+"px"),D.wrapperBottom>=0&&(f.style.paddingBottom=D.wrapperBottom+"px")),u=0;var g=0;for(D.snapGrid=[],D.slidesGrid=[],s=0,d=0;d<D.slides.length;d++){o=D.slides[d].getWidth(!0,e.roundLengths),a=D.slides[d].getHeight(!0,e.roundLengths),e.calculateHeight&&(s=Math.max(s,a));var m=F?o:a;if(e.centeredSlides){var v=d===D.slides.length-1?0:D.slides[d+1].getWidth(!0,e.roundLengths),y=d===D.slides.length-1?0:D.slides[d+1].getHeight(!0,e.roundLengths),b=F?v:y;if(m>N){if(e.slidesPerViewFit)D.snapGrid.push(u+D.wrapperLeft),D.snapGrid.push(u+m-N+D.wrapperLeft);else for(var w=0;w<=Math.floor(m/(N+D.wrapperLeft));w++)D.snapGrid.push(0===w?u+D.wrapperLeft:u+D.wrapperLeft+N*w);D.slidesGrid.push(u+D.wrapperLeft)}else D.snapGrid.push(g),D.slidesGrid.push(g);g+=m/2+b/2}else{if(m>N)if(e.slidesPerViewFit)D.snapGrid.push(u),D.snapGrid.push(u+m-N);else if(0!==N)for(var x=0;x<=Math.floor(m/N);x++)D.snapGrid.push(u+N*x);else D.snapGrid.push(u);else D.snapGrid.push(u);D.slidesGrid.push(u)}u+=m,p+=o,h+=a}e.calculateHeight&&(D.height=s),F?(A=p+D.wrapperRight+D.wrapperLeft,f.style.width=p+"px",f.style.height=D.height+"px"):(A=h+D.wrapperTop+D.wrapperBottom,f.style.width=D.width+"px",f.style.height=h+"px")}else if(e.scrollContainer)f.style.width="",f.style.height="",l=D.slides[0].getWidth(!0,e.roundLengths),c=D.slides[0].getHeight(!0,e.roundLengths),A=F?l:c,f.style.width=l+"px",f.style.height=c+"px",$=F?l:c;else{if(e.calculateHeight){for(s=0,c=0,F||(D.container.style.height=""),f.style.height="",d=0;d<D.slides.length;d++)D.slides[d].style.height="",s=Math.max(D.slides[d].getHeight(!0),s),F||(c+=D.slides[d].getHeight(!0));a=s,D.height=a,F?c=a:(N=a,D.container.style.height=N+"px")}else a=F?D.height:D.height/e.slidesPerView,e.roundLengths&&(a=Math.ceil(a)),c=F?D.height:D.slides.length*a;for(o=F?D.width/e.slidesPerView:D.width,e.roundLengths&&(o=Math.ceil(o)),l=F?D.slides.length*o:D.width,$=F?o:a,e.offsetSlidesBefore>0&&(F?D.wrapperLeft=$*e.offsetSlidesBefore:D.wrapperTop=$*e.offsetSlidesBefore),e.offsetSlidesAfter>0&&(F?D.wrapperRight=$*e.offsetSlidesAfter:D.wrapperBottom=$*e.offsetSlidesAfter),e.offsetPxBefore>0&&(F?D.wrapperLeft=e.offsetPxBefore:D.wrapperTop=e.offsetPxBefore),e.offsetPxAfter>0&&(F?D.wrapperRight=e.offsetPxAfter:D.wrapperBottom=e.offsetPxAfter),e.centeredSlides&&(F?(D.wrapperLeft=(N-$)/2,D.wrapperRight=(N-$)/2):(D.wrapperTop=(N-$)/2,D.wrapperBottom=(N-$)/2)),F?(D.wrapperLeft>0&&(f.style.paddingLeft=D.wrapperLeft+"px"),D.wrapperRight>0&&(f.style.paddingRight=D.wrapperRight+"px")):(D.wrapperTop>0&&(f.style.paddingTop=D.wrapperTop+"px"),D.wrapperBottom>0&&(f.style.paddingBottom=D.wrapperBottom+"px")),A=F?l+D.wrapperRight+D.wrapperLeft:c+D.wrapperTop+D.wrapperBottom,parseFloat(l)>0&&(!e.cssWidthAndHeight||"height"===e.cssWidthAndHeight)&&(f.style.width=l+"px"),parseFloat(c)>0&&(!e.cssWidthAndHeight||"width"===e.cssWidthAndHeight)&&(f.style.height=c+"px"),u=0,D.snapGrid=[],D.slidesGrid=[],d=0;d<D.slides.length;d++)D.snapGrid.push(u),D.slidesGrid.push(u),u+=$,parseFloat(o)>0&&(!e.cssWidthAndHeight||"height"===e.cssWidthAndHeight)&&(D.slides[d].style.width=o+"px"),parseFloat(a)>0&&(!e.cssWidthAndHeight||"width"===e.cssWidthAndHeight)&&(D.slides[d].style.height=a+"px")}D.initialized?(D.callPlugins("onInit"),e.onInit&&D.fireCallback(e.onInit,D)):(D.callPlugins("onFirstInit"),e.onFirstInit&&D.fireCallback(e.onFirstInit,D)),D.initialized=!0}},D.reInit=function(t){D.init(!0,t)},D.resizeFix=function(t){D.callPlugins("beforeResizeFix"),D.init(e.resizeReInit||t),e.freeMode?D.getWrapperTranslate()<-r()&&(D.setWrapperTransition(0),D.setWrapperTranslate(-r())):(D.swipeTo(e.loop?D.activeLoopIndex:D.activeIndex,0,!1),e.autoplay&&(D.support.transitions&&"undefined"!=typeof J?"undefined"!=typeof J&&(clearTimeout(J),J=void 0,D.startAutoplay()):"undefined"!=typeof tt&&(clearInterval(tt),tt=void 0,D.startAutoplay()))),D.callPlugins("afterResizeFix")},D.destroy=function(){var t=D.h.removeEventListener,n="wrapper"===e.eventTarget?D.wrapper:D.container;D.browser.ie10||D.browser.ie11?(t(n,D.touchEvents.touchStart,g),t(document,D.touchEvents.touchMove,m),t(document,D.touchEvents.touchEnd,v)):(D.support.touch&&(t(n,"touchstart",g),t(n,"touchmove",m),t(n,"touchend",v)),e.simulateTouch&&(t(n,"mousedown",g),t(document,"mousemove",m),t(document,"mouseup",v))),e.autoResize&&t(window,"resize",D.resizeFix),s(),e.paginationClickable&&S(),e.mousewheelControl&&D._wheelEvent&&t(D.container,D._wheelEvent,c),e.keyboardControl&&t(document,"keydown",l),e.autoplay&&D.stopAutoplay(),D.callPlugins("onDestroy"),D=null},D.disableKeyboardControl=function(){e.keyboardControl=!1,D.h.removeEventListener(document,"keydown",l)},D.enableKeyboardControl=function(){e.keyboardControl=!0,D.h.addEventListener(document,"keydown",l)};var q=(new Date).getTime();if(D.disableMousewheelControl=function(){return!!D._wheelEvent&&(e.mousewheelControl=!1,D.h.removeEventListener(D.container,D._wheelEvent,c),!0)},D.enableMousewheelControl=function(){return!!D._wheelEvent&&(e.mousewheelControl=!0,D.h.addEventListener(D.container,D._wheelEvent,c),!0)},e.grabCursor){var X=D.container.style;X.cursor="move",X.cursor="grab",X.cursor="-moz-grab",X.cursor="-webkit-grab"}D.allowSlideClick=!0,D.allowLinks=!0;var Y,U,G,Z=!1,Q=!0;D.swipeNext=function(t){!t&&e.loop&&D.fixLoop(),!t&&e.autoplay&&D.stopAutoplay(!0),D.callPlugins("onSwipeNext");var n=D.getWrapperTranslate(),i=n;if("auto"===e.slidesPerView){for(var o=0;o<D.snapGrid.length;o++)if(-n>=D.snapGrid[o]&&-n<D.snapGrid[o+1]){i=-D.snapGrid[o+1];break}}else{var a=$*e.slidesPerGroup;i=-(Math.floor(Math.abs(n)/Math.floor(a))*a+a)}return i<-r()&&(i=-r()),i!==n&&(w(i,"next"),!0)},D.swipePrev=function(t){!t&&e.loop&&D.fixLoop(),!t&&e.autoplay&&D.stopAutoplay(!0),D.callPlugins("onSwipePrev");var n,i=Math.ceil(D.getWrapperTranslate());if("auto"===e.slidesPerView){n=0;for(var r=1;r<D.snapGrid.length;r++){if(-i===D.snapGrid[r]){n=-D.snapGrid[r-1];break}if(-i>D.snapGrid[r]&&-i<D.snapGrid[r+1]){n=-D.snapGrid[r];break}}}else{var o=$*e.slidesPerGroup;n=-(Math.ceil(-i/o)-1)*o}return n>0&&(n=0),n!==i&&(w(n,"prev"),!0)},D.swipeReset=function(){D.callPlugins("onSwipeReset");var t,n=D.getWrapperTranslate(),i=$*e.slidesPerGroup;if(-r(),"auto"===e.slidesPerView){t=0;for(var o=0;o<D.snapGrid.length;o++){if(-n===D.snapGrid[o])return;if(-n>=D.snapGrid[o]&&-n<D.snapGrid[o+1]){t=D.positions.diff>0?-D.snapGrid[o+1]:-D.snapGrid[o];break}}-n>=D.snapGrid[D.snapGrid.length-1]&&(t=-D.snapGrid[D.snapGrid.length-1]),n<=-r()&&(t=-r())}else t=0>n?Math.round(n/i)*i:0,n<=-r()&&(t=-r());return e.scrollContainer&&(t=0>n?n:0),t<-r()&&(t=-r()),e.scrollContainer&&N>$&&(t=0),t!==n&&(w(t,"reset"),!0)},D.swipeTo=function(t,n,i){t=parseInt(t,10),D.callPlugins("onSwipeTo",{index:t,speed:n}),e.loop&&(t+=D.loopedSlides);var o=D.getWrapperTranslate();if(!(t>D.slides.length-1||0>t)){var a;return a="auto"===e.slidesPerView?-D.slidesGrid[t]:-t*$,a<-r()&&(a=-r()),a!==o&&(i=i!==!1,w(a,"to",{index:t,speed:n,runCallbacks:i}),!0)}},D._queueStartCallbacks=!1,D._queueEndCallbacks=!1,D.updateActiveSlide=function(t){if(D.initialized&&0!==D.slides.length){D.previousIndex=D.activeIndex,"undefined"==typeof t&&(t=D.getWrapperTranslate()),t>0&&(t=0);var n;if("auto"===e.slidesPerView){if(D.activeIndex=D.slidesGrid.indexOf(-t),D.activeIndex<0){for(n=0;n<D.slidesGrid.length-1&&!(-t>D.slidesGrid[n]&&-t<D.slidesGrid[n+1]);n++);var i=Math.abs(D.slidesGrid[n]+t),r=Math.abs(D.slidesGrid[n+1]+t);D.activeIndex=r>=i?n:n+1}}else D.activeIndex=Math[e.visibilityFullFit?"ceil":"round"](-t/$);if(D.activeIndex===D.slides.length&&(D.activeIndex=D.slides.length-1),D.activeIndex<0&&(D.activeIndex=0),D.slides[D.activeIndex]){if(D.calcVisibleSlides(t),D.support.classList){var o;for(n=0;n<D.slides.length;n++)o=D.slides[n],o.classList.remove(e.slideActiveClass),D.visibleSlides.indexOf(o)>=0?o.classList.add(e.slideVisibleClass):o.classList.remove(e.slideVisibleClass);D.slides[D.activeIndex].classList.add(e.slideActiveClass)}else{var a=new RegExp("\\s*"+e.slideActiveClass),s=new RegExp("\\s*"+e.slideVisibleClass);for(n=0;n<D.slides.length;n++)D.slides[n].className=D.slides[n].className.replace(a,"").replace(s,""),D.visibleSlides.indexOf(D.slides[n])>=0&&(D.slides[n].className+=" "+e.slideVisibleClass);D.slides[D.activeIndex].className+=" "+e.slideActiveClass}if(e.loop){var l=D.loopedSlides;D.activeLoopIndex=D.activeIndex-l,D.activeLoopIndex>=D.slides.length-2*l&&(D.activeLoopIndex=D.slides.length-2*l-D.activeLoopIndex),D.activeLoopIndex<0&&(D.activeLoopIndex=D.slides.length-2*l+D.activeLoopIndex),D.activeLoopIndex<0&&(D.activeLoopIndex=0)}else D.activeLoopIndex=D.activeIndex;e.pagination&&D.updatePagination(t)}}},D.createPagination=function(t){if(e.paginationClickable&&D.paginationButtons&&S(),D.paginationContainer=e.pagination.nodeType?e.pagination:n(e.pagination)[0],e.createPagination){var i="",r=D.slides.length,o=r;e.loop&&(o-=2*D.loopedSlides);for(var a=0;o>a;a++)i+="<"+e.paginationElement+' class="'+e.paginationElementClass+'"></'+e.paginationElement+">";D.paginationContainer.innerHTML=i}D.paginationButtons=n("."+e.paginationElementClass,D.paginationContainer),t||D.updatePagination(),D.callPlugins("onCreatePagination"),e.paginationClickable&&C()},D.updatePagination=function(t){if(e.pagination&&!(D.slides.length<1)){var i=n("."+e.paginationActiveClass,D.paginationContainer);if(i){var r=D.paginationButtons;if(0!==r.length){for(var o=0;o<r.length;o++)r[o].className=e.paginationElementClass;var a=e.loop?D.loopedSlides:0;if(e.paginationAsRange){D.visibleSlides||D.calcVisibleSlides(t);var s,l=[];for(s=0;s<D.visibleSlides.length;s++){var c=D.slides.indexOf(D.visibleSlides[s])-a;e.loop&&0>c&&(c=D.slides.length-2*D.loopedSlides+c),e.loop&&c>=D.slides.length-2*D.loopedSlides&&(c=D.slides.length-2*D.loopedSlides-c,c=Math.abs(c)),l.push(c)}for(s=0;s<l.length;s++)r[l[s]]&&(r[l[s]].className+=" "+e.paginationVisibleClass);e.loop?void 0!==r[D.activeLoopIndex]&&(r[D.activeLoopIndex].className+=" "+e.paginationActiveClass):r[D.activeIndex].className+=" "+e.paginationActiveClass}else e.loop?r[D.activeLoopIndex]&&(r[D.activeLoopIndex].className+=" "+e.paginationActiveClass+" "+e.paginationVisibleClass):r[D.activeIndex].className+=" "+e.paginationActiveClass+" "+e.paginationVisibleClass}}}},D.calcVisibleSlides=function(t){var n=[],i=0,r=0,o=0;F&&D.wrapperLeft>0&&(t+=D.wrapperLeft),!F&&D.wrapperTop>0&&(t+=D.wrapperTop);for(var a=0;a<D.slides.length;a++){i+=r,r="auto"===e.slidesPerView?F?D.h.getWidth(D.slides[a],!0,e.roundLengths):D.h.getHeight(D.slides[a],!0,e.roundLengths):$,o=i+r;var s=!1;e.visibilityFullFit?(i>=-t&&-t+N>=o&&(s=!0),
-t>=i&&o>=-t+N&&(s=!0)):(o>-t&&-t+N>=o&&(s=!0),i>=-t&&-t+N>i&&(s=!0),-t>i&&o>-t+N&&(s=!0)),s&&n.push(D.slides[a])}0===n.length&&(n=[D.slides[D.activeIndex]]),D.visibleSlides=n};var J,tt;D.startAutoplay=function(){if(D.support.transitions){if("undefined"!=typeof J)return!1;if(!e.autoplay)return;D.callPlugins("onAutoplayStart"),e.onAutoplayStart&&D.fireCallback(e.onAutoplayStart,D),T()}else{if("undefined"!=typeof tt)return!1;if(!e.autoplay)return;D.callPlugins("onAutoplayStart"),e.onAutoplayStart&&D.fireCallback(e.onAutoplayStart,D),tt=setInterval(function(){e.loop?(D.fixLoop(),D.swipeNext(!0)):D.swipeNext(!0)||(e.autoplayStopOnLast?(clearInterval(tt),tt=void 0):D.swipeTo(0))},e.autoplay)}},D.stopAutoplay=function(t){if(D.support.transitions){if(!J)return;J&&clearTimeout(J),J=void 0,t&&!e.autoplayDisableOnInteraction&&D.wrapperTransitionEnd(function(){T()}),D.callPlugins("onAutoplayStop"),e.onAutoplayStop&&D.fireCallback(e.onAutoplayStop,D)}else tt&&clearInterval(tt),tt=void 0,D.callPlugins("onAutoplayStop"),e.onAutoplayStop&&D.fireCallback(e.onAutoplayStop,D)},D.loopCreated=!1,D.removeLoopedSlides=function(){if(D.loopCreated)for(var t=0;t<D.slides.length;t++)D.slides[t].getData("looped")===!0&&D.wrapper.removeChild(D.slides[t])},D.createLoop=function(){if(0!==D.slides.length){D.loopedSlides="auto"===e.slidesPerView?e.loopedSlides||1:e.slidesPerView+e.loopAdditionalSlides,D.loopedSlides>D.slides.length&&(D.loopedSlides=D.slides.length);var t,n="",i="",r="",o=D.slides.length,a=Math.floor(D.loopedSlides/o),s=D.loopedSlides%o;for(t=0;a*o>t;t++){var l=t;if(t>=o){var c=Math.floor(t/o);l=t-o*c}r+=D.slides[l].outerHTML}for(t=0;s>t;t++)i+=b(e.slideDuplicateClass,D.slides[t].outerHTML);for(t=o-s;o>t;t++)n+=b(e.slideDuplicateClass,D.slides[t].outerHTML);var u=n+r+P.innerHTML+r+i;for(P.innerHTML=u,D.loopCreated=!0,D.calcSlides(),t=0;t<D.slides.length;t++)(t<D.loopedSlides||t>=D.slides.length-D.loopedSlides)&&D.slides[t].setData("looped",!0);D.callPlugins("onCreateLoop")}},D.fixLoop=function(){var t;D.activeIndex<D.loopedSlides?(t=D.slides.length-3*D.loopedSlides+D.activeIndex,D.swipeTo(t,0,!1)):("auto"===e.slidesPerView&&D.activeIndex>=2*D.loopedSlides||D.activeIndex>D.slides.length-2*e.slidesPerView)&&(t=-D.slides.length+D.activeIndex+D.loopedSlides,D.swipeTo(t,0,!1))},D.loadSlides=function(){var t="";D.activeLoaderIndex=0;for(var n=e.loader.slides,i=e.loader.loadAllSlides?n.length:e.slidesPerView*(1+e.loader.surroundGroups),r=0;i>r;r++)t+="outer"===e.loader.slidesHTMLType?n[r]:"<"+e.slideElement+' class="'+e.slideClass+'" data-swiperindex="'+r+'">'+n[r]+"</"+e.slideElement+">";D.wrapper.innerHTML=t,D.calcSlides(!0),e.loader.loadAllSlides||D.wrapperTransitionEnd(D.reloadSlides,!0)},D.reloadSlides=function(){var t=e.loader.slides,n=parseInt(D.activeSlide().data("swiperindex"),10);if(!(0>n||n>t.length-1)){D.activeLoaderIndex=n;var i=Math.max(0,n-e.slidesPerView*e.loader.surroundGroups),r=Math.min(n+e.slidesPerView*(1+e.loader.surroundGroups)-1,t.length-1);if(n>0){var o=-$*(n-i);D.setWrapperTranslate(o),D.setWrapperTransition(0)}var a;if("reload"===e.loader.logic){D.wrapper.innerHTML="";var s="";for(a=i;r>=a;a++)s+="outer"===e.loader.slidesHTMLType?t[a]:"<"+e.slideElement+' class="'+e.slideClass+'" data-swiperindex="'+a+'">'+t[a]+"</"+e.slideElement+">";D.wrapper.innerHTML=s}else{var l=1e3,c=0;for(a=0;a<D.slides.length;a++){var u=D.slides[a].data("swiperindex");i>u||u>r?D.wrapper.removeChild(D.slides[a]):(l=Math.min(u,l),c=Math.max(u,c))}for(a=i;r>=a;a++){var d;l>a&&(d=document.createElement(e.slideElement),d.className=e.slideClass,d.setAttribute("data-swiperindex",a),d.innerHTML=t[a],D.wrapper.insertBefore(d,D.wrapper.firstChild)),a>c&&(d=document.createElement(e.slideElement),d.className=e.slideClass,d.setAttribute("data-swiperindex",a),d.innerHTML=t[a],D.wrapper.appendChild(d))}}D.reInit(!0)}},k()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(t,e){"use strict";function n(s){if(s.target===o&&(t(r),r.params.queueEndCallbacks&&(r._queueEndCallbacks=!1),!e))for(i=0;i<a.length;i++)r.h.removeEventListener(o,a[i],n)}var i,r=this,o=r.wrapper,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(t)for(i=0;i<a.length;i++)r.h.addEventListener(o,a[i],n)},getWrapperTranslate:function(t){"use strict";var e,n,i,r,o=this.wrapper;return"undefined"==typeof t&&(t="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(i=window.getComputedStyle(o,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),e=r.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?r.m41:parseFloat(16===e.length?e[12]:e[4])),"y"===t&&(n=window.WebKitCSSMatrix?r.m42:parseFloat(16===e.length?e[13]:e[5]))):("x"===t&&(n=parseFloat(o.style.left,10)||0),"y"===t&&(n=parseFloat(o.style.top,10)||0)),n||0},setWrapperTranslate:function(t,e,n){"use strict";var i,r=this.wrapper.style,o={x:0,y:0,z:0};3===arguments.length?(o.x=t,o.y=e,o.z=n):("undefined"==typeof e&&(e="horizontal"===this.params.mode?"x":"y"),o[e]=t),this.support.transforms&&this.params.useCSS3Transforms?(i=this.support.transforms3d?"translate3d("+o.x+"px, "+o.y+"px, "+o.z+"px)":"translate("+o.x+"px, "+o.y+"px)",r.webkitTransform=r.MsTransform=r.msTransform=r.MozTransform=r.OTransform=r.transform=i):(r.left=o.x+"px",r.top=o.y+"px"),this.callPlugins("onSetWrapperTransform",o),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,o)},setWrapperTransition:function(t){"use strict";var e=this.wrapper.style;e.webkitTransitionDuration=e.MsTransitionDuration=e.msTransitionDuration=e.MozTransitionDuration=e.OTransitionDuration=e.transitionDuration=t/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:t}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,t)},h:{getWidth:function(t,e,n){"use strict";var i=window.getComputedStyle(t,null).getPropertyValue("width"),r=parseFloat(i);return(isNaN(r)||i.indexOf("%")>0||0>r)&&(r=t.offsetWidth-parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-right"))),e&&(r+=parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-right"))),n?Math.ceil(r):r},getHeight:function(t,e,n){"use strict";if(e)return t.offsetHeight;var i=window.getComputedStyle(t,null).getPropertyValue("height"),r=parseFloat(i);return(isNaN(r)||i.indexOf("%")>0||0>r)&&(r=t.offsetHeight-parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-bottom"))),e&&(r+=parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-bottom"))),n?Math.ceil(r):r},getOffset:function(t){"use strict";var e=t.getBoundingClientRect(),n=document.body,i=t.clientTop||n.clientTop||0,r=t.clientLeft||n.clientLeft||0,o=window.pageYOffset||t.scrollTop,a=window.pageXOffset||t.scrollLeft;return document.documentElement&&!window.pageYOffset&&(o=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),{top:e.top+o-i,left:e.left+a-r}},windowWidth:function(){"use strict";return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){"use strict";return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){"use strict";return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(t,e,n,i){"use strict";"undefined"==typeof i&&(i=!1),t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},removeEventListener:function(t,e,n,i){"use strict";"undefined"==typeof i&&(i=!1),t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)}},setTransform:function(t,e){"use strict";var n=t.style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e},setTranslate:function(t,e){"use strict";var n=t.style,i={x:e.x||0,y:e.y||0,z:e.z||0},r=this.support.transforms3d?"translate3d("+i.x+"px,"+i.y+"px,"+i.z+"px)":"translate("+i.x+"px,"+i.y+"px)";n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=r,this.support.transforms||(n.left=i.x+"px",n.top=i.y+"px")},setTransition:function(t,e){"use strict";var n=t.style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){"use strict";return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){"use strict";var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){"use strict";var t=document.createElement("div").style;return"transform"in t||"WebkitTransform"in t||"MozTransform"in t||"msTransform"in t||"MsTransform"in t||"OTransform"in t}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){"use strict";var t=document.createElement("div").style;return"transition"in t||"WebkitTransition"in t||"MozTransition"in t||"msTransition"in t||"MsTransition"in t||"OTransition"in t}(),classList:function(){"use strict";var t=document.createElement("div");return"classList"in t}()},browser:{ie8:function(){"use strict";var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent,n=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/);null!==n.exec(e)&&(t=parseFloat(RegExp.$1))}return-1!==t&&9>t}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&!function(t){"use strict";t.fn.swiper=function(e){var n;return this.each(function(i){var r=t(this);if(!r.data("swiper")){var o=new Swiper(r[0],e);i||(n=o),r.data("swiper",o)}}),n}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,r,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),e+=1,r=t('<iframe src="'+a+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var e;try{if(e=r.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",o[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",a),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&t.inArray("Files",r.types)!==-1&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return!e.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||a,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(a,e.blob,r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||a,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).pipe(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,a=e.files[0],s=a.size,l=e.uploadedBytes,c=e.maxChunkSize||s,u=this._blobSlice,d=t.Deferred(),f=d.promise();return!(!(this._isXHRUpload(e)&&u&&(l||c<s))||e.data)&&(!!n||(l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(r=function(){var n=t.extend({},e),f=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,f+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<s?r():d.resolveWith(n.context,[i,a,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(f),f.abort=function(){return i.abort()},r(),f)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,a=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),a.result=r.result=e,a.textStatus=r.textStatus=n,a.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||s._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),a=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(a)):c()},_onAdd:function(e,n){var i,r,o,a,s=this,l=!0,c=t.extend({},this.options,n),u=n.files,d=u.length,f=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,h=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!p||d&&void 0!==u[0].size||(p=void 0),(c.singleFileUploads||f||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!f)if(!c.singleFileUploads&&p)for(o=[],i=[],a=0;a<d;a+=1)g+=u[a].size+h,(a+1===d||g+u[a+1].size+h>p||f&&a+1-v>=f)&&(o.push(u.slice(v,a+1)),r=m.slice(v,a+1),r.length||(r=m),i.push(r),v=a+1,g=0);else i=m;else for(o=[],i=[],a=0;a<d;a+=f)o.push(u.slice(a,a+f)),r=m.slice(a,a+f),r.length||(r=m),i.push(r);else o=[u],i=[m];return n.originalFiles=u,t.each(o||u,function(r,a){var c=t.extend({},n);return c.files=o?a:[a],c.paramName=i[r],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(e,c),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),a=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},s=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(a)},l=function(){i.readEntries(function(t){t.length?(c=c.concat(t),l()):s(c)},a)},c=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},a):e.isDirectory?(i=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=t.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=t(this.element[0].cloneNode(!1));t.each(i.data(),function(t,r){var o="data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(o)&&(e._isRegExpOption(t,r)&&(r=e._getRegExp(r)),n[t]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),a=o.promise();return a.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})});var Froogaloop=function(){function t(e){return new t.fn.init(e)}function e(t,e,n){if(!n.contentWindow.postMessage)return!1;var i=n.getAttribute("src").split("?")[0],t=JSON.stringify({method:t,value:e});"//"===i.substr(0,2)&&(i=window.location.protocol+i),n.contentWindow.postMessage(t,i)}function n(t){var e,n;try{e=JSON.parse(t.data),n=e.event||e.method}catch(i){}if("ready"==n&&!o&&(o=!0),t.origin!=a)return!1;var t=e.value,s=e.data,l=""===l?null:e.player_id;return e=l?r[l][n]:r[n],n=[],!!e&&(void 0!==t&&n.push(t),s&&n.push(s),l&&n.push(l),0<n.length?e.apply(null,n):e.call())}function i(t,e,n){n?(r[n]||(r[n]={}),r[n][t]=e):r[t]=e}var r={},o=!1,a="";return t.fn=t.prototype={element:null,init:function(t){"string"==typeof t&&(t=document.getElementById(t)),this.element=t,t=this.element.getAttribute("src"),"//"===t.substr(0,2)&&(t=window.location.protocol+t);for(var t=t.split("/"),e="",n=0,i=t.length;n<i&&3>n;n++)e+=t[n],2>n&&(e+="/");return a=e,this},api:function(t,n){if(!this.element||!t)return!1;var r=this.element,o=""!==r.id?r.id:null,a=n&&n.constructor&&n.call&&n.apply?null:n,s=n&&n.constructor&&n.call&&n.apply?n:null;return s&&i(t,s,o),e(t,a,r),this},addEvent:function(t,n){if(!this.element)return!1;
var r=this.element,a=""!==r.id?r.id:null;return i(t,n,a),"ready"!=t?e("addEventListener",t,r):"ready"==t&&o&&n.call(null,a),this},removeEvent:function(t){if(!this.element)return!1;var n,i=this.element;t:{if((n=""!==i.id?i.id:null)&&r[n]){if(!r[n][t]){n=!1;break t}r[n][t]=null}else{if(!r[t]){n=!1;break t}r[t]=null}n=!0}"ready"!=t&&n&&e("removeEventListener",t,i)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=t}();!function(){function t(t){this.path=t;var e=this.path.split("."),n=e.slice(0,e.length-1).join("."),i=e[e.length-1];this.at_2x_path=n+"@2x."+i}function e(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(t){t&&n.swap()})}var n="undefined"==typeof exports?window:exports;n.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},t.prototype.check_2x_variant=function(e){var n,i=this;return this.is_external()?e(!1):this.at_2x_path in t.confirmed_paths?e(!0):(n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return 4!=n.readyState?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(i.at_2x_path),e(!0)):e(!1)},n.send(),void 0)},n.RetinaImage=e,e.prototype.swap=function(t){function e(){r.el.complete?(n=r.el.offsetWidth,n&&"0"!=n||(n=el.getAttribute("width"),n&&"0"!=n||(o=!0)),i=r.el.offsetHeight,i&&"0"!=i||(i=el.getAttribute("height"),i&&"0"!=i||(o=!0)),o||(r.el.setAttribute("width",n),r.el.setAttribute("height",i),r.el.setAttribute("src",t))):setTimeout(e,5)}var n,i,r=this,o=!1;"undefined"==typeof t&&(t=this.path.at_2x_path),e()},n.devicePixelRatio>1&&(window.onload=function(){var t,n,i,r=document.getElementsByTagName("img"),o=[];for(t=0;t<r.length;t++)n=r[t],i=(n.src||"").split(".").pop(),console.log(i),"string"==typeof i&&"svg"!=i.toLowerCase()&&o.push(new e(n))})}(),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&e(r[i],n)===-1&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=e(o[r],n),i!==-1&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o,a=this.getListenersAsObject(t);for(r in a)if(a.hasOwnProperty(r))for(i=a[r].length;i--;)n=a[r][i],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function r(t){return"[object Array]"===f.call(t)}function o(t){var e=[];if(r(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;n<i;n++)e.push(t[n]);else e.push(t);return e}function a(t,e,n){if(!(this instanceof a))return new a(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var r=this;setTimeout(function(){r.check()})}function s(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,u=t.console,d="undefined"!=typeof u,f=Object.prototype.toString;a.prototype=new e,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,a=r.length;o<a;o++){var s=r[o];this.addImage(s)}}},a.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},a.prototype.check=function(){function t(t,r){return e.options.debug&&d&&u.log("confirm",t,r),e.progress(t),n++,n===i&&e.complete(),!0}var e=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;r<i;r++){var o=this.images[r];o.on("confirm",t),o.check()}},a.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var n=new a(this,t,e);return n.jqDeferred.promise(c(this))}),s.prototype=new e,s.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},a});var config={globals:{$controller:$(document.body).data("controller"),$action:$(document.body).data("action"),debug:!0,alertFallback:!1,timer:400,timerAnims:600,timerCascades:40,screenLg:"1400",screenMd:"992",screenSm:"768",screenXs:"480",ajaxPool:[]},paths:{apiPath:"",ajaxPath:""}};"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={},config.globals.alertFallback?console.log=function(t){alert(t)}:console.log=function(){});var NKD=NKD||{};NKD={exec:function(t,e){e=void 0===e||""===e?"init":e,""!==t&&NKD[t]&&"function"==typeof NKD[t][e]&&NKD[t][e]()},debug:function(t){config.globals.debug===!0&&console.log("debug: "+t)},init:function(){NKD.debug("NKD v1 main");var t=config.globals.$controller,e=config.globals.$action;NKD.exec("common"),NKD.exec(t,e)},common:{init:function(){$(".no-js").addClass("js").removeClass("no-js"),NKD.imagesloaded.hideHeader(),NKD.common.beforeLoad()},beforeLoad:function(){function t(t){setTimeout(function(){n=n.then(e[t])},10*t)}for(var e=[NKD.responsive.init,NKD.slideshows.init,NKD.accordians.init,NKD.modules.init,NKD.section.init,NKD.section_images.init,NKD.sidebar.init,NKD.utilities.init,NKD.video.init,NKD.isotope.init,NKD.commander.init,NKD.commander_colours.init,NKD.commander_images.init,NKD.commander_padding.init,NKD.commander_video.init,NKD.commander_animation.init,NKD.commander_remote.init,NKD.mobile.init,NKD.snapsvg.init,NKD.skrollr.init,NKD.common.afterLoad],n=$.Deferred().resolve(),i=0;i<=e.length;++i)t(i)},afterLoad:function(){var t=NKD.imagesloaded.scanImages();setTimeout(function(){NKD.googlemaps.init(),$.waypoints("refresh")},4e3),t.length>2,t.imagesLoaded().always(function(t){window.setTimeout(function(){NKD.imagesloaded.loadOut()},2e3)}),NKD.imagesloaded.placeImages(),NKD.animations.init(),NKD.masonry.init(),$(window).resize(function(){NKD.imagesloaded.placeImages()})}}},NKD.accordians={accordian:[],isActive:!1,container:".accordian-container",containerHeight:null,init:function(){$(".section.accordian").length>0&&(NKD.debug("accordian"),NKD.accordians.prepareAccordian(),$(window).resize(function(){$.each(NKD.slideshows.slideshow,function(t,e){e.stopAutoplay(),e.resizeFix()}),NKD.accordians.setAccordianHeight()}))},prepareAccordian:function(){var t=$(".section.accordian");t.addClass("swiper-slide"),t.wrapAll("<div class='swiper-wrapper' />"),$(".swiper-wrapper").wrap("<div class='js-accordian swiper-container' />"),NKD.accordians.setAccordianHeight(),NKD.accordians.initAccordian()},setAccordianHeight:function(){var t=$(".js-accordian");t.each(function(){var t=$(this).find(".swiper-slide"),e=0;t.css("height",""),t.each(function(){$(this).css("height",$(this).height())}),e=$(this).find(".swiper-slide-active").length>0?$(this).find(".swiper-slide-active").height():$(this).find(".swiper-slide").first().height(),$(this).height(e)})},initAccordian:function(){var t=$(".js-accordian");t.each(function(t,e){NKD.accordians.accordian[t]=new Swiper($(this)[0],{mode:"horizontal",loop:!0,releaseFormElements:!0,onSlideChangeEnd:function(t,e){var n=$(".js-accordian-nav"),i=n.find('a[data-target="'+t.activeLoopIndex+'"]');n.find("a").removeClass("active"),i.addClass("active"),$(".swiper-slide").css("height",""),$(".swiper-container").height($(".swiper-slide-active").height()),$(".swiper-wrapper").height($(".swiper-slide-active").height())}})}),NKD.accordians.setButtons()},setButtons:function(){var t=NKD.accordians.accordian,e=$(".js-accordian-nav").find(".btn, li"),n="scroll mousedown DOMMouseScroll mousewheel keyup";e.off("click"),e.on("click",function(i){i.preventDefault();var r=$(this),o=r.is("li")?r.find("a").data("target"):r.data("target");return $("html, body").unbind(n),$("html, body").bind(n,function(){$("html, body").stop().velocity("stop"),r.parents(".content").stop().velocity("stop")}),r.parents(".content").velocity("stop").velocity("scroll",{duration:1500,easing:"easeInOutQuad",offset:-($(".masthead").height()+13),complete:function(t){$("html, body").unbind(n)}}),r.addClass("active"),e.not(r).removeClass("active"),t[0].swipeTo(o),!1})}},NKD.animations={waypointArray:[],waypointTarget:".module",loaded:!1,init:function(){NKD.debug("animations"),NKD.animations.moduleWaypoints(),NKD.animations.contentWaypoints(),NKD.animations.imageWaypoints(),setTimeout(function(){NKD.animations.imageRandomize()},2e3)},moduleWaypoints:function(){var t=$(".module");t.each(function(){var t=$(this),e=$(this).data("anim");e.length>0&&(t.css("opacity",0),t.waypoint(function(n){"down"!==n||t.hasClass("focused")||t.velocity(e,{duration:500,display:"block",complete:function(){t.addClass("focused").show().css({opacity:1,transform:""}),$.waypoints("refresh")}})},{offset:"50%"}))})},contentWaypoints:function(){var t=$(".module").find(".mod");t.each(function(){var t=$(this),e=t.data("anim");e.length>0&&(t.css("opacity",0),t.waypoint(function(n){"down"!==n||t.hasClass("focused")||t.velocity(e,{display:"block",complete:function(){t.addClass("focused").show().css({opacity:1,transform:""}),$.waypoints("refresh")}})},{offset:"75%"}))})},imageWaypoints:function(){var t=$(".module").find("figure");t.each(function(){var t=$(this),e=$(this).data("anim");e.length>0&&!t.hasClass("disabled")&&(t.css("opacity",0),t.waypoint(function(n){"down"!==n||t.hasClass("focused")||setTimeout(function(){t.velocity(e,{stagger:80,display:"block",complete:function(){t.addClass("focused").show().css({opacity:1,transform:""}),$.waypoints("refresh")}})},400)},{offset:"75%"}))})},imageRandomize:function(){var t=$(".js-randomize");t.each(function(){var t=$(this),e=t.find(".item"),n=null;setInterval(function(){e.css("opacity",0);var i=e.get();i=_.shuffle(i),clearInterval(n),t.empty().append(i),e.not(":hidden").velocity("transition.slideUpIn",{stagger:200,duration:1e3,display:"block",complete:function(t){n=setTimeout(function(){$(t).velocity("fadeOut",{display:"block"})},4500)}})},5e3)})},isotopeWaypoint:function(){var t=$(".isotope");t.each(function(){var t=$(this),e=t.find(".item");window.location.hash||(e.css("opacity",0),t.waypoint(function(n){"down"!==n||t.hasClass("focused")||(t.addClass("focused"),e.velocity("transition.fadeIn",{stagger:80,display:"block",complete:function(){$(this).show().css({opacity:1,transform:""})}}))},{offset:"75%"}))})}},NKD.commander_animation={timer:null,init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander animation"),NKD.commander_animation.createListeners())},createListeners:function(){var t=$(".module");t.each(function(){var t=$(this);NKD.commander_animation.animationModule(t),NKD.commander_animation.animationContent(t)})},animationModule:function(t){var e=(t.data("id"),t.find(".moduleAnimationEdit")),n=e.find("select[name=module_anim]"),i=t.find(".js-save-handle");n.off("change"),n.on("change",function(){this.value.length>0&&t.velocity(this.value,{display:"block",complete:function(){$(this).show().css({opacity:1,transform:""})}}),i.addClass("active")})},animationContent:function(t){var e=(t.data("id"),t.find(".moduleAnimationEdit")),n=e.find("select[name=content_anim]"),i=t.find(".js-save-handle");n.off("change"),n.on("change",function(){var e=t.find(".mod");this.value.length>0&&e.velocity(this.value,{display:"block",complete:function(){$(this).show().css({opacity:1,transform:""})}}),i.addClass("active")})}},NKD.commander_colours={palette:[["#010101","#222222","#333333","#555555","#777777","#eeeeee","#fefefe"],["#9A2425","#B12A2A","#CA3230","#E43B35","#EA6551","#EF8B74","#F5B09B"],["#2E6D66","#3D8981","#48A29A","#51BBB0","#80C8BF","#A2D4CE","#C1E1DC"],["#090F12","#0F181C","#172226","#1E2D33","#465860","#70818A","#97A6AE"],["#968737","#B3A141","#D1BE4F","#F2DD5D","#F4E37F","#F6E99F","#F8EFBD"]],init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander colours"),NKD.commander_colours.createListeners())},createListeners:function(){var t=$(".module");t.each(function(t){var e=$(this);NKD.commander_colours.textShade(e),NKD.commander_colours.linkColour(e),setTimeout(function(){NKD.commander_colours.backgroundColour(e),NKD.commander_colours.backgroundGradient(e),NKD.commander_colours.backgroundGradientAdvanced(e)},200*t)})},textShade:function(t){var e=t.find("select[name=text_colour]"),n=t.find(".js-save-handle");e.off("change"),e.on("change",function(){t.removeClass(function(t,e){return(e.match(/\btext-\S+/g)||[]).join(" ")}).addClass(this.value),n.addClass("active")})},linkColour:function(t){var e=t.find("select[name=link_colour]"),n=t.find(".js-save-handle");e.off("change"),e.on("change",function(){t.removeClass(function(t,e){return(e.match(/\blink-\S+/g)||[]).join(" ")}).addClass(this.value),n.addClass("active")})},backgroundColour:function(t){var e=t.find("input[name=bg_colour]"),n=t.find("input[name=bg_gradient_top]"),i=t.find("input[name=bg_gradient_bottom]"),r=t.find("textarea[name=bg_gradient]"),o=t.find(".js-save-handle");e.spectrum({preferredFormat:"hex",allowEmpty:!0,showInitial:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:"More",togglePaletteLessText:"Less",clickoutFiresChange:!0,palette:NKD.commander_colours.palette,change:function(e){null!==e?(t.css("background",e.toHexString()),n.spectrum("set",null),i.spectrum("set",null),r.val(null)):t.css("background",""),o.addClass("active")}})},backgroundGradient:function(t){var e=t.find("input[name=bg_colour]"),n=t.find("input[name=bg_gradient_top]"),i=t.find("input[name=bg_gradient_bottom]"),r=t.find("textarea[name=bg_gradient]"),o=t.find(".js-save-handle");n.spectrum({preferredFormat:"hex",allowEmpty:!0,showInitial:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:"More",togglePaletteLessText:"Less",clickoutFiresChange:!0,palette:NKD.commander_colours.palette,change:function(n){if(null!==n&&null!==i.spectrum("get")){var a=n.toHexString(),s=i.spectrum("get").toHexString(),l={background:[a,"-moz-linear-gradient(top, "+a+" 0%, "+s+" 100%)","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+a+"), color-stop(100%,"+s+"))","-webkit-linear-gradient(top, "+a+" 0%,"+s+" 100%)","-o-linear-gradient(top, "+a+" 0%,"+s+" 100%)","-ms-linear-gradient(top, "+a+" 0%,"+s+" 100%)","linear-gradient(to bottom, "+a+" 0%,"+s+" 100%)"],filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+a+'", endColorstr="'+s+'",GradientType=0 )'};e.spectrum("set",null),r.val(null),NKD.utilities.cssMap(t,l)}else t.css("background","");o.addClass("active")}}),i.spectrum({preferredFormat:"hex",allowEmpty:!0,showInitial:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:"More",togglePaletteLessText:"Less",clickoutFiresChange:!0,palette:NKD.commander_colours.palette,change:function(i){if(null!==i&&null!==n.spectrum("get")){var a=n.spectrum("get").toHexString(),s=i.toHexString(),l={background:[a,"-moz-linear-gradient(top, "+a+" 0%, "+s+" 100%)","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+a+"), color-stop(100%,"+s+"))","-webkit-linear-gradient(top, "+a+" 0%,"+s+" 100%)","-o-linear-gradient(top, "+a+" 0%,"+s+" 100%)","-ms-linear-gradient(top, "+a+" 0%,"+s+" 100%)","linear-gradient(to bottom, "+a+" 0%,"+s+" 100%)"],filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+a+'", endColorstr="'+s+'",GradientType=0 )'};e.spectrum("set",null),r.val(null),NKD.utilities.cssMap(t,l)}else t.css("background","");o.addClass("active")}})},backgroundGradientAdvanced:function(t){var e=t.find("input[name=bg_colour]"),n=t.find("input[name=bg_gradient_top]"),i=t.find("input[name=bg_gradient_bottom]"),r=t.find("textarea[name=bg_gradient]"),o=t.find(".js-save-handle");r.off("keyup paste change"),r.on("keyup paste change",function(r){var a=$(this);e.spectrum("set",null),n.spectrum("set",null),i.spectrum("set",null),setTimeout(function(){t.css({background:"",filter:""}),t.attr("style",t.attr("style")+"; "+a.val())},100),o.addClass("active")})}},NKD.commander_images={$target_save:$(".js-save-handle"),$target_background:$(".js-background-handle"),$target_draggable:$(".js-image-move"),$target_edit:$(".js-edit-image"),$target_delete:$(".js-delete-image"),timer:null,init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander images"),NKD.commander_images.createListeners(),NKD.commander_images.imageUpload())},createListeners:function(){var t=$(".module");t.each(function(){var t=$(this),e=($(this).find(".mod"),t.find(".moduleBackgroundEdit")),n=e.find(".item");n.each(function(){NKD.commander_images.imageEdit($(this)),NKD.commander_images.imageAnimate($(this)),NKD.commander_images.imageDraggable($(this)),NKD.commander_images.imagePosition($(this)),NKD.commander_images.imageType($(this)),NKD.commander_images.imageSkrollr($(this)),NKD.commander_images.imageAnimation($(this)),NKD.commander_images.imageDelete($(this))})})},imageEdit:function(t){var e=t.find(".js-edit-image");e.off("click"),e.on("click",function(){var n=t.parents(".module"),i=(t.data("id"),t.find(".image-edit")),r=n.find(".edit-module");return i.toggleClass("active"),i.hasClass("active")?(e.parent().addClass("active"),i.velocity("slideDown",{complete:function(){n.css("min-height",r.height())}})):(i.velocity("slideUp",{complete:function(){e.parent().removeClass("active"),n.css("min-height",r.height())}}),NKD.commander_images.imageSave(t)),!1})},imageAnimate:function(t){var e=t.find(".js-animate-image");e.off("click"),e.on("click",function(){var n=t.parents(".module"),i=(t.data("id"),t.find(".image-animate")),r=n.find(".edit-module");return i.toggleClass("active"),i.hasClass("active")?(e.parent().addClass("active"),i.velocity("slideDown",{complete:function(){n.css("min-height",r.height())}})):(i.velocity("slideUp",{complete:function(){e.parent().removeClass("active"),n.css("min-height",r.height())}}),NKD.commander_images.imageSave(t)),!1})},imageDraggable:function(t){var e=t.parents(".module"),n=t.find(".js-image-move");n.off("click"),n.on("click",function(){var n=$(this).parent(),i=t.data("id"),r=e.find('[data-image-id="'+i+'"]');return n.toggleClass("active"),n.hasClass("active")?r.draggable({stop:function(n,i){window.clearTimeout(NKD.commander_images.timer);var o=t.find("select[name=x_unit]").val(),a=t.find("select[name=y_unit]").val(),s=t.find("input[name=screen_x]"),l=t.find("input[name=screen_y]"),c="px"==o?i.position.left:Math.floor(i.position.left/e.width()*100),u="px"==a?i.position.top:Math.floor(i.position.top/e.height()*100),d=$("body").attr("data-width");l.val(u),t.find("input[name=y_"+d+"]").val(u),r.attr("data-y-"+d,u),r.css("top",parseInt(u)+a),s.val(c),t.find("input[name=x_"+d+"]").val(c),r.attr("data-x-"+d,c),r.css("left",parseInt(c)+o),NKD.commander_images.timer=window.setTimeout(function(){NKD.commander_images.imageSave(t)},2e3)}}):r.draggable("destroy"),!1})},imagePosition:function(t){var e=t.parents(".module"),n=t.find("input[name=screen_y], input[name=screen_x]");n.off("keyup"),n.keyup(function(n){window.clearTimeout(NKD.commander_images.timer);var i=t.data("id"),r=t.find("select[name=x_unit]").val(),o=t.find("select[name=y_unit]").val(),a=e.find('[data-image-id="'+i+'"]'),s=$("body").attr("data-width"),l=null;if("screen_y"==$(this).attr("name")&&(l=$(this).val()>0?parseInt($(this).val())+o:"","none"==$(this).val()?(a.hide().attr("data-y-"+s,"none"),t.find("input[name=y_"+s+"]").val("none")):(a.show().attr("data-y-"+s,l),t.find("input[name=y_"+s+"]").val($(this).val()),a.css("top",l))),"screen_x"==$(this).attr("name")&&(l=$(this).val()>0?parseInt($(this).val())+r:"",t.find("input[name=x_"+s+"]").val(l),"none"==$(this).val()?(a.hide().attr("data-x-"+s,"none"),t.find("input[name=x_"+s+"]").val("none")):(a.show().attr("data-x-"+s,l),t.find("input[name=x_"+s+"]").val($(this).val()),a.css("left",l))),13==n.keyCode){NKD.commander_images.imageSave(t);var c=t.find(":input:visible");c.eq(c.index(this)+1).focus()}NKD.commander_images.timer=window.setTimeout(function(){NKD.commander_images.imageSave(t)},2e3)})},imageType:function(t){var e=this,n=t.data("id"),i=t.parents(".module"),r=i.find(".moduleBackgroundEdit"),o=r.find("select[name=type]");o.off("change"),o.on("change",function(){var r=i.find('[data-image-id="'+n+'"]');r.css({top:"",left:""}).removeClass("default stretch repeat custom fixed").addClass(this.value),e.imageSave(t)})},imageDelete:function(t){var e=t.parents(".module"),n=t.find(".js-delete-image");n.off("click"),n.on("click",function(){if(!confirm("Are you sure you want to delete this image?"))return!1;var n=t.data("id");return $.ajax({url:"/admin/image/"+n+"/delete",type:"GET",dataType:"json"}).done(function(i){t.remove(),e.find('[data-image-id="'+n+'"]').remove()}),!1})},imageSkrollr:function(t){var e=t.data("id"),n=t.parents(".module"),i=n.find(".moduleBackgroundEdit"),r=i.find("textarea[name=skrollr]");r.off("keyup"),r.on("keyup",function(){window.clearTimeout(NKD.commander_images.timer);n.find('[data-image-id="'+e+'"]');NKD.commander_images.timer=window.setTimeout(function(){NKD.commander_images.imageSave(t)},2e3)})},imageAnimation:function(t){var e=t.data("id"),n=t.parents(".module"),i=n.find(".moduleBackgroundEdit"),r=i.find("select[name=animation]");r.off("change"),r.on("change",function(){if(window.clearTimeout(NKD.commander_images.timer),this.value.length>0){var i=n.find('[data-image-id="'+e+'"]');i.velocity(this.value,{display:"block",complete:function(){$(this).show().css({opacity:1,transform:""})}})}NKD.commander_images.timer=window.setTimeout(function(){NKD.commander_images.imageSave(t)},2e3)})},imageSave:function(t){return $.ajax({url:"/admin/image/"+t.data("id")+"/update",type:"PUT",data:{id:t.data("id"),path:t.find("h6 a").text(),type:t.find("select[name=type]").val(),x_unit:t.find("select[name=x_unit]").val(),y_unit:t.find("select[name=y_unit]").val(),x_lg:t.find("input[name=x_lg]").val(),y_lg:t.find("input[name=y_lg]").val(),x_md:t.find("input[name=x_md]").val(),y_md:t.find("input[name=y_md]").val(),x_sm:t.find("input[name=x_sm]").val(),y_sm:t.find("input[name=y_sm]").val(),x_xs:t.find("input[name=x_xs]").val(),y_xs:t.find("input[name=y_xs]").val(),skrollr:t.find("textarea[name=skrollr]").val(),animation:t.find("select[name=animation]").val()},async:!1,dataType:"json"}),!1},imageUpload:function(){var t=$(".module");t.each(function(){var t=$(this),e=(t.data("id"),t.find(".moduleBackgroundEdit")),n=t.find('input[name="image"]'),i=t.find(".js-image-progress"),r=t.find(".js-images-container"),o=t.find(".js-images-loop");n.fileupload({dropZone:e,url:"/admin/image/upload",type:"POST",dataType:"json",beforeSend:function(){i.find(".progress-bar").css("width","0%")},done:function(t,e){r.append(e.result.image),o.empty().append(e.result.item),NKD.commander_images.createListeners()},progressall:function(t,e){var n=parseInt(e.loaded/e.total*100,10);i.find(".progress-bar").css("width",n+"%")}})})}},NKD.commander_padding={init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander padding"),NKD.commander_padding.createListeners())},createListeners:function(){var t=$(".module");t.each(function(){var t=$(this);NKD.commander_padding.modulePadding(t),NKD.commander_padding.moduleTemplate(t)})},modulePadding:function(t){var e=t.find(".js-spacing"),n=t.find(".mod"),i=t.find(".js-save-handle");e.off("keyup"),e.keyup(function(t){this.value=this.value.replace(/[^0-9\.]/g,""),n.css("padding-top",e[0].value+"px"),n.css("padding-bottom",e[1].value+"px"),i.addClass("active"),38==t.keyCode&&this.value++,40==t.keyCode&&this.value--,13==t.keyCode&&i.trigger("click")})},moduleTemplate:function(t){var e=t.find("select[name=template]"),n=t.find(".mod");t.find(".js-save-handle");e.off("change"),e.on("change",function(){return $.ajax({url:"/admin/module/template",type:"POST",data:{id:t.data("id"),template:$(this).val()},dataType:"json"}).done(function(t,e){n.empty().append(t.item)}),!1})}},NKD.commander_remote={init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander remote"),NKD.commander_remote.sectionImageUpload())},sectionImageUpload:function(){var t=$("#section_image_upload"),e=t.parents(".container"),n=e.find(".js-image-progress"),i=e.find(".js-images-container");t.fileupload({url:"/admin/image/upload",type:"POST",dataType:"json",beforeSend:function(){n.find(".progress-bar").css("width","0%")},done:function(t,e){i.append(e.result.image),NKD.commander_images.createListeners()},progressall:function(t,e){var i=parseInt(e.loaded/e.total*100,10);n.find(".progress-bar").css("width",i+"%")}})}},NKD.commander_video={timer:null,init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander video"),NKD.commander_video.createListeners(),NKD.commander_video.videoUpload())},createListeners:function(){var t=$(".module");t.each(function(){var t=$(this),e=($(this).find(".mod"),t.find(".moduleVideoEdit")),n=e.find(".item");n.each(function(){NKD.commander_video.videoType($(this)),NKD.commander_video.videoDelete($(this)),NKD.commander_video.videoLink($(this)),NKD.commander_video.videoEdit($(this))})})},videoEdit:function(t){var e=t.find(".js-edit-video");e.off("click"),e.on("click",function(){var n=t.parents(".module"),i=t.find(".video-edit"),r=n.find(".edit-module");return i.toggleClass("active"),i.hasClass("active")?(e.parent().addClass("active"),i.velocity("slideDown",{complete:function(){n.css("min-height",r.height())}})):(i.velocity("slideUp",{complete:function(){e.parent().removeClass("active"),n.css("min-height",r.height())}}),NKD.commander_video.videoSave(t)),!1})},videoType:function(t){var e=t.parents(".module"),n=e.find(".moduleVideoEdit"),i=n.find("select[name=type]");i.off("change"),i.on("change",function(){var n=e.find("video");n.css({top:"",left:""}).removeClass("default width1440 width1280 stretch").addClass(this.value),NKD.commander_video.videoSave(t)})},videoLink:function(t){var e=t.parents(".module"),n=e.find(".moduleVideoEdit"),i=n.find("input[name=link]"),r=e.find("video"),o=e.find(".js-play"),a=e.find(".js-save-handle");i.off("keyup"),i.keyup(function(){window.clearTimeout(NKD.commander_video.timer),a.addClass("active"),r.attr("data-link",this.value),o.show(),NKD.commander_video.timer=window.setTimeout(function(){NKD.commander_video.videoSave(t)},2e3)})},videoDelete:function(t){var e=t.parents(".module"),n=e.find(".moduleVideoEdit"),i=n.find(".js-delete-video");i.off("click"),i.on("click",function(){if(!confirm("Are you sure you want to delete this video?"))return!1;var i=e.find("video"),r=i.data("id");return $.ajax({url:"/admin/video/"+r+"/delete",type:"GET",dataType:"json"}).done(function(i){t.remove(),e.find(".js-video-container").empty(),n.find("input[name=video]").val(null).prop("disabled",!1)}),!1})},videoSave:function(t){var e=t.data("id"),n=t.parents(".module"),i=n.find(".moduleVideoEdit"),r=n.find(".js-play");return $.ajax({url:"/admin/video/"+e+"/update",type:"PUT",data:{id:e,path:i.find("input[name=path]").val(),type:i.find("select[name=type]").val(),link:i.find("input[name=link]").val()},async:!1,dataType:"json"}).done(function(t){t.link?0==r.length&&($(t.link).appendTo(n.find(".content")),n.find(".js-play").show()):n.find(".js-play-container").remove()}),!1},videoUpload:function(){var t=$(".module");t.each(function(){var t=$(this),e=t.find(".moduleVideoEdit"),n=e.find('input[name="video"]'),i=e.find(".js-video-progress"),r=t.find(".js-video-container"),o=t.find(".js-video-loop");
n.fileupload({dropZone:e,url:"/admin/video/upload",type:"POST",dataType:"json",before:function(){i.find(".progress-bar").css("width","0%")},done:function(t,n){r.append(n.result.video),e.find('input[name="path"]').val(n.result.file),e.find("input[name=video]").val(null).prop("disabled",!0),o.empty().append(n.result.item),NKD.commander_video.createListeners()},progressall:function(t,e){var n=parseInt(e.loaded/e.total*100,10);i.find(".progress-bar").css("width",n+"%")}})})}},NKD.commander={editable:[],$target_lock:$(".js-module-handle"),$target_spacing:$(".js-spacing-handle"),$target_save:$(".js-save-handle"),$target_publish:$(".js-publish-handle"),$target_background:$(".js-background-handle"),$target_draggable:$(".js-image-move"),$target_editable:$(".js-editable-handle"),init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("commander"),NKD.commander.initCommander())},initCommander:function(){this.moduleUnlockToggle(),this.moduleOptionsToggle(),this.moduleContentEdit(),this.moduleSort(),this.modulePublish(),this.moduleSave(),this.moduleDelete(),this.staffSort()},moduleUnlockToggle:function(){$(".js-module-handle").on("click",function(t){var e=$(this).parents(".module"),n=$(this).parent(),i=e.find(".commander-module");return e.toggleClass("active"),e.hasClass("active")?(n.addClass("active"),n.find("ul").addClass("show"),e.css("min-height",i.height()),$(".swiper-slide").addClass("swiper-no-swiping stop-swiping"),$.each(NKD.accordians.accordian,function(t,e){NKD.accordians.accordian[t].params.noSwiping=!0}),$.each(NKD.slideshows.slideshow,function(t,e){NKD.slideshows.slideshow[t].params.noSwiping=!0})):(NKD.commander.moduleEditClose(e),n.removeClass("active"),n.find("ul").removeClass("show"),e.find(".nav-cmds li").removeClass("active"),e.css("min-height",""),$(".swiper-slide").removeClass("swiper-no-swiping stop-swiping"),$.each(NKD.accordians.accordian,function(t,e){NKD.slideshows.slideshow[t].params.noSwiping=!1}),$.each(NKD.slideshows.slideshow,function(t,e){NKD.slideshows.slideshow[t].params.noSwiping=!1})),!1})},moduleOptionsToggle:function(){var t=this,e=$(".js-module-handle").parent().find("a[data-edit]");e.each(function(){$(this).off("click"),$(this).on("click",function(e){var n=$(this).parents(".module"),i=$(this).data("edit"),r=$(this).parents(".menus").find("li"),o=$(this).parent();return r.not(o).removeClass("active"),o.hasClass("active")?t.moduleEditClose(n):t.moduleEditOpen(n,n.find("."+i)),o.toggleClass("active"),!1})})},moduleEditOpen:function(t,e){var n=t.find(".edit-module");n.find(".container").hide(),e.show(),t.find(".video").css("position","relative"),n.velocity("slideDown",{complete:function(){t.css("min-height",n.height())}})},moduleEditClose:function(t){var e=t.find(".edit-module"),n=t.find(".commander-module");e.velocity("slideUp",{complete:function(){t.find(".video").css("position",""),t.css("min-height",n.height())}})},moduleContentEdit:function(){var t=$(".module");t.each(function(t,e){var n=$(this),i=($(this).find(".mod"),$(this).find(".js-editable-handle")),r=n.find("div[contenteditable]"),o=$(this).find(".js-save-handle");0==r.length&&i.hide(),i.on("click",function(){var e=(n.find("figure"),$(this).parent());return console.log("edit on"),r.length>0&&(e.toggleClass("active"),e.hasClass("active")?(r.attr("contenteditable",!0),NKD.commander.editable[t]=CKEDITOR.inline(r[0]),NKD.commander.editable[t].on("contentDom",function(){var e=NKD.commander.editable[t].editable();e.attachListener(e,"click",function(){o.addClass("active")})})):(console.log("edit off!"),r.attr("contenteditable",!1),NKD.commander.editable[t].destroy(),NKD.video.listenPlayButton(n))),!1})})},moduleDelete:function(){$(".js-delete-module").on("click",function(t){if(!confirm("Are you sure you want to delete this module?"))return!1;var e=$(this),n=e.parents(".module"),i=n.data("id");return $.ajax({url:"/admin/module/"+i+"/delete",type:"GET",dataType:"json"}).done(function(t){console.log(n),n.remove()}),!1})},modulePublish:function(){$(".js-publish-handle").on("click",function(t){var e=$(this),n=e.parents(".module"),i=n.data("id");e.toggleClass("active");var r=$(this).hasClass("active")?1:0;return $.ajax({url:"/admin/module/publish",type:"POST",data:{id:i,published:r},dataType:"json",error:function(t,n,i){e.toggleClass("active")}}).done(function(t){e.addClass("text-green")}),!1})},moduleSort:function(){var t=$(".js-sort-module"),e=$(".js-sort-module-handle");e.on("click",function(){return!1}),t.sortable({opacity:"0.5",handle:e,cursor:"move",tolerance:"pointer",axis:"y",revert:!0,update:function(e,n){var i=$(this),r=t.attr("data-source"),o=i.sortable("serialize",{key:"order[]"});$.ajax({url:r+"/order",type:"PUT",data:o,dataType:"json",error:function(t,e,n){i.sortable("cancel")}})}})},moduleSave:function(){$(".js-save-handle").on("click",function(t){var e=$(this),n=e.parents(".module"),i=n.data("id");return e.hasClass("active")&&(n.find(".js-editable-handle").parents("li").hasClass("active")&&n.find(".js-editable-handle").trigger("click"),$.ajax({url:"/admin/module/padding",type:"PUT",data:{id:i,padding_top:n.find(".js-spacing")[0].value,padding_bottom:n.find(".js-spacing")[1].value},async:!1,dataType:"json"}).error(function(t){e.addClass("active")}).success(function(t){e.removeClass("active")}),$.ajax({url:"/admin/module/colours",type:"PUT",data:{id:i,text_colour:n.find("select[name=text_colour]").val(),link_colour:n.find("select[name=link_colour]").val(),bg_colour:n.find("input[name=bg_colour]").val(),bg_gradient_top:n.find("input[name=bg_gradient_top]").val(),bg_gradient_bottom:n.find("input[name=bg_gradient_bottom]").val(),bg_gradient:n.find("textarea[name=bg_gradient]").val()},async:!1,dataType:"json"}).error(function(t){e.addClass("active")}).success(function(t){e.removeClass("active")}),$.ajax({url:"/admin/module/body",type:"PUT",data:{id:i,body:n.find("div[contenteditable]").html()},async:!1,dataType:"json"}).error(function(t){e.addClass("active")}).success(function(t){e.removeClass("active")}),$.ajax({url:"/admin/module/animation",type:"PUT",data:{id:i,module_anim:n.find("select[name=module_anim]").val(),content_anim:n.find("select[name=content_anim]").val()},async:!1,dataType:"json"})),!1})},staffSort:function(){var t=$(".js-sort-staff"),e=$(".js-sort-staff-handle");e.on("click",function(){return!1}),t.sortable({opacity:"0.5",handle:e,cursor:"move",tolerance:"pointer",axis:"y",revert:!0,update:function(e,n){var i=$(this),r=t.attr("data-source"),o=i.sortable("serialize",{key:"order[]"});$.ajax({url:r+"/order",type:"PUT",data:o,dataType:"json",error:function(t,e,n){i.sortable("cancel")}})}})}},NKD.googlemaps={map:null,init:function(){$("#js-map").length>0&&(NKD.debug("googlemaps"),NKD.googlemaps.embed())},embed:function(){var t=$("#js-map"),e=[{stylers:[{hue:"#00ffe6"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}];if(0===t.length)return!1;var n=new google.maps.LatLng(51.521626,(-.105813)),i={mapTypeId:google.maps.MapTypeId.ROADMAP,center:n,maxZoom:17,zoom:15,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,overviewMapControl:!1,visualRefresh:!0},r=new google.maps.Map(t[0],i);new google.maps.Marker({position:n,map:r,title:"NKD - 69 Turnmill Street",optimized:!0,icon:"/wp-content/themes/nkd/images/nkd-marker.png"});r.setOptions({styles:e}),$(".google-maps .overlay").on("click",function(){$(this).css({"pointer-events":"none"})})}},NKD.imagesloaded={images:null,imageIndex:0,loaded:!1,init:function(){NKD.debug("images"),NKD.imagesloaded.loadIn()},hideHeader:function(){},placeImages:function(){var t=$(".js-images-container").find("figure"),e=$("body").attr("data-width");t.each(function(){var t=$(this).attr("data-image-id"),n=$(this).attr("data-x-"+e),i=$(this).attr("data-y-"+e),r=$(this).attr("data-x-unit"),o=$(this).attr("data-y-unit"),a=$(this).parents(".module"),s=a.find(".moduleBackgroundEdit .item[data-id="+t+"] input[name=screen_x]"),l=a.find(".moduleBackgroundEdit .item[data-id="+t+"] input[name=screen_y]");s.val(n),l.val(i),"none"==n||"none"==i?$(this).hide().addClass("disabled"):$(this).css({top:i+o,left:n+r}).show().removeClass("disabled")})},scanImages:function(){var t=$("img");return NKD.imagesloaded.imageIndex=0,$("section figure").each(function(){var e=$(this),n=e.css("background-image").match(/url\((['"])?(.*?)\1\)/);n&&(t=t.add($("<img>").attr("src",n.pop())))}),t},loadIn:function(){var t=$(".loader-overlay"),e=t.find(".spinner"),n=e.find("img");n.velocity({rotateZ:7e3},{loop:!0,duration:22e3,easing:"ease"}),t.velocity("fadeIn",{complete:function(){e.velocity("transition.bounceDownIn")}})},loadOut:function(){var t=$(".loader-overlay"),e=(t.find(".spinner img"),$(".masthead"));$(".section").first();$("#skrollr-body").addClass("in"),e.waypoint("sticky",{direction:"down",offset:1800,stuckClass:"fixed"}),t.velocity("fadeOut",{duration:100,delay:1e3,complete:function(){}})}},NKD.isotope={isotopePool:[],isotopeDestroyed:!1,init:function(){NKD.debug("isotope"),NKD.isotope.createIsotope(),NKD.isotope.fileBrowseListeners()},createIsotope:function(){var t=this,e=$(".isotope");e.each(function(e,n){var i=$(this);i.imagesLoaded(function(){i.isotope({hiddenStyle:{opacity:0},visibleStyle:{opacity:1},itemSelector:".item",layoutMode:"fitRows",filter:"*",resizable:!1,masonry:{columnWidth:".item"}})}),$(window).resize(function(){t.checkIsotope(i)}),NKD.isotope.isotopePool.push(i),NKD.isotope.createListeners()})},checkIsotope:function(t){NKD.isotope.isotopeDestroyed=!1,t.isotope({masonry:{columnWidth:".item"}})},createListeners:function(){var t=$(".pills-staff .nav").find("a");t.on("click",function(){var t=$(this).parents(".nav").find("li"),e=$(this).parent(),n=e.hasClass("active")?"*":$(this).attr("data-filter");return t.not(e).removeClass("active"),e.toggleClass("active"),$(".isotope").isotope({filter:n}),!1})},fileBrowseListeners:function(){function t(t){var e=new RegExp("(?:[?&]|&)"+t+"=([^&]+)","i"),n=window.location.search.match(e);return n&&n.length>1?n[1]:null}var e=$(".isotope-files .item").find("a");e.on("click",function(){var e=t("CKEditorFuncNum"),n=$(this).attr("href");return window.opener.CKEDITOR.tools.callFunction(e,n),window.close(),!1})}},NKD.masonry={_getCol:function(t){var e=null,n=null;return e="sm"===NKD.responsive.view?"col-sm-":"col-md-",t&&t[0].className.split(" ").forEach(function(t){t.indexOf(e)>-1&&(n=parseInt(t.split(e)[1],10))}),n},init:function(){NKD.debug("masonry");var t=this;$(window).resize(function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return t.adjustPadding(),t.didResize=!1},window.setTimeout(e,300)}),this.adjustPadding()}},NKD.mobile={init:function(){NKD.debug("isotope"),NKD.mobile.menuDropdown()},menuDropdown:function(){var t=$("body"),e=$("#menu-collapse"),n=$("nav.mobile").find(".nav");n.collapse({toggle:!1}),n.collapse("hide"),e.off("click"),e.on("click",function(){return n.collapse("toggle"),!1}),n.on("hidden.bs.collapse",function(){e.find("a").removeClass("active"),t.removeClass("no-scroll"),n.scrollTop(0)}),n.on("show.bs.collapse",function(){e.find("a").addClass("active"),t.addClass("no-scroll")})}},NKD.modules={$modules:$(".module"),init:function(){$(".module").length>0&&(NKD.debug("modules"),NKD.modules.initModule())},initModule:function(){var t=$(".module");t.each(function(t,e){var n=($(this).data("id"),$(this).data("bg-colour"),$(this).data("bg-gradient-top")),i=$(this).data("bg-gradient-bottom");if(n&&i){var r={background:[n,"-moz-linear-gradient(top, "+n+" 0%, "+i+" 100%)","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+n+"), color-stop(100%,"+i+"))","-webkit-linear-gradient(top, "+n+" 0%,"+i+" 100%)","-o-linear-gradient(top, "+n+" 0%,"+i+" 100%)","-ms-linear-gradient(top, "+n+" 0%,"+i+" 100%)","linear-gradient(to bottom, "+n+" 0%,"+i+" 100%)"],filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+n+'", endColorstr="'+i+'",GradientType=0 )'};NKD.utilities.cssMap($(this),r)}})}},NKD.motionicons={scrollTo:0,skrollrInstance:null,init:function(){NKD.debug("icons")},startSkrollr:function(){this.skrollrInstance=skrollr.init({smoothScrolling:!0,smoothScrollingDuration:350,mobileDeceleration:.005}),this.skrollrInstance.setScrollTop(this.scrollTo,!0)},hideSVGPaths:function(t){var e=$(t).find("path");$.each(e,function(){var t=this.getTotalLength();$(this).css({"stroke-dashoffset":t,"stroke-dasharray":t+" "+t})})},drawObserver:function(){$(".icon-draw").each(function(){var t=$(this);t.attr("data-"+t.height()+"-bottom","@data-v:0"),t.attr("data-80-center","@data-v:1"),t.attr("data-v",0)}),this.drawSVGScrollr(),this.startSkrollr()},drawSVGScrollr:function(){$.each($(".icon-draw"),function(t){var e=$(this),n=e.data("last-v"),i=e.attr("data-v");n!=i&&e.data("last-v",i)}),requestAnimationFrame(this.drawSVGScrollr)},drawSVGPaths:function(t,e,n,i,r){$.each(t,function(t){var o=$(this),a=o.find("path");a.length;r&&a.sort(function(){return.5-Math.random()}),$.each(a,function(t){var r=this.getTotalLength();$(this).css({"stroke-dashoffset":r,"stroke-dasharray":r+" "+r}),$(this).delay(i*t).animate({"stroke-dashoffset":0},{duration:Math.floor(Math.random()*n)+e,easing:"easeInOutQuad"})})})},startSVGAnimation:function(t){this.drawSVGPaths(t,200,500,20,!0)}},NKD.responsive={view:null,init:function(){NKD.debug("responsive"),NKD.responsive.view=NKD.responsive.currentView(),$(window).resize(function(){NKD.responsive.view=NKD.responsive.currentView(),$("body").attr("data-width",NKD.responsive.view)}),$("body").attr("data-width",NKD.responsive.view)},currentView:function(){var t,e=$(document).width()+15;return e<config.globals.screenSm?t="xs":e>=config.globals.screenSm&&e<config.globals.screenMd?t="sm":e>=config.globals.screenMd&&e<config.globals.screenLg?t="md":e>=config.globals.screenLg&&(t="lg"),t}},NKD.section_images={timer:null,init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("section images"),NKD.section_images.createListeners(),NKD.section_images.imageUpload())},createListeners:function(){var t=$(".section");t.each(function(){var t=$(this),e=t.find(".sectionBackgroundEdit"),n=e.find(".item");n.each(function(){NKD.section_images.imageEdit($(this)),NKD.section_images.imageType($(this)),NKD.section_images.imageDelete($(this))})})},imageEdit:function(t){var e=t.find(".js-edit-image");e.off("click"),e.on("click",function(){var n=t.parents(".module"),i=(t.data("id"),t.find(".image-edit")),r=n.find(".edit-module");return i.toggleClass("active"),i.hasClass("active")?(e.parent().addClass("active"),i.velocity("slideDown",{complete:function(){n.css("min-height",r.height())}})):(i.velocity("slideUp",{complete:function(){e.parent().removeClass("active"),n.css("min-height",r.height())}}),NKD.section_images.imageSave(t)),!1})},imageType:function(t){var e=this,n=t.data("id"),i=t.parents(".section"),r=i.find(".sectionBackgroundEdit"),o=r.find("select[name=type]");o.off("change"),o.on("change",function(){var r=i.find('[data-image-id="'+n+'"]');r.css({top:"",left:""}).removeClass("default stretch repeat custom fixed").addClass(this.value),e.imageSave(t)})},imageDelete:function(t){var e=t.parents(".section"),n=e.find(".sectionBackgroundEdit"),i=n.find(".js-delete-image");i.off("click"),i.on("click",function(){var n=t.data("id");return $.ajax({url:"/admin/image/"+n+"/delete",type:"GET",dataType:"json"}).done(function(i){t.remove(),e.find('[data-image-id="'+n+'"]').remove()}),!1})},imageSave:function(t){return $.ajax({url:"/admin/image/"+t.data("id")+"/update",type:"PUT",data:{id:t.data("id"),path:t.find("h6 a").text(),type:t.find("select[name=type]").val()},async:!1,dataType:"json"}),!1},imageUpload:function(){var t=$(".section");t.each(function(){var t=$(this),e=(t.data("id"),t.find(".sectionBackgroundEdit")),n=e.find('input[name="image"]'),i=e.find(".js-image-progress"),r=t.find(".js-section-images-container"),o=e.find(".js-images-loop");n.fileupload({dropZone:e,url:"/admin/image/upload",type:"POST",dataType:"json",beforeSend:function(){i.find(".progress-bar").css("width","0%")},done:function(t,e){r.append(e.result.image),o.empty().append(e.result.item),NKD.section_images.createListeners()},progressall:function(t,e){var n=parseInt(e.loaded/e.total*100,10);i.find(".progress-bar").css("width",n+"%")}})})}},NKD.section={init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("section"),NKD.section.initSection())},initSection:function(){this.sectionUnlockToggle(),this.hoverSection(),this.sectionOptionsToggle(),this.sectionSort()},sectionUnlockToggle:function(){$(".js-section-handle").on("click",function(t){var e=$(this).parents(".section"),n=$(this).parent(),i=e.find(".commander-section");return e.toggleClass("active"),e.hasClass("active")?(n.addClass("active"),n.find("ul").addClass("show"),e.css("min-height",i.height())):(NKD.section.sectionEditClose(e),n.removeClass("active"),n.find("ul").removeClass("show"),e.find(".nav-cmds li").removeClass("active"),e.css("min-height","")),!1})},hoverSection:function(){$("section").on("mouseenter",function(){$(this).find(".commander-section").addClass("show"),$(this).find(".commander-module").addClass("show")}).on("mouseleave",function(){$(this).find(".commander-section").removeClass("show"),$(this).find(".commander-module").removeClass("show")})},sectionOptionsToggle:function(){var t=this,e=$(".js-section-handle").parent().find("a[data-edit]");e.each(function(){$(this).off("click"),$(this).on("click",function(e){var n=$(this).parents(".section"),i=$(this).data("edit"),r=$(this).parents(".menus").find("li"),o=$(this).parent();return r.not(o).removeClass("active"),o.hasClass("active")?t.sectionEditClose(n):t.sectionEditOpen(n,n.find("."+i)),o.toggleClass("active"),!1})})},sectionEditOpen:function(t,e){var n=t.find(".edit-section");n.find(".container").hide(),e.show(),n.velocity("slideDown",{complete:function(){t.css("min-height",n.height())}})},sectionEditClose:function(t){var e=t.find(".edit-section"),n=t.find(".commander-section");e.velocity("slideUp",{complete:function(){t.css("min-height",n.height())}})},sectionSort:function(){var t=$(".js-sort-section"),e=$(".js-sort-section-handle");e.on("click",function(){return!1}),t.sortable({opacity:"0.5",handle:e,cursor:"move",tolerance:"pointer",axis:"y",revert:!0,update:function(e,n){var i=$(this),r=t.attr("data-source"),o=i.sortable("serialize",{key:"order[]"});$.ajax({url:r+"/order",type:"PUT",data:o,dataType:"json",error:function(t,e,n){i.sortable("cancel")}})}})}},NKD.sidebar={init:function(){$('body[data-check="cms"]').length>0&&(NKD.debug("sidebar"),NKD.sidebar.startSidebar())},startSidebar:function(){$(".st-container").each(function(){var t=$(this);t.find(".st-trigger").on("click",function(e){return e.preventDefault(),NKD.sidebar.toggleSidebar(t),!1})})},toggleSidebar:function(t){var e=t.find(".st-menu").height();if(t.hasClass("st-menu-open"))t.removeClass("st-menu-open"),t.height(t.data("original-height")),setTimeout(function(){t.css("height","")},2e3);else{var n=t.height(),i=e>=n?e:n;t.data("original-height",n),t.removeClass().addClass("st-container st-effect-3"),t.height(i),t.find(".st-menu").height(i),setTimeout(function(){t.addClass("st-menu-open")},25)}}},NKD.skrollr={s:null,init:function(){$(".skrollr, .js-animate-image").length>0&&(NKD.debug("skrollr"),NKD.skrollr.startSkrollr())},startSkrollr:function(){$("*[data-anchor-target]").each(function(){var t=$(this).data("anchor-target");0===$(t).length&&($(this).removeAttr("data-anchor-target"),$(this).removeAttr("data-bottom*"),$(this).removeAttr("data-top*"))}),this.s=skrollr.init({render:function(t){}})},refreshSkrollr:function(t){this.s.refresh(t)}},NKD.slideshows={slideshow:[],isActive:!1,init:function(){$(".js-slideshow").length>0&&(NKD.debug("slideshows"),$(window).resize(function(){$.each(NKD.slideshows.slideshow,function(t,e){e.stopAutoplay(),e.resizeFix()}),NKD.slideshows.setSlideshowHeight()}),NKD.slideshows.setSlideshowHeight(),NKD.slideshows.initSlideshow())},initSlideshow:function(){var t=$(".js-slideshow");t.each(function(t,e){var n=$(this).parents(".module"),i=!!$(this).data("paginator")&&$(this).data("paginator"),r=n.find("[data-autoplay='true']").length>0?5e3:null;NKD.slideshows.slideshow[t]=new Swiper($(this)[0],{mode:"horizontal",pagination:i,paginationClickable:!0,loop:!0,autoplay:r}),NKD.slideshows.listenArrows(n,NKD.slideshows.slideshow[t])})},setSlideshowHeight:function(){var t=$(".js-slideshow");t.each(function(){var t=$(this).find(".swiper-slide"),e=0;t.css("height",""),t.each(function(){e=e>$(this).height()?e:$(this).height()}),$(this).height(e)})},listenArrows:function(t,e){t.find(".arrow-left").on("click",function(t){t.preventDefault(),e.swipePrev()}),t.find(".arrow-right").on("click",function(t){t.preventDefault(),e.swipeNext()})}},NKD.snapsvg={init:function(){$(".animated-icon").length>0&&(NKD.debug("snapsvg"),NKD.snapsvg.inlineSvgs(),NKD.snapsvg.startSvgAnimation(),NKD.snapsvg.updateSvgAnimation())},inlineSvgs:function(){$(".animated-icon").each(function(){var t=$(this),e=t.width(),n=t.height(),i=Snap(e,n),r=0!==e,o=0!==n;t.wrap('<div class="svg-container" data-src="'+t.attr("src")+'"></div>');var a=t.parent(".svg-container");Snap.load(a.data("src"),function(s){i.append(s);var l=a.children("svg"),c=l.children("svg");parseFloat(t.width()),parseFloat(t.height()),c[0].getAttribute("viewBox").split(" ");r&&c.attr("width",e),o&&c.attr("height",n),a.data("loaded",!0)}),i.appendTo(a.get(0)),a.data("snap",i),t.remove()})},startSvgAnimation:function(){$(".svg-container").each(function(){var t=$(this);t.attr("data-"+t.height()+"-bottom","@data-v:0"),t.attr("data-80-center","@data-v:1"),t.attr("data-v",0)})},updateSvgAnimation:function(){$(".svg-container").each(function(){var t=$(this),e=t.data("last-v"),n=t.attr("data-v");if(e!=n&&(t.hasClass("line")&&t.css({transform:"scale("+n+",1)"}),t.data("loaded"))){var i=$(this).data("snap");if(null!==i){var r=i.selectAll("path,line,polyline,polygon,ellipse");r.forEach(function(t){var e=t.attr("data-length");null===e&&(e=t.getTotalLength(),t.attr("data-length",e)),"undefined"==typeof e&&(e=1e3),t.attr({strokeDasharray:n*e+","+e})})}t.data("last-v",n)}}),requestAnimationFrame(NKD.snapsvg.updateSvgAnimation)}},NKD.utilities={init:function(){NKD.debug("utils"),NKD.utilities.ajaxConfig(),NKD.utilities.ckEditorConfig(),NKD.utilities.toggleOverlay(),NKD.utilities.createTooltips(),NKD.utilities.noDragDrop()},ajaxConfig:function(){$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}})},ckEditorConfig:function(){CKEDITOR.disableAutoInline=!0,CKEDITOR.allowedContent=!0,CKEDITOR.extraAllowedContent="i hr",CKEDITOR.dtd.$removeEmpty.i=!1,CKEDITOR.dtd.$removeEmpty.hr=!1,CKEDITOR.dtd.$removeEmpty.span=!1},toggleOverlay:function(){$("#js-toggle-overlay a").on("click",function(){return $(".dev-overlay").toggle(),!1})},noDragDrop:function(){$(document).bind("drop dragover",function(t){console.log(t.target)})},createTooltips:function(){$('[data-toggle="tooltip"]').tooltip({container:"body"})},randomNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},cssMap:function(t,e){$.each(e,function(e,n){if(n instanceof Array)for(var i=0,r=n.length;i<r;i++)t.css(e,n[i]);else t.css(e,n)})}},NKD.video={init:function(){$("video").length>0&&(NKD.debug("video"),NKD.video.setupVideos())},setupVideos:function(){var t=$(".module");t.each(function(){var t=$(this),e=t.find(".js-video-container"),n=e.find("video"),i=e.find(".overlay"),r=t.find(".js-play"),o=!!(n.data("video")&&n.data("video").length>0);n.css("opacity",0),i.css("opacity",0),NKD.video.listenPlayButton(t),NKD.video.showOverlay(t),o?r.show():r.hide()})},listenPlayButton:function(t){var e=this,n=t.find(".js-play");n.on("click",function(n){return n.preventDefault(),$(this).css("display","inline-block").hasClass("active")||($(this).addClass("active"),e.videoAnimateIn(t)),!1})},showOverlay:function(t){if("xs"!==$("body").attr("data-width")){var e=t.find(".js-video-container"),n=e.find("video"),i=e.find(".overlay");setTimeout(function(){i.velocity("transition.fadeIn",{stagger:250}),n.velocity("transition.fadeIn",{delay:400,stagger:250,complete:function(){}})},2e3)}},videoAnimateIn:function(t){var e=this,n=t.find(".js-video-container"),i=(n.find("video"),n.find(".overlay")),r=t.find(".js-play");r.velocity("fadeOut",{delay:400,display:"inline-block",complete:function(){e.vimeoEmbed(t),i.velocity({backgroundColor:"#000000",backgroundColorAlpha:1})}})},vimeoEmbed:function(t){var e=t.find(".js-video-container"),n=e.find(".vimeo"),i=e.find(".overlay"),r="http://vimeo.com/api/oembed.json?url=http%3A//vimeo.com/",o=t.find("video").data("video").split("/").pop(),a=t.height(),s=!1;$.ajax({url:r+o+"&autoplay="+s+"&height="+a+"&api=1&callback=?",dataType:"jsonp",timeout:3e3,beforeSend:function(){},success:function(r){n.find("iframe").length||n.append(r.html),e.find("video").velocity({opacity:0}),t.find(".mod").velocity({opacity:0},{delay:1e3,complete:function(){function e(t){}function r(t){i.velocity("fadeOut")}function o(t,e){}var a=t.find("iframe")[0],s=$f(a);s.addEvent("ready",function(){s.addEvent("pause",e),s.addEvent("finish",r),s.addEvent("playProgress",o),n.find("iframe").velocity("transition.fadeIn"),s.api("play")})}})},error:function(t,e){console.log("error, video could not load")}})}};